(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(e,r){var n=r.documentElement,i=e.devicePixelRatio||1;function s(){r.body?r.body.style.fontSize=12*i+"px":r.addEventListener("DOMContentLoaded",s)}s();function o(){var f=n.clientWidth/10;n.style.fontSize=f+"px"}if(o(),e.addEventListener("resize",o),e.addEventListener("pageshow",function(f){f.persisted&&o()}),i>=2){var a=r.createElement("body"),c=r.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),c.offsetHeight===1&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document);/**
* @vue/shared v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nT(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ir={},vp=[],af=()=>{},aK=()=>!1,B_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),iT=t=>t.startsWith("onUpdate:"),_i=Object.assign,sT=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},cK=Object.prototype.hasOwnProperty,Kt=(t,e)=>cK.call(t,e),Je=Array.isArray,_p=t=>G_(t)==="[object Map]",PF=t=>G_(t)==="[object Set]",ot=t=>typeof t=="function",hn=t=>typeof t=="string",yh=t=>typeof t=="symbol",jr=t=>t!==null&&typeof t=="object",UF=t=>(jr(t)||ot(t))&&ot(t.then)&&ot(t.catch),MF=Object.prototype.toString,G_=t=>MF.call(t),fK=t=>G_(t).slice(8,-1),DF=t=>G_(t)==="[object Object]",oT=t=>hn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wm=nT(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j_=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},lK=/-(\w)/g,df=j_(t=>t.replace(lK,(e,r)=>r?r.toUpperCase():"")),uK=/\B([A-Z])/g,n0=j_(t=>t.replace(uK,"-$1").toLowerCase()),z_=j_(t=>t.charAt(0).toUpperCase()+t.slice(1)),EN=j_(t=>t?`on${z_(t)}`:""),sh=(t,e)=>!Object.is(t,e),yN=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},kF=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},hK=t=>{const e=parseFloat(t);return isNaN(e)?t:e},dK=t=>{const e=hn(t)?Number(t):NaN;return isNaN(e)?t:e};let u5;const LF=()=>u5||(u5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function aT(t){if(Je(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=hn(n)?bK(n):aT(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(hn(t)||jr(t))return t}const pK=/;(?![^(]*\))/g,gK=/:([^]+)/,mK=/\/\*[^]*?\*\//g;function bK(t){const e={};return t.replace(mK,"").split(pK).forEach(r=>{if(r){const n=r.split(gK);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function cT(t){let e="";if(hn(t))e=t;else if(Je(t))for(let r=0;r<t.length;r++){const n=cT(t[r]);n&&(e+=n+" ")}else if(jr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const EK="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yK=nT(EK);function FF(t){return!!t||t===""}const $F=t=>!!(t&&t.__v_isRef===!0),Ap=t=>hn(t)?t:t==null?"":Je(t)||jr(t)&&(t.toString===MF||!ot(t.toString))?$F(t)?Ap(t.value):JSON.stringify(t,BF,2):String(t),BF=(t,e)=>$F(e)?BF(t,e.value):_p(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[wN(n,s)+" =>"]=i,r),{})}:PF(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>wN(r))}:yh(e)?wN(e):jr(e)&&!Je(e)&&!DF(e)?String(e):e,wN=(t,e="")=>{var r;return yh(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xs;class GF{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xs,!e&&xs&&(this.index=(xs.scopes||(xs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=xs;try{return xs=this,e()}finally{xs=r}}}on(){xs=this}off(){xs=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function fT(t){return new GF(t)}function jF(){return xs}function wK(t,e=!1){xs&&xs.cleanups.push(t)}let Nr;const vN=new WeakSet;class zF{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xs&&xs.active&&xs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vN.has(this)&&(vN.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||HF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,h5(this),qF(this);const e=Nr,r=cf;Nr=this,cf=!0;try{return this.fn()}finally{VF(this),Nr=e,cf=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hT(e);this.deps=this.depsTail=void 0,h5(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vN.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){rS(this)&&this.run()}get dirty(){return rS(this)}}let WF=0,Hm;function HF(t){t.flags|=8,t.next=Hm,Hm=t}function lT(){WF++}function uT(){if(--WF>0)return;let t;for(;Hm;){let e=Hm;for(Hm=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function qF(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function VF(t,e=!1){let r,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),hT(i,e),vK(i)):r=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=r,t.depsTail=n}function rS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(KF(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function KF(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Sb))return;t.globalVersion=Sb;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!rS(t)){t.flags&=-3;return}const r=Nr,n=cf;Nr=t,cf=!0;try{qF(t);const i=t.fn(t._value);(e.version===0||sh(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Nr=r,cf=n,VF(t,!0),t.flags&=-3}}function hT(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n),!r.subs)if(r.computed){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)hT(s,!0)}else r.map&&!e&&(r.map.delete(r.key),r.map.size||Rb.delete(r.target))}function vK(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let cf=!0;const JF=[];function wh(){JF.push(cf),cf=!1}function vh(){const t=JF.pop();cf=t===void 0?!0:t}function h5(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Nr;Nr=void 0;try{e()}finally{Nr=r}}}let Sb=0;class _K{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dT{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0}track(e){if(!Nr||!cf||Nr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Nr)r=this.activeLink=new _K(Nr,this),Nr.deps?(r.prevDep=Nr.depsTail,Nr.depsTail.nextDep=r,Nr.depsTail=r):Nr.deps=Nr.depsTail=r,Nr.flags&4&&XF(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Nr.depsTail,r.nextDep=void 0,Nr.depsTail.nextDep=r,Nr.depsTail=r,Nr.deps===r&&(Nr.deps=n)}return r}trigger(e){this.version++,Sb++,this.notify(e)}notify(e){lT();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{uT()}}}function XF(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)XF(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}const Rb=new WeakMap,Nd=Symbol(""),nS=Symbol(""),Tb=Symbol("");function bs(t,e,r){if(cf&&Nr){let n=Rb.get(t);n||Rb.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new dT),i.target=t,i.map=n,i.key=r),i.track()}}function Kl(t,e,r,n,i,s){const o=Rb.get(t);if(!o){Sb++;return}const a=c=>{c&&c.trigger()};if(lT(),e==="clear")o.forEach(a);else{const c=Je(t),f=c&&oT(r);if(c&&r==="length"){const l=Number(n);o.forEach((u,h)=>{(h==="length"||h===Tb||!yh(h)&&h>=l)&&a(u)})}else switch(r!==void 0&&a(o.get(r)),f&&a(o.get(Tb)),e){case"add":c?f&&a(o.get("length")):(a(o.get(Nd)),_p(t)&&a(o.get(nS)));break;case"delete":c||(a(o.get(Nd)),_p(t)&&a(o.get(nS)));break;case"set":_p(t)&&a(o.get(Nd));break}}uT()}function AK(t,e){var r;return(r=Rb.get(t))==null?void 0:r.get(e)}function v0(t){const e=Lt(t);return e===t?e:(bs(e,"iterate",Tb),ff(t)?e:e.map(Rs))}function pT(t){return bs(t=Lt(t),"iterate",Tb),t}const NK={__proto__:null,[Symbol.iterator](){return _N(this,Symbol.iterator,Rs)},concat(...t){return v0(this).concat(...t.map(e=>Je(e)?v0(e):e))},entries(){return _N(this,"entries",t=>(t[1]=Rs(t[1]),t))},every(t,e){return pl(this,"every",t,e,void 0,arguments)},filter(t,e){return pl(this,"filter",t,e,r=>r.map(Rs),arguments)},find(t,e){return pl(this,"find",t,e,Rs,arguments)},findIndex(t,e){return pl(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return pl(this,"findLast",t,e,Rs,arguments)},findLastIndex(t,e){return pl(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return pl(this,"forEach",t,e,void 0,arguments)},includes(...t){return AN(this,"includes",t)},indexOf(...t){return AN(this,"indexOf",t)},join(t){return v0(this).join(t)},lastIndexOf(...t){return AN(this,"lastIndexOf",t)},map(t,e){return pl(this,"map",t,e,void 0,arguments)},pop(){return zg(this,"pop")},push(...t){return zg(this,"push",t)},reduce(t,...e){return d5(this,"reduce",t,e)},reduceRight(t,...e){return d5(this,"reduceRight",t,e)},shift(){return zg(this,"shift")},some(t,e){return pl(this,"some",t,e,void 0,arguments)},splice(...t){return zg(this,"splice",t)},toReversed(){return v0(this).toReversed()},toSorted(t){return v0(this).toSorted(t)},toSpliced(...t){return v0(this).toSpliced(...t)},unshift(...t){return zg(this,"unshift",t)},values(){return _N(this,"values",Rs)}};function _N(t,e,r){const n=pT(t),i=n[e]();return n!==t&&!ff(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=r(s.value)),s}),i}const xK=Array.prototype;function pl(t,e,r,n,i,s){const o=pT(t),a=o!==t&&!ff(t),c=o[e];if(c!==xK[e]){const u=c.apply(t,s);return a?Rs(u):u}let f=r;o!==t&&(a?f=function(u,h){return r.call(this,Rs(u),h,t)}:r.length>2&&(f=function(u,h){return r.call(this,u,h,t)}));const l=c.call(o,f,n);return a&&i?i(l):l}function d5(t,e,r,n){const i=pT(t);let s=r;return i!==t&&(ff(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,Rs(a),c,t)}),i[e](s,...n)}function AN(t,e,r){const n=Lt(t);bs(n,"iterate",Tb);const i=n[e](...r);return(i===-1||i===!1)&&ET(r[0])?(r[0]=Lt(r[0]),n[e](...r)):i}function zg(t,e,r=[]){wh(),lT();const n=Lt(t)[e].apply(t,r);return uT(),vh(),n}const IK=nT("__proto__,__v_isRef,__isVue"),YF=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yh));function SK(t){yh(t)||(t=String(t));const e=Lt(this);return bs(e,"has",t),e.hasOwnProperty(t)}class ZF{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?BK:r$:s?t$:e$).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Je(e);if(!i){let c;if(o&&(c=NK[r]))return c;if(r==="hasOwnProperty")return SK}const a=Reflect.get(e,r,Xr(e)?e:n);return(yh(r)?YF.has(r):IK(r))||(i||bs(e,"get",r),s)?a:Xr(a)?o&&oT(r)?a:a.value:jr(a)?i?i$(a):au(a):a}}class QF extends ZF{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=kd(s);if(!ff(n)&&!kd(n)&&(s=Lt(s),n=Lt(n)),!Je(e)&&Xr(s)&&!Xr(n))return c?!1:(s.value=n,!0)}const o=Je(e)&&oT(r)?Number(r)<e.length:Kt(e,r),a=Reflect.set(e,r,n,Xr(e)?e:i);return e===Lt(i)&&(o?sh(n,s)&&Kl(e,"set",r,n):Kl(e,"add",r,n)),a}deleteProperty(e,r){const n=Kt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Kl(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!yh(r)||!YF.has(r))&&bs(e,"has",r),n}ownKeys(e){return bs(e,"iterate",Je(e)?"length":Nd),Reflect.ownKeys(e)}}class RK extends ZF{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const TK=new QF,CK=new RK,OK=new QF(!0);const gT=t=>t,W_=t=>Reflect.getPrototypeOf(t);function Ry(t,e,r=!1,n=!1){t=t.__v_raw;const i=Lt(t),s=Lt(e);r||(sh(e,s)&&bs(i,"get",e),bs(i,"get",s));const{has:o}=W_(i),a=n?gT:r?wT:Rs;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Ty(t,e=!1){const r=this.__v_raw,n=Lt(r),i=Lt(t);return e||(sh(t,i)&&bs(n,"has",t),bs(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Cy(t,e=!1){return t=t.__v_raw,!e&&bs(Lt(t),"iterate",Nd),Reflect.get(t,"size",t)}function p5(t,e=!1){!e&&!ff(t)&&!kd(t)&&(t=Lt(t));const r=Lt(this);return W_(r).has.call(r,t)||(r.add(t),Kl(r,"add",t,t)),this}function g5(t,e,r=!1){!r&&!ff(e)&&!kd(e)&&(e=Lt(e));const n=Lt(this),{has:i,get:s}=W_(n);let o=i.call(n,t);o||(t=Lt(t),o=i.call(n,t));const a=s.call(n,t);return n.set(t,e),o?sh(e,a)&&Kl(n,"set",t,e):Kl(n,"add",t,e),this}function m5(t){const e=Lt(this),{has:r,get:n}=W_(e);let i=r.call(e,t);i||(t=Lt(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&Kl(e,"delete",t,void 0),s}function b5(){const t=Lt(this),e=t.size!==0,r=t.clear();return e&&Kl(t,"clear",void 0,void 0),r}function Oy(t,e){return function(n,i){const s=this,o=s.__v_raw,a=Lt(o),c=e?gT:t?wT:Rs;return!t&&bs(a,"iterate",Nd),o.forEach((f,l)=>n.call(i,c(f),c(l),s))}}function Py(t,e,r){return function(...n){const i=this.__v_raw,s=Lt(i),o=_p(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=i[t](...n),l=r?gT:e?wT:Rs;return!e&&bs(s,"iterate",c?nS:Nd),{next(){const{value:u,done:h}=f.next();return h?{value:u,done:h}:{value:a?[l(u[0]),l(u[1])]:l(u),done:h}},[Symbol.iterator](){return this}}}}function gu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function PK(){const t={get(s){return Ry(this,s)},get size(){return Cy(this)},has:Ty,add:p5,set:g5,delete:m5,clear:b5,forEach:Oy(!1,!1)},e={get(s){return Ry(this,s,!1,!0)},get size(){return Cy(this)},has:Ty,add(s){return p5.call(this,s,!0)},set(s,o){return g5.call(this,s,o,!0)},delete:m5,clear:b5,forEach:Oy(!1,!0)},r={get(s){return Ry(this,s,!0)},get size(){return Cy(this,!0)},has(s){return Ty.call(this,s,!0)},add:gu("add"),set:gu("set"),delete:gu("delete"),clear:gu("clear"),forEach:Oy(!0,!1)},n={get(s){return Ry(this,s,!0,!0)},get size(){return Cy(this,!0)},has(s){return Ty.call(this,s,!0)},add:gu("add"),set:gu("set"),delete:gu("delete"),clear:gu("clear"),forEach:Oy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Py(s,!1,!1),r[s]=Py(s,!0,!1),e[s]=Py(s,!1,!0),n[s]=Py(s,!0,!0)}),[t,r,e,n]}const[UK,MK,DK,kK]=PK();function mT(t,e){const r=e?t?kK:DK:t?MK:UK;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Kt(r,i)&&i in n?r:n,i,s)}const LK={get:mT(!1,!1)},FK={get:mT(!1,!0)},$K={get:mT(!0,!1)};const e$=new WeakMap,t$=new WeakMap,r$=new WeakMap,BK=new WeakMap;function GK(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jK(t){return t.__v_skip||!Object.isExtensible(t)?0:GK(fK(t))}function au(t){return kd(t)?t:bT(t,!1,TK,LK,e$)}function n$(t){return bT(t,!1,OK,FK,t$)}function i$(t){return bT(t,!0,CK,$K,r$)}function bT(t,e,r,n,i){if(!jr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=jK(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function xd(t){return kd(t)?xd(t.__v_raw):!!(t&&t.__v_isReactive)}function kd(t){return!!(t&&t.__v_isReadonly)}function ff(t){return!!(t&&t.__v_isShallow)}function ET(t){return t?!!t.__v_raw:!1}function Lt(t){const e=t&&t.__v_raw;return e?Lt(e):t}function yT(t){return!Kt(t,"__v_skip")&&Object.isExtensible(t)&&kF(t,"__v_skip",!0),t}const Rs=t=>jr(t)?au(t):t,wT=t=>jr(t)?i$(t):t;function Xr(t){return t?t.__v_isRef===!0:!1}function mt(t){return s$(t,!1)}function vT(t){return s$(t,!0)}function s$(t,e){return Xr(t)?t:new zK(t,e)}class zK{constructor(e,r){this.dep=new dT,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Lt(e),this._value=r?e:Rs(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||ff(e)||kd(e);e=n?e:Lt(e),sh(e,r)&&(this._rawValue=e,this._value=n?e:Rs(e),this.dep.trigger())}}function no(t){return Xr(t)?t.value:t}const WK={get:(t,e,r)=>e==="__v_raw"?t:no(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Xr(i)&&!Xr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function o$(t){return xd(t)?t:new Proxy(t,WK)}function HK(t){const e=Je(t)?new Array(t.length):{};for(const r in t)e[r]=VK(t,r);return e}class qK{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return AK(Lt(this._object),this._key)}}function VK(t,e,r){const n=t[e];return Xr(n)?n:new qK(t,e,r)}class KK{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new dT(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Sb-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Nr!==this)return HF(this),!0}get value(){const e=this.dep.track();return KF(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function JK(t,e,r=!1){let n,i;return ot(t)?n=t:(n=t.get,i=t.set),new KK(n,i,r)}const Uy={},Rv=new WeakMap;let cd;function XK(t,e=!1,r=cd){if(r){let n=Rv.get(r);n||Rv.set(r,n=[]),n.push(t)}}function YK(t,e,r=Ir){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,f=k=>i?k:ff(k)||i===!1||i===0?Gl(k,1):Gl(k);let l,u,h,g,m=!1,w=!1;if(Xr(t)?(u=()=>t.value,m=ff(t)):xd(t)?(u=()=>f(t),m=!0):Je(t)?(w=!0,m=t.some(k=>xd(k)||ff(k)),u=()=>t.map(k=>{if(Xr(k))return k.value;if(xd(k))return f(k);if(ot(k))return c?c(k,2):k()})):ot(t)?e?u=c?()=>c(t,2):t:u=()=>{if(h){wh();try{h()}finally{vh()}}const k=cd;cd=l;try{return c?c(t,3,[g]):t(g)}finally{cd=k}}:u=af,e&&i){const k=u,L=i===!0?1/0:i;u=()=>Gl(k(),L)}const N=jF(),I=()=>{l.stop(),N&&sT(N.effects,l)};if(s&&e){const k=e;e=(...L)=>{k(...L),I()}}let C=w?new Array(t.length).fill(Uy):Uy;const M=k=>{if(!(!(l.flags&1)||!l.dirty&&!k))if(e){const L=l.run();if(i||m||(w?L.some(($,V)=>sh($,C[V])):sh(L,C))){h&&h();const $=cd;cd=l;try{const V=[L,C===Uy?void 0:w&&C[0]===Uy?[]:C,g];c?c(e,3,V):e(...V),C=L}finally{cd=$}}}else l.run()};return a&&a(M),l=new zF(u),l.scheduler=o?()=>o(M,!1):M,g=k=>XK(k,!1,l),h=l.onStop=()=>{const k=Rv.get(l);if(k){if(c)c(k,4);else for(const L of k)L();Rv.delete(l)}},e?n?M(!0):C=l.run():o?o(M.bind(null,!0),!0):l.run(),I.pause=l.pause.bind(l),I.resume=l.resume.bind(l),I.stop=I,I}function Gl(t,e=1/0,r){if(e<=0||!jr(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Xr(t))Gl(t.value,e,r);else if(Je(t))for(let n=0;n<t.length;n++)Gl(t[n],e,r);else if(PF(t)||_p(t))t.forEach(n=>{Gl(n,e,r)});else if(DF(t)){for(const n in t)Gl(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Gl(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function HE(t,e,r,n){try{return n?t(...n):t()}catch(i){H_(i,e,r)}}function pf(t,e,r,n){if(ot(t)){const i=HE(t,e,r,n);return i&&UF(i)&&i.catch(s=>{H_(s,e,r)}),i}if(Je(t)){const i=[];for(let s=0;s<t.length;s++)i.push(pf(t[s],e,r,n));return i}}function H_(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ir;if(e){let a=e.parent;const c=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const l=a.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,c,f)===!1)return}a=a.parent}if(s){wh(),HE(s,null,10,[t,c,f]),vh();return}}ZK(t,r,i,n,o)}function ZK(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}let Cb=!1,iS=!1;const Ts=[];let Sf=0;const Np=[];let Mu=null,X0=0;const a$=Promise.resolve();let _T=null;function Ld(t){const e=_T||a$;return t?e.then(this?t.bind(this):t):e}function QK(t){let e=Cb?Sf+1:0,r=Ts.length;for(;e<r;){const n=e+r>>>1,i=Ts[n],s=Ob(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function AT(t){if(!(t.flags&1)){const e=Ob(t),r=Ts[Ts.length-1];!r||!(t.flags&2)&&e>=Ob(r)?Ts.push(t):Ts.splice(QK(e),0,t),t.flags|=1,c$()}}function c$(){!Cb&&!iS&&(iS=!0,_T=a$.then(l$))}function eJ(t){Je(t)?Np.push(...t):Mu&&t.id===-1?Mu.splice(X0+1,0,t):t.flags&1||(Np.push(t),t.flags|=1),c$()}function E5(t,e,r=Cb?Sf+1:0){for(;r<Ts.length;r++){const n=Ts[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ts.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function f$(t){if(Np.length){const e=[...new Set(Np)].sort((r,n)=>Ob(r)-Ob(n));if(Np.length=0,Mu){Mu.push(...e);return}for(Mu=e,X0=0;X0<Mu.length;X0++){const r=Mu[X0];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Mu=null,X0=0}}const Ob=t=>t.id==null?t.flags&2?-1:1/0:t.id;function l$(t){iS=!1,Cb=!0;const e=af;try{for(Sf=0;Sf<Ts.length;Sf++){const r=Ts[Sf];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),HE(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Sf<Ts.length;Sf++){const r=Ts[Sf];r&&(r.flags&=-2)}Sf=0,Ts.length=0,f$(),Cb=!1,_T=null,(Ts.length||Np.length)&&l$()}}let Us=null,u$=null;function Tv(t){const e=Us;return Us=t,u$=t&&t.type.__scopeId||null,e}function Rm(t,e=Us,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&C5(-1);const s=Tv(e);let o;try{o=t(...i)}finally{Tv(s),n._d&&C5(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function h$(t,e){if(Us===null)return t;const r=Y_(Us),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=Ir]=e[i];s&&(ot(s)&&(s={mounted:s,updated:s}),s.deep&&Gl(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Kh(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(wh(),pf(c,r,8,[t.el,a,t,e]),vh())}}const d$=Symbol("_vte"),p$=t=>t.__isTeleport,qm=t=>t&&(t.disabled||t.disabled===""),tJ=t=>t&&(t.defer||t.defer===""),y5=t=>typeof SVGElement<"u"&&t instanceof SVGElement,w5=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,sS=(t,e)=>{const r=t&&t.to;return hn(r)?e?e(r):null:r},rJ={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,c,f){const{mc:l,pc:u,pbc:h,o:{insert:g,querySelector:m,createText:w,createComment:N}}=f,I=qm(e.props);let{shapeFlag:C,children:M,dynamicChildren:k}=e;if(t==null){const L=e.el=w(""),$=e.anchor=w("");g(L,r,n),g($,r,n);const V=(O,F)=>{C&16&&(i&&i.isCE&&(i.ce._teleportTarget=O),l(M,O,F,i,s,o,a,c))},P=()=>{const O=e.target=sS(e.props,m),F=m$(O,e,w,g);O&&(o!=="svg"&&y5(O)?o="svg":o!=="mathml"&&w5(O)&&(o="mathml"),I||(V(O,F),N1(e)))};I&&(V(r,$),N1(e)),tJ(e.props)?Qs(P,s):P()}else{e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,$=e.target=t.target,V=e.targetAnchor=t.targetAnchor,P=qm(t.props),O=P?r:$,F=P?L:V;if(o==="svg"||y5($)?o="svg":(o==="mathml"||w5($))&&(o="mathml"),k?(h(t.dynamicChildren,k,O,i,s,o,a),RT(t,e,!0)):c||u(t,e,O,F,i,s,o,a,!1),I)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):My(e,r,L,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=sS(e.props,m);U&&My(e,U,null,f,0)}else P&&My(e,$,V,f,1);N1(e)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:c,targetStart:f,targetAnchor:l,target:u,props:h}=t;if(u&&(i(f),i(l)),s&&i(c),o&16){const g=s||!qm(h);for(let m=0;m<a.length;m++){const w=a[m];n(w,e,r,g,!!w.dynamicChildren)}}},move:My,hydrate:nJ};function My(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:f,props:l}=t,u=s===2;if(u&&n(o,e,r),(!u||qm(l))&&c&16)for(let h=0;h<f.length;h++)i(f[h],e,r,2);u&&n(a,e,r)}function nJ(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:f,createText:l}},u){const h=e.target=sS(e.props,c);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(qm(e.props))e.anchor=u(o(t),e,a(t),r,n,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||m$(h,e,l,f),u(g&&o(g),e,h,r,n,i,s)}N1(e)}return e.anchor&&o(e.anchor)}const g$=rJ;function N1(t){const e=t.ctx;if(e&&e.ut){let r=t.targetStart;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}function m$(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[d$]=s,t&&(n(i,t),n(s,t)),s}const Du=Symbol("_leaveCb"),Dy=Symbol("_enterCb");function iJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _h(()=>{t.isMounted=!0}),xT(()=>{t.isUnmounting=!0}),t}const Go=[Function,Array],b$={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Go,onEnter:Go,onAfterEnter:Go,onEnterCancelled:Go,onBeforeLeave:Go,onLeave:Go,onAfterLeave:Go,onLeaveCancelled:Go,onBeforeAppear:Go,onAppear:Go,onAfterAppear:Go,onAppearCancelled:Go},E$=t=>{const e=t.subTree;return e.component?E$(e.component):e},sJ={name:"BaseTransition",props:b$,setup(t,{slots:e}){const r=il(),n=iJ();return()=>{const i=e.default&&v$(e.default(),!0);if(!i||!i.length)return;const s=y$(i),o=Lt(t),{mode:a}=o;if(n.isLeaving)return NN(s);const c=v5(s);if(!c)return NN(s);let f=oS(c,o,n,r,h=>f=h);c.type!==da&&Pb(c,f);const l=r.subTree,u=l&&v5(l);if(u&&u.type!==da&&!ud(c,u)&&E$(r).type!==da){const h=oS(u,o,n,r);if(Pb(u,h),a==="out-in"&&c.type!==da)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave},NN(s);a==="in-out"&&c.type!==da&&(h.delayLeave=(g,m,w)=>{const N=w$(n,u);N[String(u.key)]=u,g[Du]=()=>{m(),g[Du]=void 0,delete f.delayedLeave},f.delayedLeave=w})}return s}}};function y$(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==da){e=r;break}}return e}const oJ=sJ;function w$(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function oS(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:g,onAfterLeave:m,onLeaveCancelled:w,onBeforeAppear:N,onAppear:I,onAfterAppear:C,onAppearCancelled:M}=e,k=String(t.key),L=w$(r,t),$=(O,F)=>{O&&pf(O,n,9,F)},V=(O,F)=>{const U=F[1];$(O,F),Je(O)?O.every(b=>b.length<=1)&&U():O.length<=1&&U()},P={mode:o,persisted:a,beforeEnter(O){let F=c;if(!r.isMounted)if(s)F=N||c;else return;O[Du]&&O[Du](!0);const U=L[k];U&&ud(t,U)&&U.el[Du]&&U.el[Du](),$(F,[O])},enter(O){let F=f,U=l,b=u;if(!r.isMounted)if(s)F=I||f,U=C||l,b=M||u;else return;let y=!1;const d=O[Dy]=p=>{y||(y=!0,p?$(b,[O]):$(U,[O]),P.delayedLeave&&P.delayedLeave(),O[Dy]=void 0)};F?V(F,[O,d]):d()},leave(O,F){const U=String(t.key);if(O[Dy]&&O[Dy](!0),r.isUnmounting)return F();$(h,[O]);let b=!1;const y=O[Du]=d=>{b||(b=!0,F(),d?$(w,[O]):$(m,[O]),O[Du]=void 0,L[U]===t&&delete L[U])};L[U]=t,g?V(g,[O,y]):y()},clone(O){const F=oS(O,e,r,n,i);return i&&i(F),F}};return P}function NN(t){if(q_(t))return t=oh(t),t.children=null,t}function v5(t){if(!q_(t))return p$(t.type)&&t.children?y$(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ot(r.default))return r.default()}}function Pb(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pb(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function v$(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===ro?(o.patchFlag&128&&i++,n=n.concat(v$(o.children,e,a))):(e||o.type!==da)&&n.push(a!=null?oh(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ys(t,e){return ot(t)?(()=>_i({name:t.name},e,{setup:t}))():t}function _$(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function aS(t,e,r,n,i=!1){if(Je(t)){t.forEach((m,w)=>aS(m,e&&(Je(e)?e[w]:e),r,n,i));return}if(Vm(n)&&!i)return;const s=n.shapeFlag&4?Y_(n.component):n.el,o=i?null:s,{i:a,r:c}=t,f=e&&e.r,l=a.refs===Ir?a.refs={}:a.refs,u=a.setupState,h=Lt(u),g=u===Ir?()=>!1:m=>Kt(h,m);if(f!=null&&f!==c&&(hn(f)?(l[f]=null,g(f)&&(u[f]=null)):Xr(f)&&(f.value=null)),ot(c))HE(c,a,12,[o,l]);else{const m=hn(c),w=Xr(c);if(m||w){const N=()=>{if(t.f){const I=m?g(c)?u[c]:l[c]:c.value;i?Je(I)&&sT(I,s):Je(I)?I.includes(s)||I.push(s):m?(l[c]=[s],g(c)&&(u[c]=l[c])):(c.value=[s],t.k&&(l[t.k]=c.value))}else m?(l[c]=o,g(c)&&(u[c]=o)):w&&(c.value=o,t.k&&(l[t.k]=o))};o?(N.id=-1,Qs(N,r)):N()}}}const Vm=t=>!!t.type.__asyncLoader,q_=t=>t.type.__isKeepAlive;function NT(t,e){A$(t,"a",e)}function V_(t,e){A$(t,"da",e)}function A$(t,e,r=Ti){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(K_(e,n,r),r){let i=r.parent;for(;i&&i.parent;)q_(i.parent.vnode)&&aJ(n,e,r,i),i=i.parent}}function aJ(t,e,r,n){const i=K_(e,t,n,!0);i0(()=>{sT(n[e],i)},r)}function K_(t,e,r=Ti,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{wh();const a=VE(r),c=pf(e,r,t,o);return a(),vh(),c});return n?i.unshift(s):i.push(s),s}}const cu=t=>(e,r=Ti)=>{(!X_||t==="sp")&&K_(t,(...n)=>e(...n),r)},N$=cu("bm"),_h=cu("m"),cJ=cu("bu"),fJ=cu("u"),xT=cu("bum"),i0=cu("um"),lJ=cu("sp"),uJ=cu("rtg"),hJ=cu("rtc");function dJ(t,e=Ti){K_("ec",t,e)}const x$="components";function pJ(t,e){return mJ(x$,t,!0,e)||t}const gJ=Symbol.for("v-ndc");function mJ(t,e,r=!0,n=!1){const i=Us||Ti;if(i){const s=i.type;if(t===x$){const a=nX(s,!1);if(a&&(a===e||a===df(e)||a===z_(df(e))))return s}const o=_5(i[t]||s[t],e)||_5(i.appContext[t],e);return!o&&n?s:o}}function _5(t,e){return t&&(t[e]||t[df(e)]||t[z_(df(e))])}const cS=t=>t?W$(t)?Y_(t):cS(t.parent):null,Km=_i(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cS(t.parent),$root:t=>cS(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>IT(t),$forceUpdate:t=>t.f||(t.f=()=>{AT(t.update)}),$nextTick:t=>t.n||(t.n=Ld.bind(t.proxy)),$watch:t=>FJ.bind(t)}),xN=(t,e)=>t!==Ir&&!t.__isScriptSetup&&Kt(t,e),bJ={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let f;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(xN(n,e))return o[e]=1,n[e];if(i!==Ir&&Kt(i,e))return o[e]=2,i[e];if((f=t.propsOptions[0])&&Kt(f,e))return o[e]=3,s[e];if(r!==Ir&&Kt(r,e))return o[e]=4,r[e];fS&&(o[e]=0)}}const l=Km[e];let u,h;if(l)return e==="$attrs"&&bs(t.attrs,"get",""),l(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==Ir&&Kt(r,e))return o[e]=4,r[e];if(h=c.config.globalProperties,Kt(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return xN(i,e)?(i[e]=r,!0):n!==Ir&&Kt(n,e)?(n[e]=r,!0):Kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||t!==Ir&&Kt(t,o)||xN(e,o)||(a=s[0])&&Kt(a,o)||Kt(n,o)||Kt(Km,o)||Kt(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Kt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function A5(t){return Je(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let fS=!0;function EJ(t){const e=IT(t),r=t.proxy,n=t.ctx;fS=!1,e.beforeCreate&&N5(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:f,created:l,beforeMount:u,mounted:h,beforeUpdate:g,updated:m,activated:w,deactivated:N,beforeDestroy:I,beforeUnmount:C,destroyed:M,unmounted:k,render:L,renderTracked:$,renderTriggered:V,errorCaptured:P,serverPrefetch:O,expose:F,inheritAttrs:U,components:b,directives:y,filters:d}=e;if(f&&yJ(f,n,null),o)for(const x in o){const R=o[x];ot(R)&&(n[x]=R.bind(r))}if(i){const x=i.call(r,r);jr(x)&&(t.data=au(x))}if(fS=!0,s)for(const x in s){const R=s[x],S=ot(R)?R.bind(r,r):ot(R.get)?R.get.bind(r,r):af,v=!ot(R)&&ot(R.set)?R.set.bind(r):af,A=kr({get:S,set:v});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>A.value,set:_=>A.value=_})}if(a)for(const x in a)I$(a[x],n,r,x);if(c){const x=ot(c)?c.call(r):c;Reflect.ownKeys(x).forEach(R=>{Jm(R,x[R])})}l&&N5(l,t,"c");function E(x,R){Je(R)?R.forEach(S=>x(S.bind(r))):R&&x(R.bind(r))}if(E(N$,u),E(_h,h),E(cJ,g),E(fJ,m),E(NT,w),E(V_,N),E(dJ,P),E(hJ,$),E(uJ,V),E(xT,C),E(i0,k),E(lJ,O),Je(F))if(F.length){const x=t.exposed||(t.exposed={});F.forEach(R=>{Object.defineProperty(x,R,{get:()=>r[R],set:S=>r[R]=S})})}else t.exposed||(t.exposed={});L&&t.render===af&&(t.render=L),U!=null&&(t.inheritAttrs=U),b&&(t.components=b),y&&(t.directives=y),O&&_$(t)}function yJ(t,e,r=af){Je(t)&&(t=lS(t));for(const n in t){const i=t[n];let s;jr(i)?"default"in i?s=io(i.from||n,i.default,!0):s=io(i.from||n):s=io(i),Xr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function N5(t,e,r){pf(Je(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function I$(t,e,r,n){let i=n.includes(".")?$$(r,n):()=>r[n];if(hn(t)){const s=e[t];ot(s)&&wi(i,s)}else if(ot(t))wi(i,t.bind(r));else if(jr(t))if(Je(t))t.forEach(s=>I$(s,e,r,n));else{const s=ot(t.handler)?t.handler.bind(r):e[t.handler];ot(s)&&wi(i,s,t)}}function IT(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(f=>Cv(c,f,o,!0)),Cv(c,e,o)),jr(e)&&s.set(e,c),c}function Cv(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&Cv(t,s,r,!0),i&&i.forEach(o=>Cv(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=wJ[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wJ={data:x5,props:I5,emits:I5,methods:Tm,computed:Tm,beforeCreate:_s,created:_s,beforeMount:_s,mounted:_s,beforeUpdate:_s,updated:_s,beforeDestroy:_s,beforeUnmount:_s,destroyed:_s,unmounted:_s,activated:_s,deactivated:_s,errorCaptured:_s,serverPrefetch:_s,components:Tm,directives:Tm,watch:_J,provide:x5,inject:vJ};function x5(t,e){return e?t?function(){return _i(ot(t)?t.call(this,this):t,ot(e)?e.call(this,this):e)}:e:t}function vJ(t,e){return Tm(lS(t),lS(e))}function lS(t){if(Je(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function _s(t,e){return t?[...new Set([].concat(t,e))]:e}function Tm(t,e){return t?_i(Object.create(null),t,e):e}function I5(t,e){return t?Je(t)&&Je(e)?[...new Set([...t,...e])]:_i(Object.create(null),A5(t),A5(e??{})):e}function _J(t,e){if(!t)return e;if(!e)return t;const r=_i(Object.create(null),t);for(const n in e)r[n]=_s(t[n],e[n]);return r}function S$(){return{app:null,config:{isNativeTag:aK,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AJ=0;function NJ(t,e){return function(n,i=null){ot(n)||(n=_i({},n)),i!=null&&!jr(i)&&(i=null);const s=S$(),o=new WeakSet,a=[];let c=!1;const f=s.app={_uid:AJ++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:sX,get config(){return s.config},set config(l){},use(l,...u){return o.has(l)||(l&&ot(l.install)?(o.add(l),l.install(f,...u)):ot(l)&&(o.add(l),l(f,...u))),f},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),f},component(l,u){return u?(s.components[l]=u,f):s.components[l]},directive(l,u){return u?(s.directives[l]=u,f):s.directives[l]},mount(l,u,h){if(!c){const g=f._ceVNode||$e(n,i);return g.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(g,l):t(g,l,h),c=!0,f._container=l,l.__vue_app__=f,Y_(g.component)}},onUnmount(l){a.push(l)},unmount(){c&&(pf(a,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(l,u){return s.provides[l]=u,f},runWithContext(l){const u=Id;Id=f;try{return l()}finally{Id=u}}};return f}}let Id=null;function Jm(t,e){if(Ti){let r=Ti.provides;const n=Ti.parent&&Ti.parent.provides;n===r&&(r=Ti.provides=Object.create(n)),r[t]=e}}function io(t,e,r=!1){const n=Ti||Us;if(n||Id){const i=Id?Id._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&ot(e)?e.call(n&&n.proxy):e}}function xJ(){return!!(Ti||Us||Id)}const R$={},T$=()=>Object.create(R$),C$=t=>Object.getPrototypeOf(t)===R$;function IJ(t,e,r,n=!1){const i={},s=T$();t.propsDefaults=Object.create(null),O$(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:n$(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function SJ(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Lt(i),[c]=t.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let u=0;u<l.length;u++){let h=l[u];if(J_(t.emitsOptions,h))continue;const g=e[h];if(c)if(Kt(s,h))g!==s[h]&&(s[h]=g,f=!0);else{const m=df(h);i[m]=uS(c,a,m,g,t,!1)}else g!==s[h]&&(s[h]=g,f=!0)}}}else{O$(t,e,i,s)&&(f=!0);let l;for(const u in a)(!e||!Kt(e,u)&&((l=n0(u))===u||!Kt(e,l)))&&(c?r&&(r[u]!==void 0||r[l]!==void 0)&&(i[u]=uS(c,a,u,void 0,t,!0)):delete i[u]);if(s!==a)for(const u in s)(!e||!Kt(e,u))&&(delete s[u],f=!0)}f&&Kl(t.attrs,"set","")}function O$(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Wm(c))continue;const f=e[c];let l;i&&Kt(i,l=df(c))?!s||!s.includes(l)?r[l]=f:(a||(a={}))[l]=f:J_(t.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,o=!0)}if(s){const c=Lt(r),f=a||Ir;for(let l=0;l<s.length;l++){const u=s[l];r[u]=uS(i,c,u,f[u],t,!Kt(f,u))}}return o}function uS(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Kt(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ot(c)){const{propsDefaults:f}=i;if(r in f)n=f[r];else{const l=VE(i);n=f[r]=c.call(null,e),l()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===n0(r))&&(n=!0))}return n}const RJ=new WeakMap;function P$(t,e,r=!1){const n=r?RJ:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!ot(t)){const l=u=>{c=!0;const[h,g]=P$(u,e,!0);_i(o,h),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!s&&!c)return jr(t)&&n.set(t,vp),vp;if(Je(s))for(let l=0;l<s.length;l++){const u=df(s[l]);S5(u)&&(o[u]=Ir)}else if(s)for(const l in s){const u=df(l);if(S5(u)){const h=s[l],g=o[u]=Je(h)||ot(h)?{type:h}:_i({},h),m=g.type;let w=!1,N=!0;if(Je(m))for(let I=0;I<m.length;++I){const C=m[I],M=ot(C)&&C.name;if(M==="Boolean"){w=!0;break}else M==="String"&&(N=!1)}else w=ot(m)&&m.name==="Boolean";g[0]=w,g[1]=N,(w||Kt(g,"default"))&&a.push(u)}}const f=[o,a];return jr(t)&&n.set(t,f),f}function S5(t){return t[0]!=="$"&&!Wm(t)}const U$=t=>t[0]==="_"||t==="$stable",ST=t=>Je(t)?t.map(Uf):[Uf(t)],TJ=(t,e,r)=>{if(e._n)return e;const n=Rm((...i)=>ST(e(...i)),r);return n._c=!1,n},M$=(t,e,r)=>{const n=t._ctx;for(const i in t){if(U$(i))continue;const s=t[i];if(ot(s))e[i]=TJ(i,s,n);else if(s!=null){const o=ST(s);e[i]=()=>o}}},D$=(t,e)=>{const r=ST(e);t.slots.default=()=>r},k$=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},CJ=(t,e,r)=>{const n=t.slots=T$();if(t.vnode.shapeFlag&32){const i=e._;i?(k$(n,e,r),r&&kF(n,"_",i,!0)):M$(e,n)}else e&&D$(t,e)},OJ=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=Ir;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:k$(i,e,r):(s=!e.$stable,M$(e,i)),o=e}else e&&(D$(t,e),o={default:1});if(s)for(const a in i)!U$(a)&&o[a]==null&&delete i[a]},Qs=HJ;function PJ(t){return UJ(t)}function UJ(t,e){const r=LF();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:f,setElementText:l,parentNode:u,nextSibling:h,setScopeId:g=af,insertStaticContent:m}=t,w=(q,B,J,he=null,se=null,oe=null,pe=void 0,W=null,H=!!B.dynamicChildren)=>{if(q===B)return;q&&!ud(q,B)&&(he=j(q),_(q,se,oe,!0),q=null),B.patchFlag===-2&&(H=!1,B.dynamicChildren=null);const{type:Z,ref:ue,shapeFlag:fe}=B;switch(Z){case qE:N(q,B,J,he);break;case da:I(q,B,J,he);break;case x1:q==null&&C(B,J,he,pe);break;case ro:b(q,B,J,he,se,oe,pe,W,H);break;default:fe&1?L(q,B,J,he,se,oe,pe,W,H):fe&6?y(q,B,J,he,se,oe,pe,W,H):(fe&64||fe&128)&&Z.process(q,B,J,he,se,oe,pe,W,H,ne)}ue!=null&&se&&aS(ue,q&&q.ref,oe,B||q,!B)},N=(q,B,J,he)=>{if(q==null)n(B.el=a(B.children),J,he);else{const se=B.el=q.el;B.children!==q.children&&f(se,B.children)}},I=(q,B,J,he)=>{q==null?n(B.el=c(B.children||""),J,he):B.el=q.el},C=(q,B,J,he)=>{[q.el,q.anchor]=m(q.children,B,J,he,q.el,q.anchor)},M=({el:q,anchor:B},J,he)=>{let se;for(;q&&q!==B;)se=h(q),n(q,J,he),q=se;n(B,J,he)},k=({el:q,anchor:B})=>{let J;for(;q&&q!==B;)J=h(q),i(q),q=J;i(B)},L=(q,B,J,he,se,oe,pe,W,H)=>{B.type==="svg"?pe="svg":B.type==="math"&&(pe="mathml"),q==null?$(B,J,he,se,oe,pe,W,H):O(q,B,se,oe,pe,W,H)},$=(q,B,J,he,se,oe,pe,W)=>{let H,Z;const{props:ue,shapeFlag:fe,transition:de,dirs:ee}=q;if(H=q.el=o(q.type,oe,ue&&ue.is,ue),fe&8?l(H,q.children):fe&16&&P(q.children,H,null,he,se,IN(q,oe),pe,W),ee&&Kh(q,null,he,"created"),V(H,q,q.scopeId,pe,he),ue){for(const we in ue)we!=="value"&&!Wm(we)&&s(H,we,null,ue[we],oe,he);"value"in ue&&s(H,"value",null,ue.value,oe),(Z=ue.onVnodeBeforeMount)&&yf(Z,he,q)}ee&&Kh(q,null,he,"beforeMount");const re=MJ(se,de);re&&de.beforeEnter(H),n(H,B,J),((Z=ue&&ue.onVnodeMounted)||re||ee)&&Qs(()=>{Z&&yf(Z,he,q),re&&de.enter(H),ee&&Kh(q,null,he,"mounted")},se)},V=(q,B,J,he,se)=>{if(J&&g(q,J),he)for(let oe=0;oe<he.length;oe++)g(q,he[oe]);if(se){let oe=se.subTree;if(B===oe||G$(oe.type)&&(oe.ssContent===B||oe.ssFallback===B)){const pe=se.vnode;V(q,pe,pe.scopeId,pe.slotScopeIds,se.parent)}}},P=(q,B,J,he,se,oe,pe,W,H=0)=>{for(let Z=H;Z<q.length;Z++){const ue=q[Z]=W?ku(q[Z]):Uf(q[Z]);w(null,ue,B,J,he,se,oe,pe,W)}},O=(q,B,J,he,se,oe,pe)=>{const W=B.el=q.el;let{patchFlag:H,dynamicChildren:Z,dirs:ue}=B;H|=q.patchFlag&16;const fe=q.props||Ir,de=B.props||Ir;let ee;if(J&&Jh(J,!1),(ee=de.onVnodeBeforeUpdate)&&yf(ee,J,B,q),ue&&Kh(B,q,J,"beforeUpdate"),J&&Jh(J,!0),(fe.innerHTML&&de.innerHTML==null||fe.textContent&&de.textContent==null)&&l(W,""),Z?F(q.dynamicChildren,Z,W,J,he,IN(B,se),oe):pe||R(q,B,W,null,J,he,IN(B,se),oe,!1),H>0){if(H&16)U(W,fe,de,J,se);else if(H&2&&fe.class!==de.class&&s(W,"class",null,de.class,se),H&4&&s(W,"style",fe.style,de.style,se),H&8){const re=B.dynamicProps;for(let we=0;we<re.length;we++){const Ae=re[we],Re=fe[Ae],Ge=de[Ae];(Ge!==Re||Ae==="value")&&s(W,Ae,Re,Ge,se,J)}}H&1&&q.children!==B.children&&l(W,B.children)}else!pe&&Z==null&&U(W,fe,de,J,se);((ee=de.onVnodeUpdated)||ue)&&Qs(()=>{ee&&yf(ee,J,B,q),ue&&Kh(B,q,J,"updated")},he)},F=(q,B,J,he,se,oe,pe)=>{for(let W=0;W<B.length;W++){const H=q[W],Z=B[W],ue=H.el&&(H.type===ro||!ud(H,Z)||H.shapeFlag&70)?u(H.el):J;w(H,Z,ue,null,he,se,oe,pe,!0)}},U=(q,B,J,he,se)=>{if(B!==J){if(B!==Ir)for(const oe in B)!Wm(oe)&&!(oe in J)&&s(q,oe,B[oe],null,se,he);for(const oe in J){if(Wm(oe))continue;const pe=J[oe],W=B[oe];pe!==W&&oe!=="value"&&s(q,oe,W,pe,se,he)}"value"in J&&s(q,"value",B.value,J.value,se)}},b=(q,B,J,he,se,oe,pe,W,H)=>{const Z=B.el=q?q.el:a(""),ue=B.anchor=q?q.anchor:a("");let{patchFlag:fe,dynamicChildren:de,slotScopeIds:ee}=B;ee&&(W=W?W.concat(ee):ee),q==null?(n(Z,J,he),n(ue,J,he),P(B.children||[],J,ue,se,oe,pe,W,H)):fe>0&&fe&64&&de&&q.dynamicChildren?(F(q.dynamicChildren,de,J,se,oe,pe,W),(B.key!=null||se&&B===se.subTree)&&RT(q,B,!0)):R(q,B,J,ue,se,oe,pe,W,H)},y=(q,B,J,he,se,oe,pe,W,H)=>{B.slotScopeIds=W,q==null?B.shapeFlag&512?se.ctx.activate(B,J,he,pe,H):d(B,J,he,se,oe,pe,H):p(q,B,H)},d=(q,B,J,he,se,oe,pe)=>{const W=q.component=ZJ(q,he,se);if(q_(q)&&(W.ctx.renderer=ne),QJ(W,!1,pe),W.asyncDep){if(se&&se.registerDep(W,E,pe),!q.el){const H=W.subTree=$e(da);I(null,H,B,J)}}else E(W,q,B,J,se,oe,pe)},p=(q,B,J)=>{const he=B.component=q.component;if(zJ(q,B,J))if(he.asyncDep&&!he.asyncResolved){x(he,B,J);return}else he.next=B,he.update();else B.el=q.el,he.vnode=B},E=(q,B,J,he,se,oe,pe)=>{const W=()=>{if(q.isMounted){let{next:fe,bu:de,u:ee,parent:re,vnode:we}=q;{const ke=L$(q);if(ke){fe&&(fe.el=we.el,x(q,fe,pe)),ke.asyncDep.then(()=>{q.isUnmounted||W()});return}}let Ae=fe,Re;Jh(q,!1),fe?(fe.el=we.el,x(q,fe,pe)):fe=we,de&&yN(de),(Re=fe.props&&fe.props.onVnodeBeforeUpdate)&&yf(Re,re,fe,we),Jh(q,!0);const Ge=SN(q),Ve=q.subTree;q.subTree=Ge,w(Ve,Ge,u(Ve.el),j(Ve),q,se,oe),fe.el=Ge.el,Ae===null&&WJ(q,Ge.el),ee&&Qs(ee,se),(Re=fe.props&&fe.props.onVnodeUpdated)&&Qs(()=>yf(Re,re,fe,we),se)}else{let fe;const{el:de,props:ee}=B,{bm:re,m:we,parent:Ae,root:Re,type:Ge}=q,Ve=Vm(B);if(Jh(q,!1),re&&yN(re),!Ve&&(fe=ee&&ee.onVnodeBeforeMount)&&yf(fe,Ae,B),Jh(q,!0),de&&le){const ke=()=>{q.subTree=SN(q),le(de,q.subTree,q,se,null)};Ve&&Ge.__asyncHydrate?Ge.__asyncHydrate(de,q,ke):ke()}else{Re.ce&&Re.ce._injectChildStyle(Ge);const ke=q.subTree=SN(q);w(null,ke,J,he,q,se,oe),B.el=ke.el}if(we&&Qs(we,se),!Ve&&(fe=ee&&ee.onVnodeMounted)){const ke=B;Qs(()=>yf(fe,Ae,ke),se)}(B.shapeFlag&256||Ae&&Vm(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&q.a&&Qs(q.a,se),q.isMounted=!0,B=J=he=null}};q.scope.on();const H=q.effect=new zF(W);q.scope.off();const Z=q.update=H.run.bind(H),ue=q.job=H.runIfDirty.bind(H);ue.i=q,ue.id=q.uid,H.scheduler=()=>AT(ue),Jh(q,!0),Z()},x=(q,B,J)=>{B.component=q;const he=q.vnode.props;q.vnode=B,q.next=null,SJ(q,B.props,he,J),OJ(q,B.children,J),wh(),E5(q),vh()},R=(q,B,J,he,se,oe,pe,W,H=!1)=>{const Z=q&&q.children,ue=q?q.shapeFlag:0,fe=B.children,{patchFlag:de,shapeFlag:ee}=B;if(de>0){if(de&128){v(Z,fe,J,he,se,oe,pe,W,H);return}else if(de&256){S(Z,fe,J,he,se,oe,pe,W,H);return}}ee&8?(ue&16&&z(Z,se,oe),fe!==Z&&l(J,fe)):ue&16?ee&16?v(Z,fe,J,he,se,oe,pe,W,H):z(Z,se,oe,!0):(ue&8&&l(J,""),ee&16&&P(fe,J,he,se,oe,pe,W,H))},S=(q,B,J,he,se,oe,pe,W,H)=>{q=q||vp,B=B||vp;const Z=q.length,ue=B.length,fe=Math.min(Z,ue);let de;for(de=0;de<fe;de++){const ee=B[de]=H?ku(B[de]):Uf(B[de]);w(q[de],ee,J,null,se,oe,pe,W,H)}Z>ue?z(q,se,oe,!0,!1,fe):P(B,J,he,se,oe,pe,W,H,fe)},v=(q,B,J,he,se,oe,pe,W,H)=>{let Z=0;const ue=B.length;let fe=q.length-1,de=ue-1;for(;Z<=fe&&Z<=de;){const ee=q[Z],re=B[Z]=H?ku(B[Z]):Uf(B[Z]);if(ud(ee,re))w(ee,re,J,null,se,oe,pe,W,H);else break;Z++}for(;Z<=fe&&Z<=de;){const ee=q[fe],re=B[de]=H?ku(B[de]):Uf(B[de]);if(ud(ee,re))w(ee,re,J,null,se,oe,pe,W,H);else break;fe--,de--}if(Z>fe){if(Z<=de){const ee=de+1,re=ee<ue?B[ee].el:he;for(;Z<=de;)w(null,B[Z]=H?ku(B[Z]):Uf(B[Z]),J,re,se,oe,pe,W,H),Z++}}else if(Z>de)for(;Z<=fe;)_(q[Z],se,oe,!0),Z++;else{const ee=Z,re=Z,we=new Map;for(Z=re;Z<=de;Z++){const Le=B[Z]=H?ku(B[Z]):Uf(B[Z]);Le.key!=null&&we.set(Le.key,Z)}let Ae,Re=0;const Ge=de-re+1;let Ve=!1,ke=0;const Rt=new Array(Ge);for(Z=0;Z<Ge;Z++)Rt[Z]=0;for(Z=ee;Z<=fe;Z++){const Le=q[Z];if(Re>=Ge){_(Le,se,oe,!0);continue}let gt;if(Le.key!=null)gt=we.get(Le.key);else for(Ae=re;Ae<=de;Ae++)if(Rt[Ae-re]===0&&ud(Le,B[Ae])){gt=Ae;break}gt===void 0?_(Le,se,oe,!0):(Rt[gt-re]=Z+1,gt>=ke?ke=gt:Ve=!0,w(Le,B[gt],J,null,se,oe,pe,W,H),Re++)}const zt=Ve?DJ(Rt):vp;for(Ae=zt.length-1,Z=Ge-1;Z>=0;Z--){const Le=re+Z,gt=B[Le],Wt=Le+1<ue?B[Le+1].el:he;Rt[Z]===0?w(null,gt,J,Wt,se,oe,pe,W,H):Ve&&(Ae<0||Z!==zt[Ae]?A(gt,J,Wt,2):Ae--)}}},A=(q,B,J,he,se=null)=>{const{el:oe,type:pe,transition:W,children:H,shapeFlag:Z}=q;if(Z&6){A(q.component.subTree,B,J,he);return}if(Z&128){q.suspense.move(B,J,he);return}if(Z&64){pe.move(q,B,J,ne);return}if(pe===ro){n(oe,B,J);for(let fe=0;fe<H.length;fe++)A(H[fe],B,J,he);n(q.anchor,B,J);return}if(pe===x1){M(q,B,J);return}if(he!==2&&Z&1&&W)if(he===0)W.beforeEnter(oe),n(oe,B,J),Qs(()=>W.enter(oe),se);else{const{leave:fe,delayLeave:de,afterLeave:ee}=W,re=()=>n(oe,B,J),we=()=>{fe(oe,()=>{re(),ee&&ee()})};de?de(oe,re,we):we()}else n(oe,B,J)},_=(q,B,J,he=!1,se=!1)=>{const{type:oe,props:pe,ref:W,children:H,dynamicChildren:Z,shapeFlag:ue,patchFlag:fe,dirs:de,cacheIndex:ee}=q;if(fe===-2&&(se=!1),W!=null&&aS(W,null,J,q,!0),ee!=null&&(B.renderCache[ee]=void 0),ue&256){B.ctx.deactivate(q);return}const re=ue&1&&de,we=!Vm(q);let Ae;if(we&&(Ae=pe&&pe.onVnodeBeforeUnmount)&&yf(Ae,B,q),ue&6)T(q.component,J,he);else{if(ue&128){q.suspense.unmount(J,he);return}re&&Kh(q,null,B,"beforeUnmount"),ue&64?q.type.remove(q,B,J,ne,he):Z&&!Z.hasOnce&&(oe!==ro||fe>0&&fe&64)?z(Z,B,J,!1,!0):(oe===ro&&fe&384||!se&&ue&16)&&z(H,B,J),he&&D(q)}(we&&(Ae=pe&&pe.onVnodeUnmounted)||re)&&Qs(()=>{Ae&&yf(Ae,B,q),re&&Kh(q,null,B,"unmounted")},J)},D=q=>{const{type:B,el:J,anchor:he,transition:se}=q;if(B===ro){G(J,he);return}if(B===x1){k(q);return}const oe=()=>{i(J),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(q.shapeFlag&1&&se&&!se.persisted){const{leave:pe,delayLeave:W}=se,H=()=>pe(J,oe);W?W(q.el,oe,H):H()}else oe()},G=(q,B)=>{let J;for(;q!==B;)J=h(q),i(q),q=J;i(B)},T=(q,B,J)=>{const{bum:he,scope:se,job:oe,subTree:pe,um:W,m:H,a:Z}=q;R5(H),R5(Z),he&&yN(he),se.stop(),oe&&(oe.flags|=8,_(pe,q,B,J)),W&&Qs(W,B),Qs(()=>{q.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},z=(q,B,J,he=!1,se=!1,oe=0)=>{for(let pe=oe;pe<q.length;pe++)_(q[pe],B,J,he,se)},j=q=>{if(q.shapeFlag&6)return j(q.component.subTree);if(q.shapeFlag&128)return q.suspense.next();const B=h(q.anchor||q.el),J=B&&B[d$];return J?h(J):B};let X=!1;const Y=(q,B,J)=>{q==null?B._vnode&&_(B._vnode,null,null,!0):w(B._vnode||null,q,B,null,null,null,J),B._vnode=q,X||(X=!0,E5(),f$(),X=!1)},ne={p:w,um:_,m:A,r:D,mt:d,mc:P,pc:R,pbc:F,n:j,o:t};let ce,le;return e&&([ce,le]=e(ne)),{render:Y,hydrate:ce,createApp:NJ(Y,ce)}}function IN({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Jh({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function MJ(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function RT(t,e,r=!1){const n=t.children,i=e.children;if(Je(n)&&Je(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ku(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&RT(o,a)),a.type===qE&&(a.el=o.el)}}function DJ(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const f=t[n];if(f!==0){if(i=r[r.length-1],t[i]<f){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<f?s=a+1:o=a;f<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function L$(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:L$(e)}function R5(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kJ=Symbol.for("v-scx"),LJ=()=>io(kJ);function wi(t,e,r){return F$(t,e,r)}function F$(t,e,r=Ir){const{immediate:n,deep:i,flush:s,once:o}=r,a=_i({},r);let c;if(X_)if(s==="sync"){const h=LJ();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||n)a.once=!0;else{const h=()=>{};return h.stop=af,h.resume=af,h.pause=af,h}const f=Ti;a.call=(h,g,m)=>pf(h,f,g,m);let l=!1;s==="post"?a.scheduler=h=>{Qs(h,f&&f.suspense)}:s!=="sync"&&(l=!0,a.scheduler=(h,g)=>{g?h():AT(h)}),a.augmentJob=h=>{e&&(h.flags|=4),l&&(h.flags|=2,f&&(h.id=f.uid,h.i=f))};const u=YK(t,e,a);return c&&c.push(u),u}function FJ(t,e,r){const n=this.proxy,i=hn(t)?t.includes(".")?$$(n,t):()=>n[t]:t.bind(n,n);let s;ot(e)?s=e:(s=e.handler,r=e);const o=VE(this),a=F$(i,s.bind(n),r);return o(),a}function $$(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const $J=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${df(e)}Modifiers`]||t[`${n0(e)}Modifiers`];function BJ(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ir;let i=r;const s=e.startsWith("update:"),o=s&&$J(n,e.slice(7));o&&(o.trim&&(i=r.map(l=>hn(l)?l.trim():l)),o.number&&(i=r.map(hK)));let a,c=n[a=EN(e)]||n[a=EN(df(e))];!c&&s&&(c=n[a=EN(n0(e))]),c&&pf(c,t,6,i);const f=n[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,pf(f,t,6,i)}}function B$(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ot(t)){const c=f=>{const l=B$(f,e,!0);l&&(a=!0,_i(o,l))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(jr(t)&&n.set(t,null),null):(Je(s)?s.forEach(c=>o[c]=null):_i(o,s),jr(t)&&n.set(t,o),o)}function J_(t,e){return!t||!B_(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kt(t,e[0].toLowerCase()+e.slice(1))||Kt(t,n0(e))||Kt(t,e))}function SN(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:f,renderCache:l,props:u,data:h,setupState:g,ctx:m,inheritAttrs:w}=t,N=Tv(t);let I,C;try{if(r.shapeFlag&4){const k=i||n,L=k;I=Uf(f.call(L,k,l,u,g,h,m)),C=a}else{const k=e;I=Uf(k.length>1?k(u,{attrs:a,slots:o,emit:c}):k(u,null)),C=e.props?a:GJ(a)}}catch(k){Xm.length=0,H_(k,t,1),I=$e(da)}let M=I;if(C&&w!==!1){const k=Object.keys(C),{shapeFlag:L}=M;k.length&&L&7&&(s&&k.some(iT)&&(C=jJ(C,s)),M=oh(M,C,!1,!0))}return r.dirs&&(M=oh(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(r.dirs):r.dirs),r.transition&&Pb(M,r.transition),I=M,Tv(N),I}const GJ=t=>{let e;for(const r in t)(r==="class"||r==="style"||B_(r))&&((e||(e={}))[r]=t[r]);return e},jJ=(t,e)=>{const r={};for(const n in t)(!iT(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function zJ(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?T5(n,o,f):!!o;if(c&8){const l=e.dynamicProps;for(let u=0;u<l.length;u++){const h=l[u];if(o[h]!==n[h]&&!J_(f,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?T5(n,o,f):!0:!!o;return!1}function T5(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!J_(r,s))return!0}return!1}function WJ({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const G$=t=>t.__isSuspense;function HJ(t,e){e&&e.pendingBranch?Je(t)?e.effects.push(...t):e.effects.push(t):eJ(t)}const ro=Symbol.for("v-fgt"),qE=Symbol.for("v-txt"),da=Symbol.for("v-cmt"),x1=Symbol.for("v-stc"),Xm=[];let Io=null;function Ff(t=!1){Xm.push(Io=t?null:[])}function qJ(){Xm.pop(),Io=Xm[Xm.length-1]||null}let Ub=1;function C5(t){Ub+=t,t<0&&Io&&(Io.hasOnce=!0)}function j$(t){return t.dynamicChildren=Ub>0?Io||vp:null,qJ(),Ub>0&&Io&&Io.push(t),t}function dp(t,e,r,n,i,s){return j$($r(t,e,r,n,i,s,!0))}function I1(t,e,r,n,i){return j$($e(t,e,r,n,i,!0))}function hS(t){return t?t.__v_isVNode===!0:!1}function ud(t,e){return t.type===e.type&&t.key===e.key}const z$=({key:t})=>t??null,S1=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?hn(t)||Xr(t)||ot(t)?{i:Us,r:t,k:e,f:!!r}:t:null);function $r(t,e=null,r=null,n=0,i=null,s=t===ro?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&z$(e),ref:e&&S1(e),scopeId:u$,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Us};return a?(TT(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=hn(r)?8:16),Ub>0&&!o&&Io&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Io.push(c),c}const $e=VJ;function VJ(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===gJ)&&(t=da),hS(t)){const a=oh(t,e,!0);return r&&TT(a,r),Ub>0&&!s&&Io&&(a.shapeFlag&6?Io[Io.indexOf(t)]=a:Io.push(a)),a.patchFlag=-2,a}if(iX(t)&&(t=t.__vccOpts),e){e=KJ(e);let{class:a,style:c}=e;a&&!hn(a)&&(e.class=cT(a)),jr(c)&&(ET(c)&&!Je(c)&&(c=_i({},c)),e.style=aT(c))}const o=hn(t)?1:G$(t)?128:p$(t)?64:jr(t)?4:ot(t)?2:0;return $r(t,e,r,n,i,o,s,!0)}function KJ(t){return t?ET(t)||C$(t)?_i({},t):t:null}function oh(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,f=e?Vp(i||{},e):i,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&z$(f),ref:e&&e.ref?r&&s?Je(s)?s.concat(S1(e)):[s,S1(e)]:S1(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ro?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&oh(t.ssContent),ssFallback:t.ssFallback&&oh(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&Pb(l,c.clone(l)),l}function dS(t=" ",e=0){return $e(qE,null,t,e)}function JJ(t,e){const r=$e(x1,null,t);return r.staticCount=e,r}function Uf(t){return t==null||typeof t=="boolean"?$e(da):Je(t)?$e(ro,null,t.slice()):typeof t=="object"?ku(t):$e(qE,null,String(t))}function ku(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:oh(t)}function TT(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Je(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),TT(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!C$(e)?e._ctx=Us:i===3&&Us&&(Us.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ot(e)?(e={default:e,_ctx:Us},r=32):(e=String(e),n&64?(r=16,e=[dS(e)]):r=8);t.children=e,t.shapeFlag|=r}function Vp(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=cT([e.class,n.class]));else if(i==="style")e.style=aT([e.style,n.style]);else if(B_(i)){const s=e[i],o=n[i];o&&s!==o&&!(Je(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function yf(t,e,r,n=null){pf(t,e,7,[r,n])}const XJ=S$();let YJ=0;function ZJ(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||XJ,s={uid:YJ++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new GF(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:P$(n,i),emitsOptions:B$(n,i),emit:null,emitted:null,propsDefaults:Ir,inheritAttrs:n.inheritAttrs,ctx:Ir,data:Ir,props:Ir,attrs:Ir,slots:Ir,refs:Ir,setupState:Ir,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=BJ.bind(null,s),t.ce&&t.ce(s),s}let Ti=null;const il=()=>Ti||Us;let Ov,pS;{const t=LF(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Ov=e("__VUE_INSTANCE_SETTERS__",r=>Ti=r),pS=e("__VUE_SSR_SETTERS__",r=>X_=r)}const VE=t=>{const e=Ti;return Ov(t),t.scope.on(),()=>{t.scope.off(),Ov(e)}},O5=()=>{Ti&&Ti.scope.off(),Ov(null)};function W$(t){return t.vnode.shapeFlag&4}let X_=!1;function QJ(t,e=!1,r=!1){e&&pS(e);const{props:n,children:i}=t.vnode,s=W$(t);IJ(t,n,s,e),CJ(t,i,r);const o=s?eX(t,e):void 0;return e&&pS(!1),o}function eX(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,bJ);const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?rX(t):null,s=VE(t);wh();const o=HE(n,t,0,[t.props,i]);if(vh(),s(),UF(o)){if(Vm(t)||_$(t),o.then(O5,O5),e)return o.then(a=>{P5(t,a,e)}).catch(a=>{H_(a,t,0)});t.asyncDep=o}else P5(t,o,e)}else H$(t,e)}function P5(t,e,r){ot(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:jr(e)&&(t.setupState=o$(e)),H$(t,r)}let U5;function H$(t,e,r){const n=t.type;if(!t.render){if(!e&&U5&&!n.render){const i=n.template||IT(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=n,f=_i(_i({isCustomElement:s,delimiters:a},o),c);n.render=U5(i,f)}}t.render=n.render||af}{const i=VE(t);wh();try{EJ(t)}finally{vh(),i()}}}const tX={get(t,e){return bs(t,"get",""),t[e]}};function rX(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,tX),slots:t.slots,emit:t.emit,expose:e}}function Y_(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(o$(yT(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Km)return Km[r](t)},has(e,r){return r in e||r in Km}})):t.proxy}function nX(t,e=!0){return ot(t)?t.displayName||t.name:t.name||e&&t.__name}function iX(t){return ot(t)&&"__vccOpts"in t}const kr=(t,e)=>JK(t,e,X_);function KE(t,e,r){const n=arguments.length;return n===2?jr(e)&&!Je(e)?hS(e)?$e(t,null,[e]):$e(t,e):$e(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&hS(r)&&(r=[r]),$e(t,e,r))}const sX="3.5.8";/**
* @vue/runtime-dom v3.5.8
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gS;const M5=typeof window<"u"&&window.trustedTypes;if(M5)try{gS=M5.createPolicy("vue",{createHTML:t=>t})}catch{}const q$=gS?t=>gS.createHTML(t):t=>t,oX="http://www.w3.org/2000/svg",aX="http://www.w3.org/1998/Math/MathML",Cl=typeof document<"u"?document:null,D5=Cl&&Cl.createElement("template"),cX={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?Cl.createElementNS(oX,t):e==="mathml"?Cl.createElementNS(aX,t):r?Cl.createElement(t,{is:r}):Cl.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Cl.createTextNode(t),createComment:t=>Cl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{D5.innerHTML=q$(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=D5.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},mu="transition",Wg="animation",Mb=Symbol("_vtc"),V$={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fX=_i({},b$,V$),lX=t=>(t.displayName="Transition",t.props=fX,t),K$=lX((t,{slots:e})=>KE(oJ,uX(t),e)),Xh=(t,e=[])=>{Je(t)?t.forEach(r=>r(...e)):t&&t(...e)},k5=t=>t?Je(t)?t.some(e=>e.length>1):t.length>1:!1;function uX(t){const e={};for(const b in t)b in V$||(e[b]=t[b]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:f=o,appearToClass:l=a,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=t,m=hX(i),w=m&&m[0],N=m&&m[1],{onBeforeEnter:I,onEnter:C,onEnterCancelled:M,onLeave:k,onLeaveCancelled:L,onBeforeAppear:$=I,onAppear:V=C,onAppearCancelled:P=M}=e,O=(b,y,d)=>{Yh(b,y?l:a),Yh(b,y?f:o),d&&d()},F=(b,y)=>{b._isLeaving=!1,Yh(b,u),Yh(b,g),Yh(b,h),y&&y()},U=b=>(y,d)=>{const p=b?V:C,E=()=>O(y,b,d);Xh(p,[y,E]),L5(()=>{Yh(y,b?c:s),bu(y,b?l:a),k5(p)||F5(y,n,w,E)})};return _i(e,{onBeforeEnter(b){Xh(I,[b]),bu(b,s),bu(b,o)},onBeforeAppear(b){Xh($,[b]),bu(b,c),bu(b,f)},onEnter:U(!1),onAppear:U(!0),onLeave(b,y){b._isLeaving=!0;const d=()=>F(b,y);bu(b,u),bu(b,h),gX(),L5(()=>{b._isLeaving&&(Yh(b,u),bu(b,g),k5(k)||F5(b,n,N,d))}),Xh(k,[b,d])},onEnterCancelled(b){O(b,!1),Xh(M,[b])},onAppearCancelled(b){O(b,!0),Xh(P,[b])},onLeaveCancelled(b){F(b),Xh(L,[b])}})}function hX(t){if(t==null)return null;if(jr(t))return[RN(t.enter),RN(t.leave)];{const e=RN(t);return[e,e]}}function RN(t){return dK(t)}function bu(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Mb]||(t[Mb]=new Set)).add(e)}function Yh(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Mb];r&&(r.delete(e),r.size||(t[Mb]=void 0))}function L5(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let dX=0;function F5(t,e,r,n){const i=t._endId=++dX,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:c}=pX(t,e);if(!o)return n();const f=o+"end";let l=0;const u=()=>{t.removeEventListener(f,h),s()},h=g=>{g.target===t&&++l>=c&&u()};setTimeout(()=>{l<c&&u()},a+1),t.addEventListener(f,h)}function pX(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),i=n(`${mu}Delay`),s=n(`${mu}Duration`),o=$5(i,s),a=n(`${Wg}Delay`),c=n(`${Wg}Duration`),f=$5(a,c);let l=null,u=0,h=0;e===mu?o>0&&(l=mu,u=o,h=s.length):e===Wg?f>0&&(l=Wg,u=f,h=c.length):(u=Math.max(o,f),l=u>0?o>f?mu:Wg:null,h=l?l===mu?s.length:c.length:0);const g=l===mu&&/\b(transform|all)(,|$)/.test(n(`${mu}Property`).toString());return{type:l,timeout:u,propCount:h,hasTransform:g}}function $5(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>B5(r)+B5(t[n])))}function B5(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function gX(){return document.body.offsetHeight}function mX(t,e,r){const n=t[Mb];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Pv=Symbol("_vod"),J$=Symbol("_vsh"),X$={beforeMount(t,{value:e},{transition:r}){t[Pv]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Hg(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Hg(t,!0),n.enter(t)):n.leave(t,()=>{Hg(t,!1)}):Hg(t,e))},beforeUnmount(t,{value:e}){Hg(t,e)}};function Hg(t,e){t.style.display=e?t[Pv]:"none",t[J$]=!e}const bX=Symbol(""),EX=/(^|;)\s*display\s*:/;function yX(t,e,r){const n=t.style,i=hn(r);let s=!1;if(r&&!i){if(e)if(hn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&R1(n,a,"")}else for(const o in e)r[o]==null&&R1(n,o,"");for(const o in r)o==="display"&&(s=!0),R1(n,o,r[o])}else if(i){if(e!==r){const o=n[bX];o&&(r+=";"+o),n.cssText=r,s=EX.test(r)}}else e&&t.removeAttribute("style");Pv in t&&(t[Pv]=s?n.display:"",t[J$]&&(n.display="none"))}const G5=/\s*!important$/;function R1(t,e,r){if(Je(r))r.forEach(n=>R1(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=wX(t,e);G5.test(r)?t.setProperty(n0(n),r.replace(G5,""),"important"):t[n]=r}}const j5=["Webkit","Moz","ms"],TN={};function wX(t,e){const r=TN[e];if(r)return r;let n=df(e);if(n!=="filter"&&n in t)return TN[e]=n;n=z_(n);for(let i=0;i<j5.length;i++){const s=j5[i]+n;if(s in t)return TN[e]=s}return e}const z5="http://www.w3.org/1999/xlink";function W5(t,e,r,n,i,s=yK(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(z5,e.slice(6,e.length)):t.setAttributeNS(z5,e,r):r==null||s&&!FF(r)?t.removeAttribute(e):t.setAttribute(e,s?"":yh(r)?String(r):r)}function vX(t,e,r,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?q$(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=r==null?t.type==="checkbox"?"on":"":String(r);(o!==a||!("_value"in t))&&(t.value=a),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=FF(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(e)}function _X(t,e,r,n){t.addEventListener(e,r,n)}function AX(t,e,r,n){t.removeEventListener(e,r,n)}const H5=Symbol("_vei");function NX(t,e,r,n,i=null){const s=t[H5]||(t[H5]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=xX(e);if(n){const f=s[e]=RX(n,i);_X(t,a,f,c)}else o&&(AX(t,a,o,c),s[e]=void 0)}}const q5=/(?:Once|Passive|Capture)$/;function xX(t){let e;if(q5.test(t)){e={};let n;for(;n=t.match(q5);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):n0(t.slice(2)),e]}let CN=0;const IX=Promise.resolve(),SX=()=>CN||(IX.then(()=>CN=0),CN=Date.now());function RX(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;pf(TX(n,r.value),e,5,[n])};return r.value=t,r.attached=SX(),r}function TX(t,e){if(Je(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const V5=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,CX=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?mX(t,n,o):e==="style"?yX(t,r,n):B_(e)?iT(e)||NX(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):OX(t,e,n,o))?(vX(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&W5(t,e,n,o,s,e!=="value")):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),W5(t,e,n,o))};function OX(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&V5(e)&&ot(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return V5(e)&&hn(r)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!hn(r)))}const PX=_i({patchProp:CX},cX);let K5;function UX(){return K5||(K5=PJ(PX))}const Y$=(...t)=>{const e=UX().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=DX(n);if(!i)return;const s=e._component;!ot(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,MX(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function MX(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function DX(t){return hn(t)?document.querySelector(t):t}const kX=Symbol(),J5=Object.getPrototypeOf,mS=new WeakMap,LX=t=>t&&(mS.has(t)?mS.get(t):J5(t)===Object.prototype||J5(t)===Array.prototype),FX=t=>LX(t)&&t[kX]||null,X5=(t,e=!0)=>{mS.set(t,e)},ON=t=>typeof t=="object"&&t!==null,Lu=new WeakMap,Cm=new WeakSet,$X=(t=Object.is,e=(f,l)=>new Proxy(f,l),r=f=>ON(f)&&!Cm.has(f)&&(Array.isArray(f)||!(Symbol.iterator in f))&&!(f instanceof WeakMap)&&!(f instanceof WeakSet)&&!(f instanceof Error)&&!(f instanceof Number)&&!(f instanceof Date)&&!(f instanceof String)&&!(f instanceof RegExp)&&!(f instanceof ArrayBuffer),n=f=>{switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:throw f}},i=new WeakMap,s=(f,l,u=n)=>{const h=i.get(f);if((h==null?void 0:h[0])===l)return h[1];const g=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f));return X5(g,!0),i.set(f,[l,g]),Reflect.ownKeys(f).forEach(m=>{if(Object.getOwnPropertyDescriptor(g,m))return;const w=Reflect.get(f,m),{enumerable:N}=Reflect.getOwnPropertyDescriptor(f,m),I={value:w,enumerable:N,configurable:!0};if(Cm.has(w))X5(w,!1);else if(w instanceof Promise)delete I.value,I.get=()=>u(w);else if(Lu.has(w)){const[C,M]=Lu.get(w);I.value=s(C,M(),u)}Object.defineProperty(g,m,I)}),Object.preventExtensions(g)},o=new WeakMap,a=[1,1],c=f=>{if(!ON(f))throw new Error("object required");const l=o.get(f);if(l)return l;let u=a[0];const h=new Set,g=(O,F=++a[0])=>{u!==F&&(u=F,h.forEach(U=>U(O,F)))};let m=a[1];const w=(O=++a[1])=>(m!==O&&!h.size&&(m=O,I.forEach(([F])=>{const U=F[1](O);U>u&&(u=U)})),u),N=O=>(F,U)=>{const b=[...F];b[1]=[O,...b[1]],g(b,U)},I=new Map,C=(O,F)=>{if(h.size){const U=F[3](N(O));I.set(O,[F,U])}else I.set(O,[F])},M=O=>{var F;const U=I.get(O);U&&(I.delete(O),(F=U[1])==null||F.call(U))},k=O=>(h.add(O),h.size===1&&I.forEach(([U,b],y)=>{const d=U[3](N(y));I.set(y,[U,d])}),()=>{h.delete(O),h.size===0&&I.forEach(([U,b],y)=>{b&&(b(),I.set(y,[U]))})}),L=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f)),V=e(L,{deleteProperty(O,F){const U=Reflect.get(O,F);M(F);const b=Reflect.deleteProperty(O,F);return b&&g(["delete",[F],U]),b},set(O,F,U,b){const y=Reflect.has(O,F),d=Reflect.get(O,F,b);if(y&&(t(d,U)||o.has(U)&&t(d,o.get(U))))return!0;M(F),ON(U)&&(U=FX(U)||U);let p=U;if(U instanceof Promise)U.then(E=>{U.status="fulfilled",U.value=E,g(["resolve",[F],E])}).catch(E=>{U.status="rejected",U.reason=E,g(["reject",[F],E])});else{!Lu.has(U)&&r(U)&&(p=c(U));const E=!Cm.has(p)&&Lu.get(p);E&&C(F,E)}return Reflect.set(O,F,p,b),g(["set",[F],U,d]),!0}});o.set(f,V);const P=[L,w,s,k];return Lu.set(V,P),Reflect.ownKeys(f).forEach(O=>{const F=Object.getOwnPropertyDescriptor(f,O);"value"in F&&(V[O]=f[O],delete F.value,delete F.writable),Object.defineProperty(L,O,F)}),V})=>[c,Lu,Cm,t,e,r,n,i,s,o,a],[BX]=$X();function Yr(t={}){return BX(t)}function ks(t,e,r){const n=Lu.get(t);let i;const s=[],o=n[3];let a=!1;const f=o(l=>{if(s.push(l),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,f()}}function Db(t,e){const r=Lu.get(t),[n,i,s]=r;return s(n,i(),e)}function Fd(t){return Cm.add(t),t}function To(t,e,r,n){let i=t[e];return ks(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)},n)}function GX(t){const e=Yr({data:Array.from(t||[]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(s=>s[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function va(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zr(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}const Z$={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var jX=20,zX=1,$d=1e6,Y5=1e6,WX=-7,HX=21,qX=!1,JE="[big.js] ",s0=JE+"Invalid ",Z_=s0+"decimal places",VX=s0+"rounding mode",Q$=JE+"Division by zero",nr={},Kf=void 0,KX=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function eB(){function t(e){var r=this;if(!(r instanceof t))return e===Kf?eB():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(s0+"value");e=e===0&&1/e<0?"-0":String(e)}JX(r,e)}r.constructor=t}return t.prototype=nr,t.DP=jX,t.RM=zX,t.NE=WX,t.PE=HX,t.strict=qX,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function JX(t,e){var r,n,i;if(!KX.test(e))throw Error(s0+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function o0(t,e,r,n){var i=t.c;if(r===Kf&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(VX);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Kf))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Kf||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function a0(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}nr.abs=function(){var t=new this.constructor(this);return t.s=1,t};nr.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};nr.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>$d)throw Error(Z_);if(!i[0])throw Error(Q$);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,f,l,u,h=i.slice(),g=a=i.length,m=n.length,w=n.slice(0,a),N=w.length,I=t,C=I.c=[],M=0,k=o+(I.e=e.e-t.e)+1;for(I.s=s,s=k<0?0:k,h.unshift(0);N++<a;)w.push(0);do{for(f=0;f<10;f++){if(a!=(N=w.length))l=a>N?1:-1;else for(u=-1,l=0;++u<a;)if(i[u]!=w[u]){l=i[u]>w[u]?1:-1;break}if(l<0){for(c=N==a?i:h;N;){if(w[--N]<c[N]){for(u=N;u&&!w[--u];)w[u]=9;--w[u],w[N]+=10}w[N]-=c[N]}for(;!w[0];)w.shift()}else break}C[M++]=l?f:++f,w[0]&&l?w[N]=n[g]||0:w=[n[g]]}while((g++<m||w[0]!==Kf)&&s--);return!C[0]&&M!=1&&(C.shift(),I.e--,k--),M>k&&o0(I,k,r.RM,w[0]!==Kf),I};nr.eq=function(t){return this.cmp(t)===0};nr.gt=function(t){return this.cmp(t)>0};nr.gte=function(t){return this.cmp(t)>-1};nr.lt=function(t){return this.cmp(t)<0};nr.lte=function(t){return this.cmp(t)<1};nr.minus=nr.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var f=s.c.slice(),l=s.e,u=t.c,h=t.e;if(!f[0]||!u[0])return u[0]?t.s=-c:f[0]?t=new o(s):t.s=1,t;if(a=l-h){for((i=a<0)?(a=-a,n=f):(h=l,n=u),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=f.length<u.length)?f:u).length,a=c=0;c<r;c++)if(f[c]!=u[c]){i=f[c]<u[c];break}if(i&&(n=f,f=u,u=n,t.s=-t.s),(c=(r=u.length)-(e=f.length))>0)for(;c--;)f[e++]=0;for(c=e;r>a;){if(f[--r]<u[r]){for(e=r;e&&!f[--e];)f[e]=9;--f[e],f[r]+=10}f[r]-=u[r]}for(;f[--c]===0;)f.pop();for(;f[0]===0;)f.shift(),--h;return f[0]||(t.s=1,f=[h=0]),t.c=f,t.e=h,t};nr.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(Q$);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};nr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};nr.plus=nr.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,f=t.c;if(!a[0]||!f[0])return f[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=f):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-f.length<0&&(n=f,f=a,a=n),e=f.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+f[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};nr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-Y5||t>Y5)throw Error(s0+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};nr.prec=function(t,e){if(t!==~~t||t<1||t>$d)throw Error(s0+"precision");return o0(new this.constructor(this),t,e)};nr.round=function(t,e){if(t===Kf)t=0;else if(t!==~~t||t<-$d||t>$d)throw Error(Z_);return o0(new this.constructor(this),t+this.e+1,e)};nr.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(JE+"No square root");s=Math.sqrt(+a0(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return o0(t,(i.DP-=4)+t.e+1,i.RM)};nr.times=nr.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,f=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+f,o<a&&(e=i,i=s,s=e,f=o,o=a,a=f),e=new Array(f=o+a);f--;)e[f]=0;for(c=a;c--;){for(a=0,f=o+c;f>c;)a=e[f]+s[c]*i[f-c-1]+a,e[f--]=a%10,a=a/10|0;e[f]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};nr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Kf){if(t!==~~t||t<0||t>$d)throw Error(Z_);for(r=o0(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return a0(r,!0,!!n)};nr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Kf){if(t!==~~t||t<0||t>$d)throw Error(Z_);for(r=o0(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return a0(r,!1,!!n)};nr[Symbol.for("nodejs.util.inspect.custom")]=nr.toJSON=nr.toString=function(){var t=this,e=t.constructor;return a0(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};nr.toNumber=function(){var t=+a0(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(JE+"Imprecise conversion");return t};nr.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Kf){if(t!==~~t||t<1||t>$d)throw Error(s0+"precision");for(r=o0(new n(r),t,e);r.c.length<t;)r.c.push(0)}return a0(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};nr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(JE+"valueOf disallowed");return a0(t,t.e<=e.NE||t.e>=e.PE,!0)};var XX=eB();const qg=XX,ky={bigNumber(t){return t?new qg(t):new qg(0)},multiply(t,e){if(t===void 0||e===void 0)return new qg(0);const r=new qg(t),n=new qg(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},YX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ZX=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],QX=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],_e={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},eY={getERC20Abi:t=>_e.USDT_CONTRACT_ADDRESSES.includes(t)?QX:YX,getSwapAbi:()=>ZX},Rl={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},bt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function PN(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ut={setItem(t,e){Om()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Om())return localStorage.getItem(t)||void 0},removeItem(t){Om()&&localStorage.removeItem(t)},clear(){Om()&&localStorage.clear()}};function Om(){return typeof window<"u"&&typeof localStorage<"u"}function Wl(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function tY(t){return(t==null?void 0:t.endsWith(_e.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(_e.WC_NAME_SUFFIX))}const UN=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",PDe=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],UDe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Vi={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:UN,SECURE_SITE_DASHBOARD:`${UN}/dashboard`,SECURE_SITE_FAVICON:`${UN}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},De={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=De.getActiveNamespace(),e=De.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{ut.setItem(bt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ut.getItem(bt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ut.removeItem(bt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ut.setItem(bt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ut.setItem(bt.ACTIVE_CAIP_NETWORK_ID,t),De.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ut.getItem(bt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ut.removeItem(bt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=PN(t);ut.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=De.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ut.setItem(bt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ut.getItem(bt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=PN(t);ut.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ut.getItem(bt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=PN(t);return ut.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{ut.setItem(bt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ut.getItem(bt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ut.removeItem(bt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ut.getItem(bt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=ut.getItem(bt.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{ut.setItem(bt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ut.getItem(bt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ut.getItem(bt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ut.setItem(bt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=De.getConnectedNamespaces();e.includes(t)||(e.push(t),De.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=De.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),De.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ut.getItem(bt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ut.setItem(bt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ut.removeItem(bt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ut.getItem(bt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=De.getBalanceCache();ut.setItem(bt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=De.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;De.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=De.getBalanceCache();e[t.caipAddress]=t,ut.setItem(bt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ut.getItem(bt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=De.getBalanceCache();ut.setItem(bt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=De.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),De.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=De.getNativeBalanceCache();e[t.caipAddress]=t,ut.setItem(bt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ut.getItem(bt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=De.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;De.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=De.getEnsCache();e[t.address]=t,ut.setItem(bt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=De.getEnsCache();ut.setItem(bt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ut.getItem(bt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=De.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;De.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=De.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ut.setItem(bt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=De.getIdentityCache();ut.setItem(bt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ut.removeItem(bt.PORTFOLIO_CACHE),ut.removeItem(bt.NATIVE_BALANCE_CACHE),ut.removeItem(bt.ENS_CACHE),ut.removeItem(bt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}},Ke={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ke.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Vi.TEN_SEC_MS:!0},isAllowedRetry(t,e=Vi.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Vi.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(Ke.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!Ke.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?De.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Ke.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var n;let r;if(t==="0")r="0";else if(typeof t=="string"){const i=Number(t);i&&(r=(n=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return _e.W3M_API_URL},getBlockchainApiUrl(){return _e.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return _e.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?Vi.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in _e.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),f=t.substring(i),l=c+r;return a+l+f}};async function Vg(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Q_{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await Vg(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await Vg(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Vg(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Vg(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Vg(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const rY={handleSolanaDeeplinkRedirect(t){if(Q.state.activeChain===_e.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${n}://${i}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},lo=Yr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Hc={state:lo,subscribeNetworkImages(t){return ks(lo.networkImages,()=>t(lo.networkImages))},subscribeKey(t,e){return To(lo,t,e)},subscribe(t){return ks(lo,()=>t(lo))},setWalletImage(t,e){lo.walletImages[t]=e},setNetworkImage(t,e){lo.networkImages[t]=e},setChainImage(t,e){lo.chainImages[t]=e},setConnectorImage(t,e){lo.connectorImages={...lo.connectorImages,[t]:e}},setTokenImage(t,e){lo.tokenImages[t]=e},setCurrencyImage(t,e){lo.currencyImages[t]=e}},nY={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},MN=Yr({networkImagePromises:{}}),tB={async fetchWalletImage(t){if(t)return await dt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(MN.networkImagePromises[t]||(MN.networkImagePromises[t]=dt._fetchNetworkImage(t)),await MN.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Hc.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Hc.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return Hc.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Hc.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Hc.state.connectorImages[t.imageId]},getChainImage(t){return Hc.state.networkImages[nY[t]]}},iY={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Vi.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ke.isTelegram()){if(Ke.isIos())return t.filter(e=>e!=="google");if(Ke.isMac())return t.filter(e=>e!=="x");if(Ke.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},je=Yr({features:Vi.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Vi.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0}),be={state:je,subscribeKey(t,e){return To(je,t,e)},setOptions(t){Object.assign(je,t)},setFeatures(t){if(!t)return;je.features||(je.features=Vi.DEFAULT_FEATURES);const e={...je.features,...t};je.features=e,je.features.socials&&(je.features.socials=iY.filterSocialsByPlatform(je.features.socials))},setProjectId(t){je.projectId=t},setCustomRpcUrls(t){je.customRpcUrls=t},setAllWallets(t){je.allWallets=t},setIncludeWalletIds(t){je.includeWalletIds=t},setExcludeWalletIds(t){je.excludeWalletIds=t},setFeaturedWalletIds(t){je.featuredWalletIds=t},setTokens(t){je.tokens=t},setTermsConditionsUrl(t){je.termsConditionsUrl=t},setPrivacyPolicyUrl(t){je.privacyPolicyUrl=t},setCustomWallets(t){je.customWallets=t},setIsSiweEnabled(t){je.isSiweEnabled=t},setIsUniversalProvider(t){je.isUniversalProvider=t},setSdkVersion(t){je.sdkVersion=t},setMetadata(t){je.metadata=t},setDisableAppend(t){je.disableAppend=t},setEIP6963Enabled(t){je.enableEIP6963=t},setDebug(t){je.debug=t},setEnableWalletConnect(t){je.enableWalletConnect=t},setEnableWalletGuide(t){je.enableWalletGuide=t},setEnableAuthLogger(t){je.enableAuthLogger=t},setEnableWallets(t){je.enableWallets=t},setHasMultipleAddresses(t){je.hasMultipleAddresses=t},setSIWX(t){je.siwx=t},setConnectMethodsOrder(t){je.features={...je.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){je.features={...je.features,walletFeaturesOrder:t}},setSocialsOrder(t){je.features={...je.features,socials:t}},setCollapseWallets(t){je.features={...je.features,collapseWallets:t}},setEnableEmbedded(t){je.enableEmbedded=t},setAllowUnsupportedChain(t){je.allowUnsupportedChain=t},setManualWCControl(t){je.manualWCControl=t},setEnableNetworkSwitch(t){je.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(je.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){je.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return je.universalProviderConfigOverride},getSnapshot(){return Db(je)}},Eu=Yr({message:"",variant:"info",open:!1}),Ym={state:Eu,subscribeKey(t,e){return To(Eu,t,e)},open(t,e){const{debug:r}=be.state,{shortMessage:n,longMessage:i}=t;r&&(Eu.message=n,Eu.variant=e,Eu.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Eu.open=!1,Eu.message="",Eu.variant="info"}},sY=Ke.getAnalyticsUrl(),oY=new Q_({baseUrl:sY,clientId:null}),aY=["MODAL_CREATED"],gl=Yr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Rr={state:gl,subscribe(t){return ks(gl,()=>t(gl))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=be.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Fe.state.address;if(aY.includes(t.data.event)||typeof window>"u")return;await oY.post({path:"/e",params:Rr.getSdkProperties(),body:{eventId:Ke.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),gl.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===_e.HTTP_STATUS_CODES.FORBIDDEN&&!gl.reportedErrors.FORBIDDEN&&(Ym.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Om()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),gl.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;gl.timestamp=Date.now(),gl.data=t,(e=be.state.features)!=null&&e.analytics&&Rr._sendAnalyticsEvent(gl)}},cY=Ke.getApiUrl(),is=new Q_({baseUrl:cY,clientId:null}),fY="40",Z5="4",lY=20,Qt=Yr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),dt={state:Qt,subscribeKey(t,e){return To(Qt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=be.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return be.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${is.baseUrl}/getWalletImage/${t}`,r=await is.getBlob({path:e,params:dt._getSdkProperties()});Hc.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${is.baseUrl}/public/getAssetImage/${t}`,r=await is.getBlob({path:e,params:dt._getSdkProperties()});Hc.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${is.baseUrl}/public/getAssetImage/${t}`,r=await is.getBlob({path:e,params:dt._getSdkProperties()});Hc.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${is.baseUrl}/public/getCurrencyImage/${t}`,r=await is.getBlob({path:e,params:dt._getSdkProperties()});Hc.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${is.baseUrl}/public/getTokenImage/${t}`,r=await is.getBlob({path:e,params:dt._getSdkProperties()});Hc.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=Q.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!tB.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>dt._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=ft.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>dt._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>dt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>dt._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=be.state;if(t!=null&&t.length){const{data:e}=await is.get({path:"/getWallets",params:{...dt._getSdkProperties(),page:"1",entries:t!=null&&t.length?String(t.length):Z5,include:t==null?void 0:t.join(",")}});e.sort((n,i)=>t.indexOf(n.id)-t.indexOf(i.id));const r=e.map(n=>n.image_id).filter(Boolean);await Promise.allSettled(r.map(n=>dt._fetchWalletImage(n))),Qt.featured=e,Qt.allFeatured=e}},async fetchRecommendedWallets(){try{Qt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=be.state,n=[...e??[],...r??[]].filter(Boolean),i=Q.getRequestedCaipNetworkIds().join(","),{data:s,count:o}=await is.get({path:"/getWallets",params:{...dt._getSdkProperties(),page:"1",chains:i,entries:Z5,include:t==null?void 0:t.join(","),exclude:n==null?void 0:n.join(",")}}),a=De.getRecentWallets(),c=s.map(l=>l.image_id).filter(Boolean),f=a.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...c,...f].map(l=>dt._fetchWalletImage(l))),Qt.recommended=s,Qt.allRecommended=s,Qt.count=o??0}catch{}finally{Qt.isFetchingRecommendedWallets=!1}},async fetchWallets({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=be.state,i=Q.getRequestedCaipNetworkIds().join(","),s=[...Qt.recommended.map(({id:f})=>f),...r??[],...n??[]].filter(Boolean),{data:o,count:a}=await is.get({path:"/getWallets",params:{...dt._getSdkProperties(),page:String(t),entries:fY,chains:i,include:e==null?void 0:e.join(","),exclude:s.join(",")}}),c=o.slice(0,lY).map(f=>f.image_id).filter(Boolean);await Promise.allSettled(c.map(f=>dt._fetchWalletImage(f))),Qt.wallets=Ke.uniqueBy([...Qt.wallets,...dt._filterOutExtensions(o)],"id"),Qt.count=a>Qt.count?a:Qt.count,Qt.page=t},async initializeExcludedWallets({ids:t}){const e=Q.getRequestedCaipNetworkIds().join(","),{data:r}=await is.get({path:"/getWallets",params:{...dt._getSdkProperties(),page:"1",entries:String(t.length),chains:e,include:t==null?void 0:t.join(",")}});r&&r.forEach(n=>{n!=null&&n.rdns&&Qt.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=be.state;Qt.search=[];const i=Q.getRequestedCaipNetworkIds().join(","),{data:s}=await is.get({path:"/getWallets",params:{...dt._getSdkProperties(),page:"1",entries:"100",search:t==null?void 0:t.trim(),badge_type:e,chains:i,include:r==null?void 0:r.join(","),exclude:n==null?void 0:n.join(",")}});Rr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=s.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...o.map(a=>dt._fetchWalletImage(a)),Ke.wait(300)]),Qt.search=dt._filterOutExtensions(s)},initPromise(t,e){const r=Qt.promises[t];return r||(Qt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&dt.initPromise("connectorImages",dt.fetchConnectorImages),e&&dt.initPromise("featuredWallets",dt.fetchFeaturedWallets),r&&dt.initPromise("recommendedWallets",dt.fetchRecommendedWallets),n&&dt.initPromise("networkImages",dt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=be.state.features)!=null&&t.analytics&&dt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await is.get({path:"/getAnalyticsConfig",params:dt._getSdkProperties()});be.setFeatures({analytics:t})}catch{be.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Qt.featured=Qt.allFeatured,Qt.recommended=Qt.allRecommended;return}const e=Q.getRequestedCaipNetworkIds().join(",");Qt.featured=Qt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))}),Qt.recommended=Qt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))})}},qt=Yr({view:"Connect",history:["Connect"],transactionStack:[]}),rr={state:qt,subscribeKey(t,e){return To(qt,t,e)},pushTransactionStack(t){qt.transactionStack.push(t)},popTransactionStack(t){var r,n;const e=qt.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=qt.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(vn.close(),qt.history=[])}else e.view&&this.reset(e.view);(n=e==null?void 0:e.onSuccess)==null||n.call(e)}},push(t,e){t!==qt.view&&(qt.view=t,qt.history.push(t),qt.data=e)},reset(t,e){qt.view=t,qt.history=[t],qt.data=e},replace(t,e){qt.history.at(-1)===t||(qt.view=t,qt.history[qt.history.length-1]=t,qt.data=e)},goBack(){var e;const t=!Q.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(qt.history.length>1&&!qt.history.includes("UnsupportedChain")){qt.history.pop();const[r]=qt.history.slice(-1);r&&(qt.view=r)}else vn.close();(e=qt.data)!=null&&e.wallet&&(qt.data.wallet=void 0),setTimeout(()=>{var r,n,i;if(t){Fe.setFarcasterUrl(void 0,Q.state.activeChain);const s=ft.getAuthConnector();(r=s==null?void 0:s.provider)==null||r.reload();const o=Db(be.state);(i=(n=s==null?void 0:s.provider)==null?void 0:n.syncDappData)==null||i.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(qt.history.length>1){qt.history=qt.history.slice(0,t+1);const[e]=qt.history.slice(-1);e&&(qt.view=e)}}},ml=Yr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),os={state:ml,subscribe(t){return ks(ml,()=>t(ml))},setThemeMode(t){ml.themeMode=t;try{const e=ft.getAuthConnector();if(e){const r=os.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Wl(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ml.themeVariables={...ml.themeVariables,...t};try{const e=ft.getAuthConnector();if(e){const r=os.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Wl(ml.themeVariables,ml.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Db(ml)}},rB={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},er=Yr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...rB}}),ft={state:er,subscribe(t){return ks(er,()=>{t(er)})},subscribeKey(t,e){return To(er,t,e)},initialize(t){t.forEach(e=>{const r=De.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(er.activeConnector=Fd(t))},setConnectors(t){t.filter(r=>!er.allConnectors.some(n=>n.id===r.id&&this.getConnectorName(n.name)===this.getConnectorName(r.name)&&n.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&er.allConnectors.push(Fd(r))}),er.connectors=this.mergeMultiChainConnectors(er.allConnectors)},removeAdapter(t){er.allConnectors=er.allConnectors.filter(e=>e.chain!==t),er.connectors=this.mergeMultiChainConnectors(er.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=(i==null?void 0:i.id)===_e.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=this.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===_e.CONNECTOR_ID.AUTH){const i=t,s=Db(be.state),o=os.getSnapshot().themeMode,a=os.getSnapshot().themeVariables;(r=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(n=i==null?void 0:i.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Wl(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var n;const e=t||Q.state.activeChain,r=er.connectors.find(i=>i.id===_e.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(s=>s.chain===e):r},getAnnouncedConnectorRdns(){return er.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return er.allConnectors.find(e=>e.id===t)},getConnector(t,e){return er.allConnectors.filter(n=>n.chain===Q.state.activeChain).find(n=>{var i;return n.explorerId===t||((i=n.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,r=Db(be.state),n=os.getSnapshot().themeMode,i=os.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Wl(i,n)})},getConnectorsByNamespace(t){const e=er.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ft.getConnector(t.id,t.rdns);Q.state.activeChain===_e.CHAIN.SOLANA&&rY.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?rr.push("ConnectingExternal",{connector:e}):rr.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(er.allConnectors)},setFilterByNamespace(t){er.filterByNamespace=t,er.connectors=this.getConnectors(t),dt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(er.activeConnectorIds={...er.activeConnectorIds,[e]:t},De.setConnectedConnectorId(e,t))},removeConnectorId(t){er.activeConnectorIds={...er.activeConnectorIds,[t]:void 0},De.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return er.activeConnectorIds[t]},isConnected(t){return t?!!er.activeConnectorIds[t]:Object.values(er.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){er.activeConnectorIds={...rB}}};function Ly(t,e){return ft.getConnectorId(t)===e}function uY(t){const e=Array.from(Q.state.chains.keys());let r=[];return t?(r.push([t,Q.state.chains.get(t)]),Ly(t,_e.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(n=>{n!==t&&Ly(n,_e.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,Q.state.chains.get(n)])}):Ly(t,_e.CONNECTOR_ID.AUTH)&&e.forEach(n=>{n!==t&&Ly(n,_e.CONNECTOR_ID.AUTH)&&r.push([n,Q.state.chains.get(n)])})):r=Array.from(Q.state.chains.entries()),r}var CT={exports:{}},xp=typeof Reflect=="object"?Reflect:null,Q5=xp&&typeof xp.apply=="function"?xp.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},T1;xp&&typeof xp.ownKeys=="function"?T1=xp.ownKeys:Object.getOwnPropertySymbols?T1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:T1=function(e){return Object.getOwnPropertyNames(e)};function hY(t){console&&console.warn&&console.warn(t)}var nB=Number.isNaN||function(e){return e!==e};function vr(){vr.init.call(this)}CT.exports=vr;CT.exports.once=mY;vr.EventEmitter=vr;vr.prototype._events=void 0;vr.prototype._eventsCount=0;vr.prototype._maxListeners=void 0;var e8=10;function eA(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(vr,"defaultMaxListeners",{enumerable:!0,get:function(){return e8},set:function(t){if(typeof t!="number"||t<0||nB(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");e8=t}});vr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};vr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||nB(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function iB(t){return t._maxListeners===void 0?vr.defaultMaxListeners:t._maxListeners}vr.prototype.getMaxListeners=function(){return iB(this)};vr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Q5(c,this,r);else for(var f=c.length,l=fB(c,f),n=0;n<f;++n)Q5(l[n],this,r);return!0};function sB(t,e,r,n){var i,s,o;if(eA(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=iB(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,hY(a)}return t}vr.prototype.addListener=function(e,r){return sB(this,e,r,!1)};vr.prototype.on=vr.prototype.addListener;vr.prototype.prependListener=function(e,r){return sB(this,e,r,!0)};function dY(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function oB(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=dY.bind(n);return i.listener=r,n.wrapFn=i,i}vr.prototype.once=function(e,r){return eA(r),this.on(e,oB(this,e,r)),this};vr.prototype.prependOnceListener=function(e,r){return eA(r),this.prependListener(e,oB(this,e,r)),this};vr.prototype.removeListener=function(e,r){var n,i,s,o,a;if(eA(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():pY(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};vr.prototype.off=vr.prototype.removeListener;vr.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function aB(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?gY(i):fB(i,i.length)}vr.prototype.listeners=function(e){return aB(this,e,!0)};vr.prototype.rawListeners=function(e){return aB(this,e,!1)};vr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):cB.call(t,e)};vr.prototype.listenerCount=cB;function cB(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}vr.prototype.eventNames=function(){return this._eventsCount>0?T1(this._events):[]};function fB(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function pY(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function gY(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function mY(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}lB(t,e,s,{once:!0}),e!=="error"&&bY(t,i,{once:!0})})}function bY(t,e,r){typeof t.on=="function"&&lB(t,"error",e,r)}function lB(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var _a=CT.exports;const OT=va(_a);var ve={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bS=function(t,e){return bS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bS(t,e)};function EY(t,e){bS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ES=function(){return ES=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ES.apply(this,arguments)};function yY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function wY(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function vY(t,e){return function(r,n){e(r,n,t)}}function _Y(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function AY(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})}function NY(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(l){return c([f,l])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(l){f=[6,l],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function xY(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function IY(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function yS(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uB(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function SY(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uB(arguments[e]));return t}function RY(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function kb(t){return this instanceof kb?(this.v=t,this):new kb(t)}function TY(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(m,w){s.push([h,g,m,w])>1||a(h,g)})})}function a(h,g){try{c(n[h](g))}catch(m){u(s[0][3],m)}}function c(h){h.value instanceof kb?Promise.resolve(h.value.v).then(f,l):u(s[0][2],h)}function f(h){a("next",h)}function l(h){a("throw",h)}function u(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function CY(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:kb(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function OY(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof yS=="function"?yS(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(f){s({value:f,done:a})},o)}}function PY(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function UY(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function MY(t){return t&&t.__esModule?t:{default:t}}function DY(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function kY(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const LY=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ES},__asyncDelegator:CY,__asyncGenerator:TY,__asyncValues:OY,__await:kb,__awaiter:AY,__classPrivateFieldGet:DY,__classPrivateFieldSet:kY,__createBinding:xY,__decorate:wY,__exportStar:IY,__extends:EY,__generator:NY,__importDefault:MY,__importStar:UY,__makeTemplateObject:PY,__metadata:_Y,__param:vY,__read:uB,__rest:yY,__spread:SY,__spreadArrays:RY,__values:yS},Symbol.toStringTag,{value:"Module"})),XE=Zr(LY);var DN={},Kg={},t8;function FY(){if(t8)return Kg;t8=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Kg.delay=t,Kg}var Zh={},kN={},Qh={},r8;function $Y(){return r8||(r8=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.ONE_THOUSAND=Qh.ONE_HUNDRED=void 0,Qh.ONE_HUNDRED=100,Qh.ONE_THOUSAND=1e3),Qh}var LN={},n8;function BY(){return n8||(n8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(LN)),LN}var i8;function hB(){return i8||(i8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=XE;e.__exportStar($Y(),t),e.__exportStar(BY(),t)}(kN)),kN}var s8;function GY(){if(s8)return Zh;s8=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.fromMiliseconds=Zh.toMiliseconds=void 0;const t=hB();function e(n){return n*t.ONE_THOUSAND}Zh.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Zh.fromMiliseconds=r,Zh}var o8;function jY(){return o8||(o8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=XE;e.__exportStar(FY(),t),e.__exportStar(GY(),t)}(DN)),DN}var _0={},a8;function zY(){if(a8)return _0;a8=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return _0.Watch=t,_0.default=t,_0}var FN={},Jg={},c8;function WY(){if(c8)return Jg;c8=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.IWatch=void 0;class t{}return Jg.IWatch=t,Jg}var f8;function HY(){return f8||(f8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),XE.__exportStar(WY(),t)}(FN)),FN}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=XE;e.__exportStar(jY(),t),e.__exportStar(zY(),t),e.__exportStar(HY(),t),e.__exportStar(hB(),t)})(ve);class c0{}let qY=class extends c0{constructor(e){super()}};const l8=ve.FIVE_SECONDS,yg={pulse:"heartbeat_pulse"};let VY=class dB extends qY{constructor(e){super(e),this.events=new _a.EventEmitter,this.interval=l8,this.interval=(e==null?void 0:e.interval)||l8}static async init(e){const r=new dB(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ve.toMiliseconds(this.interval))}pulse(){this.events.emit(yg.pulse)}};const KY=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,JY=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,XY=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function YY(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ZY(t);return}return e}function ZY(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Fy(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!XY.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(KY.test(t)||JY.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,YY)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function QY(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Ii(t,...e){try{return QY(t(...e))}catch(r){return Promise.reject(r)}}function eZ(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function tZ(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function C1(t){if(eZ(t))return String(t);if(tZ(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return C1(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const wS="base64:";function rZ(t){return typeof t=="string"?t:wS+sZ(t)}function nZ(t){return typeof t!="string"||!t.startsWith(wS)?t:iZ(t.slice(wS.length))}function iZ(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function sZ(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ys(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function oZ(...t){return Ys(t.join(":"))}function $y(t){return t=Ys(t),t?t+":":""}function aZ(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function cZ(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const fZ="memory",lZ=()=>{const t=new Map;return{name:fZ,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function uZ(t={}){const e={mounts:{"":t.driver||lZ()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=f=>{for(const l of e.mountpoints)if(f.startsWith(l))return{base:l,relativeKey:f.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:f,driver:e.mounts[""]}},n=(f,l)=>e.mountpoints.filter(u=>u.startsWith(f)||l&&f.startsWith(u)).map(u=>({relativeBase:f.length>u.length?f.slice(u.length):void 0,mountpoint:u,driver:e.mounts[u]})),i=(f,l)=>{if(e.watching){l=Ys(l);for(const u of e.watchListeners)u(f,l)}},s=async()=>{if(!e.watching){e.watching=!0;for(const f in e.mounts)e.unwatch[f]=await u8(e.mounts[f],i,f)}},o=async()=>{if(e.watching){for(const f in e.unwatch)await e.unwatch[f]();e.unwatch={},e.watching=!1}},a=(f,l,u)=>{const h=new Map,g=m=>{let w=h.get(m.base);return w||(w={driver:m.driver,base:m.base,items:[]},h.set(m.base,w)),w};for(const m of f){const w=typeof m=="string",N=Ys(w?m:m.key),I=w?void 0:m.value,C=w||!m.options?l:{...l,...m.options},M=r(N);g(M).items.push({key:N,value:I,relativeKey:M.relativeKey,options:C})}return Promise.all([...h.values()].map(m=>u(m))).then(m=>m.flat())},c={hasItem(f,l={}){f=Ys(f);const{relativeKey:u,driver:h}=r(f);return Ii(h.hasItem,u,l)},getItem(f,l={}){f=Ys(f);const{relativeKey:u,driver:h}=r(f);return Ii(h.getItem,u,l).then(g=>Fy(g))},getItems(f,l={}){return a(f,l,u=>u.driver.getItems?Ii(u.driver.getItems,u.items.map(h=>({key:h.relativeKey,options:h.options})),l).then(h=>h.map(g=>({key:oZ(u.base,g.key),value:Fy(g.value)}))):Promise.all(u.items.map(h=>Ii(u.driver.getItem,h.relativeKey,h.options).then(g=>({key:h.key,value:Fy(g)})))))},getItemRaw(f,l={}){f=Ys(f);const{relativeKey:u,driver:h}=r(f);return h.getItemRaw?Ii(h.getItemRaw,u,l):Ii(h.getItem,u,l).then(g=>nZ(g))},async setItem(f,l,u={}){if(l===void 0)return c.removeItem(f);f=Ys(f);const{relativeKey:h,driver:g}=r(f);g.setItem&&(await Ii(g.setItem,h,C1(l),u),g.watch||i("update",f))},async setItems(f,l){await a(f,l,async u=>{if(u.driver.setItems)return Ii(u.driver.setItems,u.items.map(h=>({key:h.relativeKey,value:C1(h.value),options:h.options})),l);u.driver.setItem&&await Promise.all(u.items.map(h=>Ii(u.driver.setItem,h.relativeKey,C1(h.value),h.options)))})},async setItemRaw(f,l,u={}){if(l===void 0)return c.removeItem(f,u);f=Ys(f);const{relativeKey:h,driver:g}=r(f);if(g.setItemRaw)await Ii(g.setItemRaw,h,l,u);else if(g.setItem)await Ii(g.setItem,h,rZ(l),u);else return;g.watch||i("update",f)},async removeItem(f,l={}){typeof l=="boolean"&&(l={removeMeta:l}),f=Ys(f);const{relativeKey:u,driver:h}=r(f);h.removeItem&&(await Ii(h.removeItem,u,l),(l.removeMeta||l.removeMata)&&await Ii(h.removeItem,u+"$",l),h.watch||i("remove",f))},async getMeta(f,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),f=Ys(f);const{relativeKey:u,driver:h}=r(f),g=Object.create(null);if(h.getMeta&&Object.assign(g,await Ii(h.getMeta,u,l)),!l.nativeOnly){const m=await Ii(h.getItem,u+"$",l).then(w=>Fy(w));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(g,m))}return g},setMeta(f,l,u={}){return this.setItem(f+"$",l,u)},removeMeta(f,l={}){return this.removeItem(f+"$",l)},async getKeys(f,l={}){var N;f=$y(f);const u=n(f,!0);let h=[];const g=[];let m=!0;for(const I of u){(N=I.driver.flags)!=null&&N.maxDepth||(m=!1);const C=await Ii(I.driver.getKeys,I.relativeBase,l);for(const M of C){const k=I.mountpoint+Ys(M);h.some(L=>k.startsWith(L))||g.push(k)}h=[I.mountpoint,...h.filter(M=>!M.startsWith(I.mountpoint))]}const w=l.maxDepth!==void 0&&!m;return g.filter(I=>(!w||aZ(I,l.maxDepth))&&cZ(I,f))},async clear(f,l={}){f=$y(f),await Promise.all(n(f,!1).map(async u=>{if(u.driver.clear)return Ii(u.driver.clear,u.relativeBase,l);if(u.driver.removeItem){const h=await u.driver.getKeys(u.relativeBase||"",l);return Promise.all(h.map(g=>u.driver.removeItem(g,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(f=>h8(f)))},async watch(f){return await s(),e.watchListeners.push(f),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==f),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(f,l){if(f=$y(f),f&&e.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(e.mountpoints.push(f),e.mountpoints.sort((u,h)=>h.length-u.length)),e.mounts[f]=l,e.watching&&Promise.resolve(u8(l,i,f)).then(u=>{e.unwatch[f]=u}).catch(console.error),c},async unmount(f,l=!0){var u,h;f=$y(f),!(!f||!e.mounts[f])&&(e.watching&&f in e.unwatch&&((h=(u=e.unwatch)[f])==null||h.call(u),delete e.unwatch[f]),l&&await h8(e.mounts[f]),e.mountpoints=e.mountpoints.filter(g=>g!==f),delete e.mounts[f])},getMount(f=""){f=Ys(f)+":";const l=r(f);return{driver:l.driver,base:l.base}},getMounts(f="",l={}){return f=Ys(f),n(f,l.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(f,l={})=>c.getKeys(f,l),get:(f,l={})=>c.getItem(f,l),set:(f,l,u={})=>c.setItem(f,l,u),has:(f,l={})=>c.hasItem(f,l),del:(f,l={})=>c.removeItem(f,l),remove:(f,l={})=>c.removeItem(f,l)};return c}function u8(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function h8(t){typeof t.dispose=="function"&&await Ii(t.dispose)}function f0(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function pB(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=f0(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let $N;function YE(){return $N||($N=pB("keyval-store","keyval")),$N}function d8(t,e=YE()){return e("readonly",r=>f0(r.get(t)))}function hZ(t,e,r=YE()){return r("readwrite",n=>(n.put(e,t),f0(n.transaction)))}function dZ(t,e=YE()){return e("readwrite",r=>(r.delete(t),f0(r.transaction)))}function pZ(t=YE()){return t("readwrite",e=>(e.clear(),f0(e.transaction)))}function gZ(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},f0(t.transaction)}function mZ(t=YE()){return t("readonly",e=>{if(e.getAllKeys)return f0(e.getAllKeys());const r=[];return gZ(e,n=>r.push(n.key)).then(()=>r)})}const bZ=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),EZ=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Bd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return EZ(t)}catch{return t}}function tu(t){return typeof t=="string"?t:bZ(t)||""}const yZ="idb-keyval";var wZ=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=pB(t.dbName,t.storeName)),{name:yZ,options:t,async hasItem(i){return!(typeof await d8(r(i),n)>"u")},async getItem(i){return await d8(r(i),n)??null},setItem(i,s){return hZ(r(i),s,n)},removeItem(i){return dZ(r(i),n)},getKeys(){return mZ(n)},clear(){return pZ(n)}}};const vZ="WALLET_CONNECT_V2_INDEXED_DB",_Z="keyvaluestorage";let AZ=class{constructor(){this.indexedDb=uZ({driver:wZ({dbName:vZ,storeName:_Z})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,tu(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var BN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O1={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof BN<"u"&&BN.localStorage?O1.exports=BN.localStorage:typeof window<"u"&&window.localStorage?O1.exports=window.localStorage:O1.exports=new e})();function NZ(t){var e;return[t[0],Bd((e=t[1])!=null?e:"")]}let xZ=class{constructor(){this.localStorage=O1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(NZ)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Bd(r)}async setItem(e,r){this.localStorage.setItem(e,tu(r))}async removeItem(e){this.localStorage.removeItem(e)}};const IZ="wc_storage_version",p8=1,SZ=async(t,e,r)=>{const n=IZ,i=await e.getItem(n);if(i&&i>=p8){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const f=await t.getItem(a);await e.setItem(a,f),o.push(a)}}await e.setItem(n,p8),r(e),RZ(t,o)},RZ=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let TZ=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new xZ;this.storage=e;try{const r=new AZ;SZ(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function CZ(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var OZ=PZ;function PZ(t,e,r){var n=r&&r.stringify||CZ,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var f="",l=1-i,u=-1,h=t&&t.length||0,g=0;g<h;){if(t.charCodeAt(g)===37&&g+1<h){switch(u=u>-1?u:0,t.charCodeAt(g+1)){case 100:case 102:if(l>=c||e[l]==null)break;u<g&&(f+=t.slice(u,g)),f+=Number(e[l]),u=g+2,g++;break;case 105:if(l>=c||e[l]==null)break;u<g&&(f+=t.slice(u,g)),f+=Math.floor(Number(e[l])),u=g+2,g++;break;case 79:case 111:case 106:if(l>=c||e[l]===void 0)break;u<g&&(f+=t.slice(u,g));var m=typeof e[l];if(m==="string"){f+="'"+e[l]+"'",u=g+2,g++;break}if(m==="function"){f+=e[l].name||"<anonymous>",u=g+2,g++;break}f+=n(e[l]),u=g+2,g++;break;case 115:if(l>=c)break;u<g&&(f+=t.slice(u,g)),f+=String(e[l]),u=g+2,g++;break;case 37:u<g&&(f+=t.slice(u,g)),f+="%",u=g+2,g++,l--;break}++l}++g}return u===-1?t:(u<h&&(f+=t.slice(u)),f)}const g8=OZ;var Y0=Jf;const Lb=jZ().console||{},UZ={mapHttpRequest:By,mapHttpResponse:By,wrapRequestSerializer:GN,wrapResponseSerializer:GN,wrapErrorSerializer:GN,req:By,res:By,err:FZ};function MZ(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Jf(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||Lb;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=MZ(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=Fb),Object.defineProperty(c,"levelVal",{get:l}),Object.defineProperty(c,"level",{get:u,set:h});const f={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:$Z(t)};c.levels=Jf.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Fb,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=g,e&&(c._logEvent=vS());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function u(){return this._level}function h(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,A0(f,c,"error","log"),A0(f,c,"fatal","error"),A0(f,c,"warn","error"),A0(f,c,"info","log"),A0(f,c,"debug","log"),A0(f,c,"trace","log")}function g(m,w){if(!m)throw new Error("missing bindings for child Pino");w=w||{},i&&m.serializers&&(w.serializers=m.serializers);const N=w.serializers;if(i&&N){var I=Object.assign({},n,N),C=t.browser.serialize===!0?Object.keys(I):i;delete m.serializers,tA([m],C,I,this._stdErrSerialize)}function M(k){this._childLevel=(k._childLevel|0)+1,this.error=N0(k,m,"error"),this.fatal=N0(k,m,"fatal"),this.warn=N0(k,m,"warn"),this.info=N0(k,m,"info"),this.debug=N0(k,m,"debug"),this.trace=N0(k,m,"trace"),I&&(this.serializers=I,this._serialize=C),e&&(this._logEvent=vS([].concat(k._logEvent.bindings,m)))}return M.prototype=this,new M(this)}return c}Jf.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Jf.stdSerializers=UZ;Jf.stdTimeFunctions=Object.assign({},{nullTime:gB,epochTime:mB,unixTime:BZ,isoTime:GZ});function A0(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Fb:i[r]?i[r]:Lb[r]||Lb[n]||Fb,DZ(t,e,r)}function DZ(t,e,r){!t.transmit&&e[r]===Fb||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Lb?Lb:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&tA(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,kZ(this,r,o,s)):n.apply(a,o),t.transmit){const f=t.transmit.level||e.level,l=Jf.levels.values[f],u=Jf.levels.values[r];if(u<l)return;LZ(this,{ts:s,methodLevel:r,methodValue:u,transmitLevel:f,transmitValue:Jf.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function kZ(t,e,r,n){t._serialize&&tA(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Jf.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?g8(i.shift(),i):void 0}else typeof s=="string"&&(s=g8(i.shift(),i));return s!==void 0&&(o.msg=s),o}function tA(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Jf.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function N0(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function LZ(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;tA(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(f){return c.indexOf(f)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=vS(c)}function vS(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function FZ(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function $Z(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?gB:mB}function By(){return{}}function GN(t){return t}function Fb(){}function gB(){return!1}function mB(){return Date.now()}function BZ(){return Math.round(Date.now()/1e3)}function GZ(){return new Date(Date.now()).toISOString()}function jZ(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const ZE=va(Y0),zZ={level:"info"},QE="custom_context",PT=1e3*1024;let WZ=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},m8=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new WZ(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},bB=class{constructor(e,r=PT){this.level=e??"error",this.levelValue=Y0.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new m8(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Y0.levels.values.error?console.error(e):r===Y0.levels.values.warn?console.warn(e):r===Y0.levels.values.debug?console.debug(e):r===Y0.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(tu({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new m8(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(tu({extraMetadata:e})),new Blob(r,{type:"application/json"})}},HZ=class{constructor(e,r=PT){this.baseChunkLogger=new bB(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},qZ=class{constructor(e,r=PT){this.baseChunkLogger=new bB(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var VZ=Object.defineProperty,KZ=Object.defineProperties,JZ=Object.getOwnPropertyDescriptors,b8=Object.getOwnPropertySymbols,XZ=Object.prototype.hasOwnProperty,YZ=Object.prototype.propertyIsEnumerable,E8=(t,e,r)=>e in t?VZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Uv=(t,e)=>{for(var r in e||(e={}))XZ.call(e,r)&&E8(t,r,e[r]);if(b8)for(var r of b8(e))YZ.call(e,r)&&E8(t,r,e[r]);return t},Mv=(t,e)=>KZ(t,JZ(e));function wg(t){return Mv(Uv({},t),{level:(t==null?void 0:t.level)||zZ.level})}function ZZ(t,e=QE){return t[e]||""}function QZ(t,e,r=QE){return t[r]=e,t}function co(t,e=QE){let r="";return typeof t.bindings>"u"?r=ZZ(t,e):r=t.bindings().context||"",r}function eQ(t,e,r=QE){const n=co(t,r);return n.trim()?`${n}/${e}`:e}function ws(t,e,r=QE){const n=eQ(t,e,r),i=t.child({context:n});return QZ(i,n,r)}function tQ(t){var e,r;const n=new HZ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ZE(Mv(Uv({},t.opts),{level:"trace",browser:Mv(Uv({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function rQ(t){var e;const r=new qZ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ZE(Mv(Uv({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function UT(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?tQ(t):rQ(t)}var nQ=Object.defineProperty,iQ=(t,e,r)=>e in t?nQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y8=(t,e,r)=>iQ(t,typeof e!="symbol"?e+"":e,r);let sQ=class extends c0{constructor(e){super(),this.opts=e,y8(this,"protocol","wc"),y8(this,"version",2)}};var oQ=Object.defineProperty,aQ=(t,e,r)=>e in t?oQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cQ=(t,e,r)=>aQ(t,typeof e!="symbol"?e+"":e,r);let fQ=class extends c0{constructor(e,r){super(),this.core=e,this.logger=r,cQ(this,"records",new Map)}},lQ=class{constructor(e,r){this.logger=e,this.core=r}},uQ=class extends c0{constructor(e,r){super(),this.relayer=e,this.logger=r}},hQ=class extends c0{constructor(e){super()}},dQ=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},pQ=class extends c0{constructor(e,r){super(),this.relayer=e,this.logger=r}},gQ=class extends c0{constructor(e,r){super(),this.core=e,this.logger=r}},mQ=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},bQ=class{constructor(e,r){this.projectId=e,this.logger=r}},EQ=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var yQ=Object.defineProperty,wQ=(t,e,r)=>e in t?yQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w8=(t,e,r)=>wQ(t,typeof e!="symbol"?e+"":e,r);let vQ=class{constructor(e){this.opts=e,w8(this,"protocol","wc"),w8(this,"version",2)}},_Q=class{constructor(e){this.client=e}};function AQ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function EB(t,...e){if(!AQ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function v8(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function NQ(t,e){EB(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const x0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function xQ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function yB(t){return typeof t=="string"&&(t=xQ(t)),EB(t),t}let IQ=class{clone(){return this._cloneInto()}};function SQ(t){const e=n=>t().update(yB(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function wB(t=32){if(x0&&typeof x0.getRandomValues=="function")return x0.getRandomValues(new Uint8Array(t));if(x0&&typeof x0.randomBytes=="function")return x0.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function RQ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,f=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+f,a,n)}let TQ=class extends IQ{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jN(this.buffer)}update(e){v8(this);const{view:r,buffer:n,blockLen:i}=this;e=yB(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=jN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){v8(this),NQ(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let u=o;u<i;u++)r[u]=0;RQ(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=jN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<f;u++)a.setUint32(4*u,l[u],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const Gy=BigInt(2**32-1),_S=BigInt(32);function vB(t,e=!1){return e?{h:Number(t&Gy),l:Number(t>>_S&Gy)}:{h:Number(t>>_S&Gy)|0,l:Number(t&Gy)|0}}function CQ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=vB(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const OQ=(t,e)=>BigInt(t>>>0)<<_S|BigInt(e>>>0),PQ=(t,e,r)=>t>>>r,UQ=(t,e,r)=>t<<32-r|e>>>r,MQ=(t,e,r)=>t>>>r|e<<32-r,DQ=(t,e,r)=>t<<32-r|e>>>r,kQ=(t,e,r)=>t<<64-r|e>>>r-32,LQ=(t,e,r)=>t>>>r-32|e<<64-r,FQ=(t,e)=>e,$Q=(t,e)=>t,BQ=(t,e,r)=>t<<r|e>>>32-r,GQ=(t,e,r)=>e<<r|t>>>32-r,jQ=(t,e,r)=>e<<r-32|t>>>64-r,zQ=(t,e,r)=>t<<r-32|e>>>64-r;function WQ(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const HQ=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),qQ=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,VQ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),KQ=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,JQ=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),XQ=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,ht={fromBig:vB,split:CQ,toBig:OQ,shrSH:PQ,shrSL:UQ,rotrSH:MQ,rotrSL:DQ,rotrBH:kQ,rotrBL:LQ,rotr32H:FQ,rotr32L:$Q,rotlSH:BQ,rotlSL:GQ,rotlBH:jQ,rotlBL:zQ,add:WQ,add3L:HQ,add3H:qQ,add4L:VQ,add4H:KQ,add5H:XQ,add5L:JQ},[YQ,ZQ]=(()=>ht.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),yu=new Uint32Array(80),wu=new Uint32Array(80);let QQ=class extends TQ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:f,El:l,Fh:u,Fl:h,Gh:g,Gl:m,Hh:w,Hl:N}=this;return[e,r,n,i,s,o,a,c,f,l,u,h,g,m,w,N]}set(e,r,n,i,s,o,a,c,f,l,u,h,g,m,w,N){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=l|0,this.Fh=u|0,this.Fl=h|0,this.Gh=g|0,this.Gl=m|0,this.Hh=w|0,this.Hl=N|0}process(e,r){for(let M=0;M<16;M++,r+=4)yu[M]=e.getUint32(r),wu[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){const k=yu[M-15]|0,L=wu[M-15]|0,$=ht.rotrSH(k,L,1)^ht.rotrSH(k,L,8)^ht.shrSH(k,L,7),V=ht.rotrSL(k,L,1)^ht.rotrSL(k,L,8)^ht.shrSL(k,L,7),P=yu[M-2]|0,O=wu[M-2]|0,F=ht.rotrSH(P,O,19)^ht.rotrBH(P,O,61)^ht.shrSH(P,O,6),U=ht.rotrSL(P,O,19)^ht.rotrBL(P,O,61)^ht.shrSL(P,O,6),b=ht.add4L(V,U,wu[M-7],wu[M-16]),y=ht.add4H(b,$,F,yu[M-7],yu[M-16]);yu[M]=y|0,wu[M]=b|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:f,Dl:l,Eh:u,El:h,Fh:g,Fl:m,Gh:w,Gl:N,Hh:I,Hl:C}=this;for(let M=0;M<80;M++){const k=ht.rotrSH(u,h,14)^ht.rotrSH(u,h,18)^ht.rotrBH(u,h,41),L=ht.rotrSL(u,h,14)^ht.rotrSL(u,h,18)^ht.rotrBL(u,h,41),$=u&g^~u&w,V=h&m^~h&N,P=ht.add5L(C,L,V,ZQ[M],wu[M]),O=ht.add5H(P,I,k,$,YQ[M],yu[M]),F=P|0,U=ht.rotrSH(n,i,28)^ht.rotrBH(n,i,34)^ht.rotrBH(n,i,39),b=ht.rotrSL(n,i,28)^ht.rotrBL(n,i,34)^ht.rotrBL(n,i,39),y=n&s^n&a^s&a,d=i&o^i&c^o&c;I=w|0,C=N|0,w=g|0,N=m|0,g=u|0,m=h|0,{h:u,l:h}=ht.add(f|0,l|0,O|0,F|0),f=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const p=ht.add3L(F,b,d);n=ht.add3H(p,O,U,y),i=p|0}({h:n,l:i}=ht.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ht.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ht.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l}=ht.add(this.Dh|0,this.Dl|0,f|0,l|0),{h:u,l:h}=ht.add(this.Eh|0,this.El|0,u|0,h|0),{h:g,l:m}=ht.add(this.Fh|0,this.Fl|0,g|0,m|0),{h:w,l:N}=ht.add(this.Gh|0,this.Gl|0,w|0,N|0),{h:I,l:C}=ht.add(this.Hh|0,this.Hl|0,I|0,C|0),this.set(n,i,s,o,a,c,f,l,u,h,g,m,w,N,I,C)}roundClean(){yu.fill(0),wu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const eee=SQ(()=>new QQ);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MT=BigInt(0),_B=BigInt(1),tee=BigInt(2);function DT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kT(t){if(!DT(t))throw new Error("Uint8Array expected")}function zN(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const ree=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function LT(t){kT(t);let e="";for(let r=0;r<t.length;r++)e+=ree[t[r]];return e}function AB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?MT:BigInt("0x"+t)}const bl={_0:48,_9:57,A:65,F:70,a:97,f:102};function _8(t){if(t>=bl._0&&t<=bl._9)return t-bl._0;if(t>=bl.A&&t<=bl.F)return t-(bl.A-10);if(t>=bl.a&&t<=bl.f)return t-(bl.a-10)}function NB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=_8(t.charCodeAt(s)),a=_8(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function nee(t){return AB(LT(t))}function P1(t){return kT(t),AB(LT(Uint8Array.from(t).reverse()))}function xB(t,e){return NB(t.toString(16).padStart(e*2,"0"))}function AS(t,e){return xB(t,e).reverse()}function El(t,e,r){let n;if(typeof e=="string")try{n=NB(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(DT(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function A8(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];kT(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const WN=t=>typeof t=="bigint"&&MT<=t;function iee(t,e,r){return WN(t)&&WN(e)&&WN(r)&&e<=t&&t<r}function Xg(t,e,r,n){if(!iee(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function see(t){let e;for(e=0;t>MT;t>>=_B,e+=1);return e}const oee=t=>(tee<<BigInt(t-1))-_B,aee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||DT(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function FT(t,e,r={}){const n=(i,s,o)=>{const a=aee[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function N8(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Ci=BigInt(0),un=BigInt(1),hd=BigInt(2),cee=BigInt(3),NS=BigInt(4),x8=BigInt(5),I8=BigInt(8);function mi(t,e){const r=t%e;return r>=Ci?r:e+r}function fee(t,e,r){if(e<Ci)throw new Error("invalid exponent, negatives unsupported");if(r<=Ci)throw new Error("invalid modulus");if(r===un)return Ci;let n=un;for(;e>Ci;)e&un&&(n=n*t%r),t=t*t%r,e>>=un;return n}function wf(t,e,r){let n=t;for(;e-- >Ci;)n*=n,n%=r;return n}function S8(t,e){if(t===Ci)throw new Error("invert: expected non-zero number");if(e<=Ci)throw new Error("invert: expected positive modulus, got "+e);let r=mi(t,e),n=e,i=Ci,s=un;for(;r!==Ci;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==un)throw new Error("invert: does not exist");return mi(i,e)}function lee(t){const e=(t-un)/hd;let r,n,i;for(r=t-un,n=0;r%hd===Ci;r/=hd,n++);for(i=hd;i<t&&fee(i,e,t)!==t-un;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+un)/NS;return function(a,c){const f=a.pow(c,o);if(!a.eql(a.sqr(f),c))throw new Error("Cannot find square root");return f}}const s=(r+un)/hd;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,f=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),u=o.pow(a,r);for(;!o.eql(u,o.ONE);){if(o.eql(u,o.ZERO))return o.ZERO;let h=1;for(let m=o.sqr(u);h<c&&!o.eql(m,o.ONE);h++)m=o.sqr(m);const g=o.pow(f,un<<BigInt(c-h-1));f=o.sqr(g),l=o.mul(l,g),u=o.mul(u,f),c=h}return l}}function uee(t){if(t%NS===cee){const e=(t+un)/NS;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%I8===x8){const e=(t-x8)/I8;return function(r,n){const i=r.mul(n,hd),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,hd),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return lee(t)}const hee=(t,e)=>(mi(t,e)&un)===un,dee=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pee(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=dee.reduce((n,i)=>(n[i]="function",n),e);return FT(t,r)}function gee(t,e,r){if(r<Ci)throw new Error("invalid exponent, negatives unsupported");if(r===Ci)return t.ONE;if(r===un)return e;let n=t.ONE,i=e;for(;r>Ci;)r&un&&(n=t.mul(n,i)),i=t.sqr(i),r>>=un;return n}function mee(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function IB(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function SB(t,e,r=!1,n={}){if(t<=Ci)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=IB(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:oee(i),ZERO:Ci,ONE:un,create:c=>mi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ci<=c&&c<t},is0:c=>c===Ci,isOdd:c=>(c&un)===un,neg:c=>mi(-c,t),eql:(c,f)=>c===f,sqr:c=>mi(c*c,t),add:(c,f)=>mi(c+f,t),sub:(c,f)=>mi(c-f,t),mul:(c,f)=>mi(c*f,t),pow:(c,f)=>gee(a,c,f),div:(c,f)=>mi(c*S8(f,t),t),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>S8(c,t),sqrt:n.sqrt||(c=>(o||(o=uee(t)),o(a,c))),invertBatch:c=>mee(a,c),cmov:(c,f,l)=>l?f:c,toBytes:c=>r?AS(c,s):xB(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?P1(c):nee(c)}});return Object.freeze(a)}const R8=BigInt(0),jy=BigInt(1);function HN(t,e){const r=e.negate();return t?r:e}function RB(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function qN(t,e){RB(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function bee(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Eee(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const VN=new WeakMap,TB=new WeakMap;function KN(t){return TB.get(t)||1}function yee(t,e){return{constTimeNegate:HN,hasPrecomputes(r){return KN(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>R8;)n&jy&&(i=i.add(s)),s=s.double(),n>>=jy;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=qN(n,e),o=[];let a=r,c=a;for(let f=0;f<i;f++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=qN(r,e);let a=t.ZERO,c=t.BASE;const f=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let h=0;h<s;h++){const g=h*o;let m=Number(i&f);i>>=u,m>o&&(m-=l,i+=jy);const w=g,N=g+Math.abs(m)-1,I=h%2!==0,C=m<0;m===0?c=c.add(HN(I,n[w])):a=a.add(HN(C,n[N]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=qN(r,e),c=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let u=0;u<o;u++){const h=u*a;if(i===R8)break;let g=Number(i&c);if(i>>=l,g>a&&(g-=f,i+=jy),g===0)continue;let m=n[h+Math.abs(g)-1];g<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(r,n,i){let s=VN.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&VN.set(n,i(s))),s},wNAFCached(r,n,i){const s=KN(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=KN(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){RB(n,e),TB.set(r,n),VN.delete(r)}}}function wee(t,e,r,n){if(bee(r,t),Eee(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=see(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),f=Math.floor((e.BITS-1)/o)*o;let l=i;for(let u=f;u>=0;u-=o){c.fill(i);for(let g=0;g<n.length;g++){const m=n[g],w=Number(m>>BigInt(u)&BigInt(a));c[w]=c[w].add(r[g])}let h=i;for(let g=c.length-1,m=i;g>0;g--)m=m.add(c[g]),h=h.add(m);if(l=l.add(h),u!==0)for(let g=0;g<o;g++)l=l.double()}return l}function vee(t){return pee(t.Fp),FT(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...IB(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Da=BigInt(0),Fs=BigInt(1),zy=BigInt(2),_ee=BigInt(8),Aee={zip215:!0};function Nee(t){const e=vee(t);return FT(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function xee(t){const e=Nee(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,f=zy<<BigInt(a*8)-Fs,l=r.create,u=SB(e.n,e.nBitLength),h=e.uvRatio||((p,E)=>{try{return{isValid:!0,value:r.sqrt(p*r.inv(E))}}catch{return{isValid:!1,value:Da}}}),g=e.adjustScalarBytes||(p=>p),m=e.domain||((p,E,x)=>{if(zN("phflag",x),E.length||x)throw new Error("Contexts/pre-hash are not supported");return p});function w(p,E){Xg("coordinate "+p,E,Da,f)}function N(p){if(!(p instanceof M))throw new Error("ExtendedPoint expected")}const I=N8((p,E)=>{const{ex:x,ey:R,ez:S}=p,v=p.is0();E==null&&(E=v?_ee:r.inv(S));const A=l(x*E),_=l(R*E),D=l(S*E);if(v)return{x:Da,y:Fs};if(D!==Fs)throw new Error("invZ was invalid");return{x:A,y:_}}),C=N8(p=>{const{a:E,d:x}=e;if(p.is0())throw new Error("bad point: ZERO");const{ex:R,ey:S,ez:v,et:A}=p,_=l(R*R),D=l(S*S),G=l(v*v),T=l(G*G),z=l(_*E),j=l(G*l(z+D)),X=l(T+l(x*l(_*D)));if(j!==X)throw new Error("bad point: equation left != right (1)");const Y=l(R*S),ne=l(v*A);if(Y!==ne)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(E,x,R,S){this.ex=E,this.ey=x,this.ez=R,this.et=S,w("x",E),w("y",x),w("z",R),w("t",S),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof M)throw new Error("extended point not allowed");const{x,y:R}=E||{};return w("x",x),w("y",R),new M(x,R,Fs,l(x*R))}static normalizeZ(E){const x=r.invertBatch(E.map(R=>R.ez));return E.map((R,S)=>R.toAffine(x[S])).map(M.fromAffine)}static msm(E,x){return wee(M,u,E,x)}_setWindowSize(E){$.setWindowSize(this,E)}assertValidity(){C(this)}equals(E){N(E);const{ex:x,ey:R,ez:S}=this,{ex:v,ey:A,ez:_}=E,D=l(x*_),G=l(v*S),T=l(R*_),z=l(A*S);return D===G&&T===z}is0(){return this.equals(M.ZERO)}negate(){return new M(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:E}=e,{ex:x,ey:R,ez:S}=this,v=l(x*x),A=l(R*R),_=l(zy*l(S*S)),D=l(E*v),G=x+R,T=l(l(G*G)-v-A),z=D+A,j=z-_,X=D-A,Y=l(T*j),ne=l(z*X),ce=l(T*X),le=l(j*z);return new M(Y,ne,le,ce)}add(E){N(E);const{a:x,d:R}=e,{ex:S,ey:v,ez:A,et:_}=this,{ex:D,ey:G,ez:T,et:z}=E;if(x===BigInt(-1)){const pe=l((v-S)*(G+D)),W=l((v+S)*(G-D)),H=l(W-pe);if(H===Da)return this.double();const Z=l(A*zy*z),ue=l(_*zy*T),fe=ue+Z,de=W+pe,ee=ue-Z,re=l(fe*H),we=l(de*ee),Ae=l(fe*ee),Re=l(H*de);return new M(re,we,Re,Ae)}const j=l(S*D),X=l(v*G),Y=l(_*R*z),ne=l(A*T),ce=l((S+v)*(D+G)-j-X),le=ne-Y,q=ne+Y,B=l(X-x*j),J=l(ce*le),he=l(q*B),se=l(ce*B),oe=l(le*q);return new M(J,he,oe,se)}subtract(E){return this.add(E.negate())}wNAF(E){return $.wNAFCached(this,E,M.normalizeZ)}multiply(E){const x=E;Xg("scalar",x,Fs,n);const{p:R,f:S}=this.wNAF(x);return M.normalizeZ([R,S])[0]}multiplyUnsafe(E,x=M.ZERO){const R=E;return Xg("scalar",R,Da,n),R===Da?L:this.is0()||R===Fs?this:$.wNAFCachedUnsafe(this,R,M.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return $.unsafeLadder(this,n).is0()}toAffine(E){return I(this,E)}clearCofactor(){const{h:E}=e;return E===Fs?this:this.multiplyUnsafe(E)}static fromHex(E,x=!1){const{d:R,a:S}=e,v=r.BYTES;E=El("pointHex",E,v),zN("zip215",x);const A=E.slice(),_=E[v-1];A[v-1]=_&-129;const D=P1(A),G=x?f:r.ORDER;Xg("pointHex.y",D,Da,G);const T=l(D*D),z=l(T-Fs),j=l(R*T-S);let{isValid:X,value:Y}=h(z,j);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const ne=(Y&Fs)===Fs,ce=(_&128)!==0;if(!x&&Y===Da&&ce)throw new Error("Point.fromHex: x=0 and x_0=1");return ce!==ne&&(Y=l(-Y)),M.fromAffine({x:Y,y:D})}static fromPrivateKey(E){return O(E).point}toRawBytes(){const{x:E,y:x}=this.toAffine(),R=AS(x,r.BYTES);return R[R.length-1]|=E&Fs?128:0,R}toHex(){return LT(this.toRawBytes())}}M.BASE=new M(e.Gx,e.Gy,Fs,l(e.Gx*e.Gy)),M.ZERO=new M(Da,Fs,Fs,Da);const{BASE:k,ZERO:L}=M,$=yee(M,a*8);function V(p){return mi(p,n)}function P(p){return V(P1(p))}function O(p){const E=r.BYTES;p=El("private key",p,E);const x=El("hashed private key",s(p),2*E),R=g(x.slice(0,E)),S=x.slice(E,2*E),v=P(R),A=k.multiply(v),_=A.toRawBytes();return{head:R,prefix:S,scalar:v,point:A,pointBytes:_}}function F(p){return O(p).pointBytes}function U(p=new Uint8Array,...E){const x=A8(...E);return P(s(m(x,El("context",p),!!i)))}function b(p,E,x={}){p=El("message",p),i&&(p=i(p));const{prefix:R,scalar:S,pointBytes:v}=O(E),A=U(x.context,R,p),_=k.multiply(A).toRawBytes(),D=U(x.context,_,v,p),G=V(A+D*S);Xg("signature.s",G,Da,n);const T=A8(_,AS(G,r.BYTES));return El("result",T,r.BYTES*2)}const y=Aee;function d(p,E,x,R=y){const{context:S,zip215:v}=R,A=r.BYTES;p=El("signature",p,2*A),E=El("message",E),x=El("publicKey",x,A),v!==void 0&&zN("zip215",v),i&&(E=i(E));const _=P1(p.slice(A,2*A));let D,G,T;try{D=M.fromHex(x,v),G=M.fromHex(p.slice(0,A),v),T=k.multiplyUnsafe(_)}catch{return!1}if(!v&&D.isSmallOrder())return!1;const z=U(S,G.toRawBytes(),D.toRawBytes(),E);return G.add(D.multiplyUnsafe(z)).subtract(T).clearCofactor().equals(M.ZERO)}return k._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:b,verify:d,ExtendedPoint:M,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>o(r.BYTES),precompute(p=8,E=M.BASE){return E._setWindowSize(p),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const $T=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),T8=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Iee=BigInt(1),C8=BigInt(2);BigInt(3);const See=BigInt(5),Ree=BigInt(8);function Tee(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=$T,o=t*t%s*t%s,a=wf(o,C8,s)*o%s,c=wf(a,Iee,s)*t%s,f=wf(c,See,s)*c%s,l=wf(f,e,s)*f%s,u=wf(l,r,s)*l%s,h=wf(u,n,s)*u%s,g=wf(h,i,s)*h%s,m=wf(g,i,s)*h%s,w=wf(m,e,s)*f%s;return{pow_p_5_8:wf(w,C8,s)*t%s,b2:o}}function Cee(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Oee(t,e){const r=$T,n=mi(e*e*e,r),i=mi(n*n*e,r),s=Tee(t*i).pow_p_5_8;let o=mi(t*n*s,r);const a=mi(e*o*o,r),c=o,f=mi(o*T8,r),l=a===t,u=a===mi(-t,r),h=a===mi(-t*T8,r);return l&&(o=c),(u||h)&&(o=f),hee(o,r)&&(o=mi(-o,r)),{isValid:l||u,value:o}}const Pee=(()=>SB($T,void 0,!0))(),Uee=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pee,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ree,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eee,randomBytes:wB,adjustScalarBytes:Cee,uvRatio:Oee}))(),CB=(()=>xee(Uee))(),Mee="EdDSA",Dee="JWT",Dv=".",rA="base64url",OB="utf8",PB="utf8",kee=":",Lee="did",Fee="key",O8="base58btc",$ee="z",Bee="K36",Gee=32;function BT(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function UB(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?BT(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function MB(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=UB(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return BT(r)}function jee(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var w=0,N=0,I=0,C=m.length;I!==C&&m[I]===0;)I++,w++;for(var M=(C-I)*l+1>>>0,k=new Uint8Array(M);I!==C;){for(var L=m[I],$=0,V=M-1;(L!==0||$<N)&&V!==-1;V--,$++)L+=256*k[V]>>>0,k[V]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,I++}for(var P=M-N;P!==M&&k[P]===0;)P++;for(var O=c.repeat(w);P<M;++P)O+=t.charAt(k[P]);return O}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var w=0;if(m[w]!==" "){for(var N=0,I=0;m[w]===c;)N++,w++;for(var C=(m.length-w)*f+1>>>0,M=new Uint8Array(C);m[w];){var k=r[m.charCodeAt(w)];if(k===255)return;for(var L=0,$=C-1;(k!==0||L<I)&&$!==-1;$--,L++)k+=a*M[$]>>>0,M[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");I=L,w++}if(m[w]!==" "){for(var V=C-I;V!==C&&M[V]===0;)V++;for(var P=new Uint8Array(N+(C-V)),O=N;V!==C;)P[O++]=M[V++];return P}}}function g(m){var w=h(m);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:u,decodeUnsafe:h,decode:g}}var zee=jee,Wee=zee;const DB=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Hee=t=>new TextEncoder().encode(t),qee=t=>new TextDecoder().decode(t);let Vee=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Kee=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return kB(this,e)}},Jee=class{constructor(e){this.decoders=e}or(e){return kB(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const kB=(t,e)=>new Jee({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Xee=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Vee(e,r,n),this.decoder=new Kee(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const nA=({name:t,prefix:e,encode:r,decode:n})=>new Xee(t,e,r,n),ey=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Wee(r,e);return nA({prefix:t,name:e,encode:n,decode:s=>DB(i(s))})},Yee=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,f=0;for(let l=0;l<s;++l){const u=i[t[l]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|u,a+=r,a>=8&&(a-=8,o[f++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Zee=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Xi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>nA({prefix:e,name:t,encode(i){return Zee(i,n,r)},decode(i){return Yee(i,n,r,t)}}),Qee=nA({prefix:"\0",name:"identity",encode:t=>qee(t),decode:t=>Hee(t)});var ete=Object.freeze({__proto__:null,identity:Qee});const tte=Xi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var rte=Object.freeze({__proto__:null,base2:tte});const nte=Xi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ite=Object.freeze({__proto__:null,base8:nte});const ste=ey({prefix:"9",name:"base10",alphabet:"0123456789"});var ote=Object.freeze({__proto__:null,base10:ste});const ate=Xi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cte=Xi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fte=Object.freeze({__proto__:null,base16:ate,base16upper:cte});const lte=Xi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ute=Xi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hte=Xi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dte=Xi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pte=Xi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gte=Xi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),mte=Xi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bte=Xi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ete=Xi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var yte=Object.freeze({__proto__:null,base32:lte,base32upper:ute,base32pad:hte,base32padupper:dte,base32hex:pte,base32hexupper:gte,base32hexpad:mte,base32hexpadupper:bte,base32z:Ete});const wte=ey({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vte=ey({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _te=Object.freeze({__proto__:null,base36:wte,base36upper:vte});const Ate=ey({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nte=ey({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var xte=Object.freeze({__proto__:null,base58btc:Ate,base58flickr:Nte});const Ite=Xi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ste=Xi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Rte=Xi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Tte=Xi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Cte=Object.freeze({__proto__:null,base64:Ite,base64pad:Ste,base64url:Rte,base64urlpad:Tte});const LB=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Ote=LB.reduce((t,e,r)=>(t[r]=e,t),[]),Pte=LB.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Ute(t){return t.reduce((e,r)=>(e+=Ote[r],e),"")}function Mte(t){const e=[];for(const r of t){const n=Pte[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Dte=nA({prefix:"🚀",name:"base256emoji",encode:Ute,decode:Mte});var kte=Object.freeze({__proto__:null,base256emoji:Dte}),Lte=FB,P8=128,Fte=127,$te=~Fte,Bte=Math.pow(2,31);function FB(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Bte;)e[r++]=t&255|P8,t/=128;for(;t&$te;)e[r++]=t&255|P8,t>>>=7;return e[r]=t|0,FB.bytes=r-n+1,e}var Gte=xS,jte=128,U8=127;function xS(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw xS.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&U8)<<i:(o&U8)*Math.pow(2,i),i+=7}while(o>=jte);return xS.bytes=s-n,r}var zte=Math.pow(2,7),Wte=Math.pow(2,14),Hte=Math.pow(2,21),qte=Math.pow(2,28),Vte=Math.pow(2,35),Kte=Math.pow(2,42),Jte=Math.pow(2,49),Xte=Math.pow(2,56),Yte=Math.pow(2,63),Zte=function(t){return t<zte?1:t<Wte?2:t<Hte?3:t<qte?4:t<Vte?5:t<Kte?6:t<Jte?7:t<Xte?8:t<Yte?9:10},Qte={encode:Lte,decode:Gte,encodingLength:Zte},$B=Qte;const M8=(t,e,r=0)=>($B.encode(t,e,r),e),D8=t=>$B.encodingLength(t),IS=(t,e)=>{const r=e.byteLength,n=D8(t),i=n+D8(r),s=new Uint8Array(i+r);return M8(t,s,0),M8(r,s,n),s.set(e,i),new ere(t,r,e,s)};let ere=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const BB=({name:t,code:e,encode:r})=>new tre(t,e,r);let tre=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?IS(this.code,r):r.then(n=>IS(this.code,n))}else throw Error("Unknown type, must be binary type")}};const GB=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),rre=BB({name:"sha2-256",code:18,encode:GB("SHA-256")}),nre=BB({name:"sha2-512",code:19,encode:GB("SHA-512")});var ire=Object.freeze({__proto__:null,sha256:rre,sha512:nre});const jB=0,sre="identity",zB=DB,ore=t=>IS(jB,zB(t)),are={code:jB,name:sre,encode:zB,digest:ore};var cre=Object.freeze({__proto__:null,identity:are});new TextEncoder,new TextDecoder;const k8={...ete,...rte,...ite,...ote,...fte,...yte,..._te,...xte,...Cte,...kte};({...ire,...cre});function WB(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const L8=WB("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),JN=WB("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=UB(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),HB={utf8:L8,"utf-8":L8,hex:k8.base16,latin1:JN,ascii:JN,binary:JN,...k8};function iA(t,e="utf8"){const r=HB[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function vg(t,e="utf8"){const r=HB[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?BT(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function F8(t){return Bd(iA(vg(t,rA),OB))}function kv(t){return iA(vg(tu(t),OB),rA)}function qB(t){const e=vg(Bee,O8),r=$ee+iA(MB([e,t]),O8);return[Lee,Fee,r].join(kee)}function fre(t){return iA(t,rA)}function lre(t){return vg(t,rA)}function ure(t){return vg([kv(t.header),kv(t.payload)].join(Dv),PB)}function hre(t){return[kv(t.header),kv(t.payload),fre(t.signature)].join(Dv)}function SS(t){const e=t.split(Dv),r=F8(e[0]),n=F8(e[1]),i=lre(e[2]),s=vg(e.slice(0,2).join(Dv),PB);return{header:r,payload:n,signature:i,data:s}}function $8(t=wB(Gee)){const e=CB.getPublicKey(t);return{secretKey:MB([t,e]),publicKey:e}}async function dre(t,e,r,n,i=ve.fromMiliseconds(Date.now())){const s={alg:Mee,typ:Dee},o=qB(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},f=ure({header:s,payload:c}),l=CB.sign(f,n.secretKey.slice(0,32));return hre({header:s,payload:c,signature:l})}var B8=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},pre=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),gre=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),mre=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),bre=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Ere=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),yre=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wre=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,G8=3,vre=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",yre]],j8=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _re(t){return t?z8(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Ere:typeof navigator<"u"?z8(navigator.userAgent):xre()}function Are(t){return t!==""&&vre.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function z8(t){var e=Are(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new bre;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<G8&&(i=B8(B8([],i,!0),Ire(G8-i.length),!0)):i=[];var s=i.join("."),o=Nre(t),a=wre.exec(t);return a&&a[1]?new mre(r,s,o,a[1]):new pre(r,s,o)}function Nre(t){for(var e=0,r=j8.length;e<r;e++){var n=j8[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function xre(){var t=typeof process<"u"&&process.version;return t?new gre(process.version.slice(1)):null}function Ire(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getLocalStorage=Mr.getLocalStorageOrThrow=Mr.getCrypto=Mr.getCryptoOrThrow=VB=Mr.getLocation=Mr.getLocationOrThrow=GT=Mr.getNavigator=Mr.getNavigatorOrThrow=ty=Mr.getDocument=Mr.getDocumentOrThrow=Mr.getFromWindowOrThrow=Mr.getFromWindow=void 0;function l0(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Mr.getFromWindow=l0;function _g(t){const e=l0(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Mr.getFromWindowOrThrow=_g;function Sre(){return _g("document")}Mr.getDocumentOrThrow=Sre;function Rre(){return l0("document")}var ty=Mr.getDocument=Rre;function Tre(){return _g("navigator")}Mr.getNavigatorOrThrow=Tre;function Cre(){return l0("navigator")}var GT=Mr.getNavigator=Cre;function Ore(){return _g("location")}Mr.getLocationOrThrow=Ore;function Pre(){return l0("location")}var VB=Mr.getLocation=Pre;function Ure(){return _g("crypto")}Mr.getCryptoOrThrow=Ure;function Mre(){return l0("crypto")}Mr.getCrypto=Mre;function Dre(){return _g("localStorage")}Mr.getLocalStorageOrThrow=Dre;function kre(){return l0("localStorage")}Mr.getLocalStorage=kre;var jT={};Object.defineProperty(jT,"__esModule",{value:!0});var KB=jT.getWindowMetadata=void 0;const W8=Mr;function Lre(){let t,e;try{t=W8.getDocumentOrThrow(),e=W8.getLocationOrThrow()}catch{return null}function r(){const u=t.getElementsByTagName("link"),h=[];for(let g=0;g<u.length;g++){const m=u[g],w=m.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const N=m.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let I=e.protocol+"//"+e.host;if(N.indexOf("/")===0)I+=N;else{const C=e.pathname.split("/");C.pop();const M=C.join("/");I+=M+"/"+N}h.push(I)}else if(N.indexOf("//")===0){const I=e.protocol+N;h.push(I)}else h.push(N)}}return h}function n(...u){const h=t.getElementsByTagName("meta");for(let g=0;g<h.length;g++){const m=h[g],w=["itemprop","property","name"].map(N=>m.getAttribute(N)).filter(N=>N?u.includes(N):!1);if(w.length&&w){const N=m.getAttribute("content");if(N)return N}}return""}function i(){let u=n("name","og:site_name","og:title","twitter:title");return u||(u=t.title),u}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,f=r();return{description:a,url:c,icons:f,name:o}}KB=jT.getWindowMetadata=Lre;function $b(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function H8(t){return $b(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const JB="2.23.2";let Yg={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${JB}`},sA=class RS extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof RS?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=(()=>r.cause instanceof RS&&r.cause.docsPath||r.docsPath)(),s=(a=Yg.getDocsUrl)==null?void 0:a.call(Yg,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Yg.version?[`Version: ${Yg.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=JB}walk(e){return XB(this,e)}};function XB(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?XB(t.cause,e):e?null:t}let YB=class extends sA{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function Ag(t,{dir:e,size:r=32}={}){return typeof t=="string"?Fre(t,{dir:e,size:r}):$re(t,{dir:e,size:r})}function Fre(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new YB({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function $re(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new YB({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let Bre=class extends sA{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Gre=class extends sA{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Ng(t,{size:e}){if(H8(t)>e)throw new Gre({givenSize:H8(t),maxSize:e})}function TS(t,e={}){const{signed:r}=e;e.size&&Ng(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function jre(t,e={}){return Number(TS(t,e))}const zre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function CS(t,e={}){return typeof t=="number"||typeof t=="bigint"?QB(t,e):typeof t=="string"?qre(t,e):typeof t=="boolean"?Wre(t,e):ZB(t,e)}function Wre(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Ng(r,{size:e.size}),Ag(r,{size:e.size})):r}function ZB(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=zre[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Ng(n,{size:e.size}),Ag(n,{dir:"right",size:e.size})):n}function QB(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Bre({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Ag(a,{size:n}):a}const Hre=new TextEncoder;function qre(t,e={}){const r=Hre.encode(t);return ZB(r,e)}const Vre=new TextEncoder;function Kre(t,e={}){return typeof t=="number"||typeof t=="bigint"?Xre(t,e):typeof t=="boolean"?Jre(t,e):$b(t)?eG(t,e):tG(t,e)}function Jre(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Ng(r,{size:e.size}),Ag(r,{size:e.size})):r}const yl={zero:48,nine:57,A:65,F:70,a:97,f:102};function q8(t){if(t>=yl.zero&&t<=yl.nine)return t-yl.zero;if(t>=yl.A&&t<=yl.F)return t-(yl.A-10);if(t>=yl.a&&t<=yl.f)return t-(yl.a-10)}function eG(t,e={}){let r=t;e.size&&(Ng(r,{size:e.size}),r=Ag(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=q8(n.charCodeAt(a++)),f=q8(n.charCodeAt(a++));if(c===void 0||f===void 0)throw new sA(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+f}return s}function Xre(t,e){const r=QB(t,e);return eG(r)}function tG(t,e={}){const r=Vre.encode(t);return typeof e.size=="number"?(Ng(r,{size:e.size}),Ag(r,{dir:"right",size:e.size})):r}function Lv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Yre(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ry(t,...e){if(!Yre(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lv(t.outputLen),Lv(t.blockLen)}function V8(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Zre(t,e){ry(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Wy=BigInt(2**32-1),K8=BigInt(32);function Qre(t,e=!1){return e?{h:Number(t&Wy),l:Number(t>>K8&Wy)}:{h:Number(t>>K8&Wy)|0,l:Number(t&Wy)|0}}function ene(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Qre(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const tne=(t,e,r)=>t<<r|e>>>32-r,rne=(t,e,r)=>e<<r|t>>>32-r,nne=(t,e,r)=>e<<r-32|t>>>64-r,ine=(t,e,r)=>t<<r-32|e>>>64-r,I0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sne(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function gke(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mke(t,e){return t<<32-e|t>>>e}const J8=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function one(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function X8(t){for(let e=0;e<t.length;e++)t[e]=one(t[e])}const ane=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bke(t){ry(t);let e="";for(let r=0;r<t.length;r++)e+=ane[t[r]];return e}function cne(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function zT(t){return typeof t=="string"&&(t=cne(t)),ry(t),t}function Eke(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ry(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class fne{clone(){return this._cloneInto()}}function lne(t){const e=n=>t().update(zT(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function une(t){const e=(n,i)=>t(i).update(zT(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function yke(t=32){if(I0&&typeof I0.getRandomValues=="function")return I0.getRandomValues(new Uint8Array(t));if(I0&&typeof I0.randomBytes=="function")return I0.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const rG=[],nG=[],iG=[],hne=BigInt(0),Zg=BigInt(1),dne=BigInt(2),pne=BigInt(7),gne=BigInt(256),mne=BigInt(113);for(let t=0,e=Zg,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],rG.push(2*(5*n+r)),nG.push((t+1)*(t+2)/2%64);let i=hne;for(let s=0;s<7;s++)e=(e<<Zg^(e>>pne)*mne)%gne,e&dne&&(i^=Zg<<(Zg<<BigInt(s))-Zg);iG.push(i)}const[bne,Ene]=ene(iG,!0),Y8=(t,e,r)=>r>32?nne(t,e,r):tne(t,e,r),Z8=(t,e,r)=>r>32?ine(t,e,r):rne(t,e,r);function sG(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,f=r[c],l=r[c+1],u=Y8(f,l,1)^r[a],h=Z8(f,l,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=u,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=nG[o],c=Y8(i,s,a),f=Z8(i,s,a),l=rG[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=bne[n],t[1]^=Ene[n]}r.fill(0)}class ny extends fne{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Lv(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sne(this.state)}keccak(){J8||X8(this.state32),sG(this.state32,this.rounds),J8||X8(this.state32),this.posOut=0,this.pos=0}update(e){V8(this);const{blockLen:r,state:n}=this;e=zT(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){V8(this,!1),ry(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Lv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Zre(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new ny(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ah=(t,e,r)=>lne(()=>new ny(e,t,r)),yne=Ah(6,144,224/8),wne=Ah(6,136,256/8),vne=Ah(6,104,384/8),_ne=Ah(6,72,512/8),Ane=Ah(1,144,224/8),oG=Ah(1,136,256/8),Nne=Ah(1,104,384/8),xne=Ah(1,72,512/8),aG=(t,e,r)=>une((n={})=>new ny(e,t,n.dkLen===void 0?r:n.dkLen,!0)),Ine=aG(31,168,128/8),Sne=aG(31,136,256/8),wke=Object.freeze(Object.defineProperty({__proto__:null,Keccak:ny,keccakP:sG,keccak_224:Ane,keccak_256:oG,keccak_384:Nne,keccak_512:xne,sha3_224:yne,sha3_256:wne,sha3_384:vne,sha3_512:_ne,shake128:Ine,shake256:Sne},Symbol.toStringTag,{value:"Module"}));function cG(t,e){const r=e||"hex",n=oG($b(t,{strict:!1})?Kre(t):t);return r==="bytes"?n:CS(n)}let Rne=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const XN=new Rne(8192);function Tne(t,e){if(XN.has(`${t}.${e}`))return XN.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=cG(tG(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return XN.set(`${t}.${e}`,s),s}function Cne(t){const e=cG(`0x${t.substring(4)}`).substring(26);return Tne(`0x${e}`)}const One="modulepreload",Pne=function(t,e){return new URL(t,e).href},Q8={},na=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Pne(s,n),s in Q8)return;Q8[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let l=i.length-1;l>=0;l--){const u=i[l];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":One,o||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),o)return new Promise((l,u)=>{f.addEventListener("load",l),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function Une({hash:t,signature:e}){const r=$b(t)?t:CS(t),{secp256k1:n}=await na(()=>import("./secp256k1-8b2a0583.js"),["./secp256k1-8b2a0583.js","./sha256-8d79f0c4.js"],import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:l,v:u,yParity:h}=e,g=Number(h??u),m=eO(g);return new n.Signature(TS(f),TS(l)).addRecoveryBit(m)}const o=$b(e)?e:CS(e),a=jre(`0x${o.slice(130)}`),c=eO(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function eO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Mne({hash:t,signature:e}){return Cne(await Une({hash:t,signature:e}))}function Dne(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const l=t.charAt(f),u=l.charCodeAt(0);if(e[u]!==255)throw new TypeError(l+" is ambiguous");e[u]=f}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let l=0,u=0,h=0;const g=f.length;for(;h!==g&&f[h]===0;)h++,l++;const m=(g-h)*s+1>>>0,w=new Uint8Array(m);for(;h!==g;){let C=f[h],M=0;for(let k=m-1;(C!==0||M<u)&&k!==-1;k--,M++)C+=256*w[k]>>>0,w[k]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");u=M,h++}let N=m-u;for(;N!==m&&w[N]===0;)N++;let I=n.repeat(l);for(;N<m;++N)I+=t.charAt(w[N]);return I}function a(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let l=0,u=0,h=0;for(;f[l]===n;)u++,l++;const g=(f.length-l)*i+1>>>0,m=new Uint8Array(g);for(;l<f.length;){const C=f.charCodeAt(l);if(C>255)return;let M=e[C];if(M===255)return;let k=0;for(let L=g-1;(M!==0||k<h)&&L!==-1;L--,k++)M+=r*m[L]>>>0,m[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");h=k,l++}let w=g-h;for(;w!==g&&m[w]===0;)w++;const N=new Uint8Array(u+(g-w));let I=u;for(;w!==g;)N[I++]=m[w++];return N}function c(f){const l=a(f);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var kne="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const fG=Dne(kne);function lG(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function YN(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=lG(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Lne(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var w=0,N=0,I=0,C=m.length;I!==C&&m[I]===0;)I++,w++;for(var M=(C-I)*l+1>>>0,k=new Uint8Array(M);I!==C;){for(var L=m[I],$=0,V=M-1;(L!==0||$<N)&&V!==-1;V--,$++)L+=256*k[V]>>>0,k[V]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,I++}for(var P=M-N;P!==M&&k[P]===0;)P++;for(var O=c.repeat(w);P<M;++P)O+=t.charAt(k[P]);return O}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var w=0;if(m[w]!==" "){for(var N=0,I=0;m[w]===c;)N++,w++;for(var C=(m.length-w)*f+1>>>0,M=new Uint8Array(C);m[w];){var k=r[m.charCodeAt(w)];if(k===255)return;for(var L=0,$=C-1;(k!==0||L<I)&&$!==-1;$--,L++)k+=a*M[$]>>>0,M[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");I=L,w++}if(m[w]!==" "){for(var V=C-I;V!==C&&M[V]===0;)V++;for(var P=new Uint8Array(N+(C-V)),O=N;V!==C;)P[O++]=M[V++];return P}}}function g(m){var w=h(m);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:u,decodeUnsafe:h,decode:g}}var Fne=Lne,$ne=Fne;const Bne=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Gne=t=>new TextEncoder().encode(t),jne=t=>new TextDecoder().decode(t);class zne{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Wne{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return uG(this,e)}}class Hne{constructor(e){this.decoders=e}or(e){return uG(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uG=(t,e)=>new Hne({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class qne{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new zne(e,r,n),this.decoder=new Wne(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const oA=({name:t,prefix:e,encode:r,decode:n})=>new qne(t,e,r,n),iy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=$ne(r,e);return oA({prefix:t,name:e,encode:n,decode:s=>Bne(i(s))})},Vne=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,f=0;for(let l=0;l<s;++l){const u=i[t[l]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|u,a+=r,a>=8&&(a-=8,o[f++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Kne=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Yi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>oA({prefix:e,name:t,encode(i){return Kne(i,n,r)},decode(i){return Vne(i,n,r,t)}}),Jne=oA({prefix:"\0",name:"identity",encode:t=>jne(t),decode:t=>Gne(t)}),Xne=Object.freeze(Object.defineProperty({__proto__:null,identity:Jne},Symbol.toStringTag,{value:"Module"})),Yne=Yi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Zne=Object.freeze(Object.defineProperty({__proto__:null,base2:Yne},Symbol.toStringTag,{value:"Module"})),Qne=Yi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),eie=Object.freeze(Object.defineProperty({__proto__:null,base8:Qne},Symbol.toStringTag,{value:"Module"})),tie=iy({prefix:"9",name:"base10",alphabet:"0123456789"}),rie=Object.freeze(Object.defineProperty({__proto__:null,base10:tie},Symbol.toStringTag,{value:"Module"})),nie=Yi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iie=Yi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),sie=Object.freeze(Object.defineProperty({__proto__:null,base16:nie,base16upper:iie},Symbol.toStringTag,{value:"Module"})),oie=Yi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aie=Yi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cie=Yi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fie=Yi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lie=Yi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uie=Yi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hie=Yi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),die=Yi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pie=Yi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gie=Object.freeze(Object.defineProperty({__proto__:null,base32:oie,base32hex:lie,base32hexpad:hie,base32hexpadupper:die,base32hexupper:uie,base32pad:cie,base32padupper:fie,base32upper:aie,base32z:pie},Symbol.toStringTag,{value:"Module"})),mie=iy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bie=iy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Eie=Object.freeze(Object.defineProperty({__proto__:null,base36:mie,base36upper:bie},Symbol.toStringTag,{value:"Module"})),yie=iy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wie=iy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),vie=Object.freeze(Object.defineProperty({__proto__:null,base58btc:yie,base58flickr:wie},Symbol.toStringTag,{value:"Module"})),_ie=Yi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Aie=Yi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nie=Yi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xie=Yi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Iie=Object.freeze(Object.defineProperty({__proto__:null,base64:_ie,base64pad:Aie,base64url:Nie,base64urlpad:xie},Symbol.toStringTag,{value:"Module"})),hG=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Sie=hG.reduce((t,e,r)=>(t[r]=e,t),[]),Rie=hG.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Tie(t){return t.reduce((e,r)=>(e+=Sie[r],e),"")}function Cie(t){const e=[];for(const r of t){const n=Rie[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Oie=oA({prefix:"🚀",name:"base256emoji",encode:Tie,decode:Cie}),Pie=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Oie},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const tO={...Xne,...Zne,...eie,...rie,...sie,...gie,...Eie,...vie,...Iie,...Pie};function dG(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const rO=dG("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ZN=dG("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=lG(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),pG={utf8:rO,"utf-8":rO,hex:tO.base16,latin1:ZN,ascii:ZN,binary:ZN,...tO};function pa(t,e="utf8"){const r=pG[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Ms(t,e="utf8"){const r=pG[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var gG={};const Uie="elliptic",Mie="6.6.1",Die="EC cryptography",kie="lib/elliptic.js",Lie=["lib"],Fie={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},$ie={type:"git",url:"git@github.com:indutny/elliptic"},Bie=["EC","Elliptic","curve","Cryptography"],Gie="Fedor Indutny <fedor@indutny.com>",jie="MIT",zie={url:"https://github.com/indutny/elliptic/issues"},Wie="https://github.com/indutny/elliptic",Hie={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},qie={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Vie={name:Uie,version:Mie,description:Die,main:kie,files:Lie,scripts:Fie,repository:$ie,keywords:Bie,author:Gie,license:jie,bugs:zie,homepage:Wie,devDependencies:Hie,dependencies:qie};var Co={},WT={exports:{}};const Kie={},Jie=Object.freeze(Object.defineProperty({__proto__:null,default:Kie},Symbol.toStringTag,{value:"Module"})),HT=Zr(Jie);WT.exports;(function(t){(function(e,r){function n(U,b){if(!U)throw new Error(b||"Assertion failed")}function i(U,b){U.super_=b;var y=function(){};y.prototype=b.prototype,U.prototype=new y,U.prototype.constructor=U}function s(U,b,y){if(s.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((b==="le"||b==="be")&&(y=b,b=10),this._init(U||0,b||10,y||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=HT.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,y){return b.cmp(y)>0?b:y},s.min=function(b,y){return b.cmp(y)<0?b:y},s.prototype._init=function(b,y,d){if(typeof b=="number")return this._initNumber(b,y,d);if(typeof b=="object")return this._initArray(b,y,d);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),b=b.toString().replace(/\s+/g,"");var p=0;b[0]==="-"&&(p++,this.negative=1),p<b.length&&(y===16?this._parseHex(b,p,d):(this._parseBase(b,y,p),d==="le"&&this._initArray(this.toArray(),y,d)))},s.prototype._initNumber=function(b,y,d){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),y,d)},s.prototype._initArray=function(b,y,d){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,x,R=0;if(d==="be")for(p=b.length-1,E=0;p>=0;p-=3)x=b[p]|b[p-1]<<8|b[p-2]<<16,this.words[E]|=x<<R&67108863,this.words[E+1]=x>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);else if(d==="le")for(p=0,E=0;p<b.length;p+=3)x=b[p]|b[p+1]<<8|b[p+2]<<16,this.words[E]|=x<<R&67108863,this.words[E+1]=x>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);return this.strip()};function a(U,b){var y=U.charCodeAt(b);return y>=65&&y<=70?y-55:y>=97&&y<=102?y-87:y-48&15}function c(U,b,y){var d=a(U,y);return y-1>=b&&(d|=a(U,y-1)<<4),d}s.prototype._parseHex=function(b,y,d){this.length=Math.ceil((b.length-y)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E=0,x=0,R;if(d==="be")for(p=b.length-1;p>=y;p-=2)R=c(b,y,p)<<E,this.words[x]|=R&67108863,E>=18?(E-=18,x+=1,this.words[x]|=R>>>26):E+=8;else{var S=b.length-y;for(p=S%2===0?y+1:y;p<b.length;p+=2)R=c(b,y,p)<<E,this.words[x]|=R&67108863,E>=18?(E-=18,x+=1,this.words[x]|=R>>>26):E+=8}this.strip()};function f(U,b,y,d){for(var p=0,E=Math.min(U.length,y),x=b;x<E;x++){var R=U.charCodeAt(x)-48;p*=d,R>=49?p+=R-49+10:R>=17?p+=R-17+10:p+=R}return p}s.prototype._parseBase=function(b,y,d){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=y)p++;p--,E=E/y|0;for(var x=b.length-d,R=x%p,S=Math.min(x,x-R)+d,v=0,A=d;A<S;A+=p)v=f(b,A,A+p,y),this.imuln(E),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(R!==0){var _=1;for(v=f(b,A,b.length,y),A=0;A<R;A++)_*=y;this.imuln(_),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this.strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var y=0;y<this.length;y++)b.words[y]=this.words[y];b.length=this.length,b.negative=this.negative,b.red=this.red},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,y){b=b||10,y=y|0||1;var d;if(b===16||b==="hex"){d="";for(var p=0,E=0,x=0;x<this.length;x++){var R=this.words[x],S=((R<<p|E)&16777215).toString(16);E=R>>>24-p&16777215,E!==0||x!==this.length-1?d=l[6-S.length]+S+d:d=S+d,p+=2,p>=26&&(p-=26,x--)}for(E!==0&&(d=E.toString(16)+d);d.length%y!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(b===(b|0)&&b>=2&&b<=36){var v=u[b],A=h[b];d="";var _=this.clone();for(_.negative=0;!_.isZero();){var D=_.modn(A).toString(b);_=_.idivn(A),_.isZero()?d=D+d:d=l[v-D.length]+D+d}for(this.isZero()&&(d="0"+d);d.length%y!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(b,y){return n(typeof o<"u"),this.toArrayLike(o,b,y)},s.prototype.toArray=function(b,y){return this.toArrayLike(Array,b,y)},s.prototype.toArrayLike=function(b,y,d){var p=this.byteLength(),E=d||Math.max(1,p);n(p<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0"),this.strip();var x=y==="le",R=new b(E),S,v,A=this.clone();if(x){for(v=0;!A.isZero();v++)S=A.andln(255),A.iushrn(8),R[v]=S;for(;v<E;v++)R[v]=0}else{for(v=0;v<E-p;v++)R[v]=0;for(v=0;!A.isZero();v++)S=A.andln(255),A.iushrn(8),R[E-v-1]=S}return R},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var y=b,d=0;return y>=4096&&(d+=13,y>>>=13),y>=64&&(d+=7,y>>>=7),y>=8&&(d+=4,y>>>=4),y>=2&&(d+=2,y>>>=2),d+y},s.prototype._zeroBits=function(b){if(b===0)return 26;var y=b,d=0;return y&8191||(d+=13,y>>>=13),y&127||(d+=7,y>>>=7),y&15||(d+=4,y>>>=4),y&3||(d+=2,y>>>=2),y&1||d++,d},s.prototype.bitLength=function(){var b=this.words[this.length-1],y=this._countBits(b);return(this.length-1)*26+y};function g(U){for(var b=new Array(U.bitLength()),y=0;y<b.length;y++){var d=y/26|0,p=y%26;b[y]=(U.words[d]&1<<p)>>>p}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,y=0;y<this.length;y++){var d=this._zeroBits(this.words[y]);if(b+=d,d!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var y=0;y<b.length;y++)this.words[y]=this.words[y]|b.words[y];return this.strip()},s.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var y;this.length>b.length?y=b:y=this;for(var d=0;d<y.length;d++)this.words[d]=this.words[d]&b.words[d];return this.length=y.length,this.strip()},s.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var y,d;this.length>b.length?(y=this,d=b):(y=b,d=this);for(var p=0;p<d.length;p++)this.words[p]=y.words[p]^d.words[p];if(this!==y)for(;p<y.length;p++)this.words[p]=y.words[p];return this.length=y.length,this.strip()},s.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var y=Math.ceil(b/26)|0,d=b%26;this._expand(y),d>0&&y--;for(var p=0;p<y;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,y){n(typeof b=="number"&&b>=0);var d=b/26|0,p=b%26;return this._expand(d+1),y?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},s.prototype.iadd=function(b){var y;if(this.negative!==0&&b.negative===0)return this.negative=0,y=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,y=this.isub(b),b.negative=1,y._normSign();var d,p;this.length>b.length?(d=this,p=b):(d=b,p=this);for(var E=0,x=0;x<p.length;x++)y=(d.words[x]|0)+(p.words[x]|0)+E,this.words[x]=y&67108863,E=y>>>26;for(;E!==0&&x<d.length;x++)y=(d.words[x]|0)+E,this.words[x]=y&67108863,E=y>>>26;if(this.length=d.length,E!==0)this.words[this.length]=E,this.length++;else if(d!==this)for(;x<d.length;x++)this.words[x]=d.words[x];return this},s.prototype.add=function(b){var y;return b.negative!==0&&this.negative===0?(b.negative=0,y=this.sub(b),b.negative^=1,y):b.negative===0&&this.negative!==0?(this.negative=0,y=b.sub(this),this.negative=1,y):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var y=this.iadd(b);return b.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var d=this.cmp(b);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,E;d>0?(p=this,E=b):(p=b,E=this);for(var x=0,R=0;R<E.length;R++)y=(p.words[R]|0)-(E.words[R]|0)+x,x=y>>26,this.words[R]=y&67108863;for(;x!==0&&R<p.length;R++)y=(p.words[R]|0)+x,x=y>>26,this.words[R]=y&67108863;if(x===0&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function m(U,b,y){y.negative=b.negative^U.negative;var d=U.length+b.length|0;y.length=d,d=d-1|0;var p=U.words[0]|0,E=b.words[0]|0,x=p*E,R=x&67108863,S=x/67108864|0;y.words[0]=R;for(var v=1;v<d;v++){for(var A=S>>>26,_=S&67108863,D=Math.min(v,b.length-1),G=Math.max(0,v-U.length+1);G<=D;G++){var T=v-G|0;p=U.words[T]|0,E=b.words[G]|0,x=p*E+_,A+=x/67108864|0,_=x&67108863}y.words[v]=_|0,S=A|0}return S!==0?y.words[v]=S|0:y.length--,y.strip()}var w=function(b,y,d){var p=b.words,E=y.words,x=d.words,R=0,S,v,A,_=p[0]|0,D=_&8191,G=_>>>13,T=p[1]|0,z=T&8191,j=T>>>13,X=p[2]|0,Y=X&8191,ne=X>>>13,ce=p[3]|0,le=ce&8191,q=ce>>>13,B=p[4]|0,J=B&8191,he=B>>>13,se=p[5]|0,oe=se&8191,pe=se>>>13,W=p[6]|0,H=W&8191,Z=W>>>13,ue=p[7]|0,fe=ue&8191,de=ue>>>13,ee=p[8]|0,re=ee&8191,we=ee>>>13,Ae=p[9]|0,Re=Ae&8191,Ge=Ae>>>13,Ve=E[0]|0,ke=Ve&8191,Rt=Ve>>>13,zt=E[1]|0,Le=zt&8191,gt=zt>>>13,Wt=E[2]|0,Xe=Wt&8191,ir=Wt>>>13,sr=E[3]|0,Ye=sr&8191,or=sr>>>13,ar=E[4]|0,Ze=ar&8191,cr=ar>>>13,fr=E[5]|0,Qe=fr&8191,lr=fr>>>13,ur=E[6]|0,et=ur&8191,hr=ur>>>13,dr=E[7]|0,tt=dr&8191,pr=dr>>>13,gr=E[8]|0,rt=gr&8191,mr=gr>>>13,br=E[9]|0,nt=br&8191,Er=br>>>13;d.negative=b.negative^y.negative,d.length=19,S=Math.imul(D,ke),v=Math.imul(D,Rt),v=v+Math.imul(G,ke)|0,A=Math.imul(G,Rt);var Yt=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,S=Math.imul(z,ke),v=Math.imul(z,Rt),v=v+Math.imul(j,ke)|0,A=Math.imul(j,Rt),S=S+Math.imul(D,Le)|0,v=v+Math.imul(D,gt)|0,v=v+Math.imul(G,Le)|0,A=A+Math.imul(G,gt)|0;var Zt=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(Y,ke),v=Math.imul(Y,Rt),v=v+Math.imul(ne,ke)|0,A=Math.imul(ne,Rt),S=S+Math.imul(z,Le)|0,v=v+Math.imul(z,gt)|0,v=v+Math.imul(j,Le)|0,A=A+Math.imul(j,gt)|0,S=S+Math.imul(D,Xe)|0,v=v+Math.imul(D,ir)|0,v=v+Math.imul(G,Xe)|0,A=A+Math.imul(G,ir)|0;var ko=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(ko>>>26)|0,ko&=67108863,S=Math.imul(le,ke),v=Math.imul(le,Rt),v=v+Math.imul(q,ke)|0,A=Math.imul(q,Rt),S=S+Math.imul(Y,Le)|0,v=v+Math.imul(Y,gt)|0,v=v+Math.imul(ne,Le)|0,A=A+Math.imul(ne,gt)|0,S=S+Math.imul(z,Xe)|0,v=v+Math.imul(z,ir)|0,v=v+Math.imul(j,Xe)|0,A=A+Math.imul(j,ir)|0,S=S+Math.imul(D,Ye)|0,v=v+Math.imul(D,or)|0,v=v+Math.imul(G,Ye)|0,A=A+Math.imul(G,or)|0;var Lo=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,S=Math.imul(J,ke),v=Math.imul(J,Rt),v=v+Math.imul(he,ke)|0,A=Math.imul(he,Rt),S=S+Math.imul(le,Le)|0,v=v+Math.imul(le,gt)|0,v=v+Math.imul(q,Le)|0,A=A+Math.imul(q,gt)|0,S=S+Math.imul(Y,Xe)|0,v=v+Math.imul(Y,ir)|0,v=v+Math.imul(ne,Xe)|0,A=A+Math.imul(ne,ir)|0,S=S+Math.imul(z,Ye)|0,v=v+Math.imul(z,or)|0,v=v+Math.imul(j,Ye)|0,A=A+Math.imul(j,or)|0,S=S+Math.imul(D,Ze)|0,v=v+Math.imul(D,cr)|0,v=v+Math.imul(G,Ze)|0,A=A+Math.imul(G,cr)|0;var Fo=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,S=Math.imul(oe,ke),v=Math.imul(oe,Rt),v=v+Math.imul(pe,ke)|0,A=Math.imul(pe,Rt),S=S+Math.imul(J,Le)|0,v=v+Math.imul(J,gt)|0,v=v+Math.imul(he,Le)|0,A=A+Math.imul(he,gt)|0,S=S+Math.imul(le,Xe)|0,v=v+Math.imul(le,ir)|0,v=v+Math.imul(q,Xe)|0,A=A+Math.imul(q,ir)|0,S=S+Math.imul(Y,Ye)|0,v=v+Math.imul(Y,or)|0,v=v+Math.imul(ne,Ye)|0,A=A+Math.imul(ne,or)|0,S=S+Math.imul(z,Ze)|0,v=v+Math.imul(z,cr)|0,v=v+Math.imul(j,Ze)|0,A=A+Math.imul(j,cr)|0,S=S+Math.imul(D,Qe)|0,v=v+Math.imul(D,lr)|0,v=v+Math.imul(G,Qe)|0,A=A+Math.imul(G,lr)|0;var $o=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+($o>>>26)|0,$o&=67108863,S=Math.imul(H,ke),v=Math.imul(H,Rt),v=v+Math.imul(Z,ke)|0,A=Math.imul(Z,Rt),S=S+Math.imul(oe,Le)|0,v=v+Math.imul(oe,gt)|0,v=v+Math.imul(pe,Le)|0,A=A+Math.imul(pe,gt)|0,S=S+Math.imul(J,Xe)|0,v=v+Math.imul(J,ir)|0,v=v+Math.imul(he,Xe)|0,A=A+Math.imul(he,ir)|0,S=S+Math.imul(le,Ye)|0,v=v+Math.imul(le,or)|0,v=v+Math.imul(q,Ye)|0,A=A+Math.imul(q,or)|0,S=S+Math.imul(Y,Ze)|0,v=v+Math.imul(Y,cr)|0,v=v+Math.imul(ne,Ze)|0,A=A+Math.imul(ne,cr)|0,S=S+Math.imul(z,Qe)|0,v=v+Math.imul(z,lr)|0,v=v+Math.imul(j,Qe)|0,A=A+Math.imul(j,lr)|0,S=S+Math.imul(D,et)|0,v=v+Math.imul(D,hr)|0,v=v+Math.imul(G,et)|0,A=A+Math.imul(G,hr)|0;var Bo=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,S=Math.imul(fe,ke),v=Math.imul(fe,Rt),v=v+Math.imul(de,ke)|0,A=Math.imul(de,Rt),S=S+Math.imul(H,Le)|0,v=v+Math.imul(H,gt)|0,v=v+Math.imul(Z,Le)|0,A=A+Math.imul(Z,gt)|0,S=S+Math.imul(oe,Xe)|0,v=v+Math.imul(oe,ir)|0,v=v+Math.imul(pe,Xe)|0,A=A+Math.imul(pe,ir)|0,S=S+Math.imul(J,Ye)|0,v=v+Math.imul(J,or)|0,v=v+Math.imul(he,Ye)|0,A=A+Math.imul(he,or)|0,S=S+Math.imul(le,Ze)|0,v=v+Math.imul(le,cr)|0,v=v+Math.imul(q,Ze)|0,A=A+Math.imul(q,cr)|0,S=S+Math.imul(Y,Qe)|0,v=v+Math.imul(Y,lr)|0,v=v+Math.imul(ne,Qe)|0,A=A+Math.imul(ne,lr)|0,S=S+Math.imul(z,et)|0,v=v+Math.imul(z,hr)|0,v=v+Math.imul(j,et)|0,A=A+Math.imul(j,hr)|0,S=S+Math.imul(D,tt)|0,v=v+Math.imul(D,pr)|0,v=v+Math.imul(G,tt)|0,A=A+Math.imul(G,pr)|0;var kh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(kh>>>26)|0,kh&=67108863,S=Math.imul(re,ke),v=Math.imul(re,Rt),v=v+Math.imul(we,ke)|0,A=Math.imul(we,Rt),S=S+Math.imul(fe,Le)|0,v=v+Math.imul(fe,gt)|0,v=v+Math.imul(de,Le)|0,A=A+Math.imul(de,gt)|0,S=S+Math.imul(H,Xe)|0,v=v+Math.imul(H,ir)|0,v=v+Math.imul(Z,Xe)|0,A=A+Math.imul(Z,ir)|0,S=S+Math.imul(oe,Ye)|0,v=v+Math.imul(oe,or)|0,v=v+Math.imul(pe,Ye)|0,A=A+Math.imul(pe,or)|0,S=S+Math.imul(J,Ze)|0,v=v+Math.imul(J,cr)|0,v=v+Math.imul(he,Ze)|0,A=A+Math.imul(he,cr)|0,S=S+Math.imul(le,Qe)|0,v=v+Math.imul(le,lr)|0,v=v+Math.imul(q,Qe)|0,A=A+Math.imul(q,lr)|0,S=S+Math.imul(Y,et)|0,v=v+Math.imul(Y,hr)|0,v=v+Math.imul(ne,et)|0,A=A+Math.imul(ne,hr)|0,S=S+Math.imul(z,tt)|0,v=v+Math.imul(z,pr)|0,v=v+Math.imul(j,tt)|0,A=A+Math.imul(j,pr)|0,S=S+Math.imul(D,rt)|0,v=v+Math.imul(D,mr)|0,v=v+Math.imul(G,rt)|0,A=A+Math.imul(G,mr)|0;var Lh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Lh>>>26)|0,Lh&=67108863,S=Math.imul(Re,ke),v=Math.imul(Re,Rt),v=v+Math.imul(Ge,ke)|0,A=Math.imul(Ge,Rt),S=S+Math.imul(re,Le)|0,v=v+Math.imul(re,gt)|0,v=v+Math.imul(we,Le)|0,A=A+Math.imul(we,gt)|0,S=S+Math.imul(fe,Xe)|0,v=v+Math.imul(fe,ir)|0,v=v+Math.imul(de,Xe)|0,A=A+Math.imul(de,ir)|0,S=S+Math.imul(H,Ye)|0,v=v+Math.imul(H,or)|0,v=v+Math.imul(Z,Ye)|0,A=A+Math.imul(Z,or)|0,S=S+Math.imul(oe,Ze)|0,v=v+Math.imul(oe,cr)|0,v=v+Math.imul(pe,Ze)|0,A=A+Math.imul(pe,cr)|0,S=S+Math.imul(J,Qe)|0,v=v+Math.imul(J,lr)|0,v=v+Math.imul(he,Qe)|0,A=A+Math.imul(he,lr)|0,S=S+Math.imul(le,et)|0,v=v+Math.imul(le,hr)|0,v=v+Math.imul(q,et)|0,A=A+Math.imul(q,hr)|0,S=S+Math.imul(Y,tt)|0,v=v+Math.imul(Y,pr)|0,v=v+Math.imul(ne,tt)|0,A=A+Math.imul(ne,pr)|0,S=S+Math.imul(z,rt)|0,v=v+Math.imul(z,mr)|0,v=v+Math.imul(j,rt)|0,A=A+Math.imul(j,mr)|0,S=S+Math.imul(D,nt)|0,v=v+Math.imul(D,Er)|0,v=v+Math.imul(G,nt)|0,A=A+Math.imul(G,Er)|0;var Fh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Fh>>>26)|0,Fh&=67108863,S=Math.imul(Re,Le),v=Math.imul(Re,gt),v=v+Math.imul(Ge,Le)|0,A=Math.imul(Ge,gt),S=S+Math.imul(re,Xe)|0,v=v+Math.imul(re,ir)|0,v=v+Math.imul(we,Xe)|0,A=A+Math.imul(we,ir)|0,S=S+Math.imul(fe,Ye)|0,v=v+Math.imul(fe,or)|0,v=v+Math.imul(de,Ye)|0,A=A+Math.imul(de,or)|0,S=S+Math.imul(H,Ze)|0,v=v+Math.imul(H,cr)|0,v=v+Math.imul(Z,Ze)|0,A=A+Math.imul(Z,cr)|0,S=S+Math.imul(oe,Qe)|0,v=v+Math.imul(oe,lr)|0,v=v+Math.imul(pe,Qe)|0,A=A+Math.imul(pe,lr)|0,S=S+Math.imul(J,et)|0,v=v+Math.imul(J,hr)|0,v=v+Math.imul(he,et)|0,A=A+Math.imul(he,hr)|0,S=S+Math.imul(le,tt)|0,v=v+Math.imul(le,pr)|0,v=v+Math.imul(q,tt)|0,A=A+Math.imul(q,pr)|0,S=S+Math.imul(Y,rt)|0,v=v+Math.imul(Y,mr)|0,v=v+Math.imul(ne,rt)|0,A=A+Math.imul(ne,mr)|0,S=S+Math.imul(z,nt)|0,v=v+Math.imul(z,Er)|0,v=v+Math.imul(j,nt)|0,A=A+Math.imul(j,Er)|0;var $h=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+($h>>>26)|0,$h&=67108863,S=Math.imul(Re,Xe),v=Math.imul(Re,ir),v=v+Math.imul(Ge,Xe)|0,A=Math.imul(Ge,ir),S=S+Math.imul(re,Ye)|0,v=v+Math.imul(re,or)|0,v=v+Math.imul(we,Ye)|0,A=A+Math.imul(we,or)|0,S=S+Math.imul(fe,Ze)|0,v=v+Math.imul(fe,cr)|0,v=v+Math.imul(de,Ze)|0,A=A+Math.imul(de,cr)|0,S=S+Math.imul(H,Qe)|0,v=v+Math.imul(H,lr)|0,v=v+Math.imul(Z,Qe)|0,A=A+Math.imul(Z,lr)|0,S=S+Math.imul(oe,et)|0,v=v+Math.imul(oe,hr)|0,v=v+Math.imul(pe,et)|0,A=A+Math.imul(pe,hr)|0,S=S+Math.imul(J,tt)|0,v=v+Math.imul(J,pr)|0,v=v+Math.imul(he,tt)|0,A=A+Math.imul(he,pr)|0,S=S+Math.imul(le,rt)|0,v=v+Math.imul(le,mr)|0,v=v+Math.imul(q,rt)|0,A=A+Math.imul(q,mr)|0,S=S+Math.imul(Y,nt)|0,v=v+Math.imul(Y,Er)|0,v=v+Math.imul(ne,nt)|0,A=A+Math.imul(ne,Er)|0;var Bh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Bh>>>26)|0,Bh&=67108863,S=Math.imul(Re,Ye),v=Math.imul(Re,or),v=v+Math.imul(Ge,Ye)|0,A=Math.imul(Ge,or),S=S+Math.imul(re,Ze)|0,v=v+Math.imul(re,cr)|0,v=v+Math.imul(we,Ze)|0,A=A+Math.imul(we,cr)|0,S=S+Math.imul(fe,Qe)|0,v=v+Math.imul(fe,lr)|0,v=v+Math.imul(de,Qe)|0,A=A+Math.imul(de,lr)|0,S=S+Math.imul(H,et)|0,v=v+Math.imul(H,hr)|0,v=v+Math.imul(Z,et)|0,A=A+Math.imul(Z,hr)|0,S=S+Math.imul(oe,tt)|0,v=v+Math.imul(oe,pr)|0,v=v+Math.imul(pe,tt)|0,A=A+Math.imul(pe,pr)|0,S=S+Math.imul(J,rt)|0,v=v+Math.imul(J,mr)|0,v=v+Math.imul(he,rt)|0,A=A+Math.imul(he,mr)|0,S=S+Math.imul(le,nt)|0,v=v+Math.imul(le,Er)|0,v=v+Math.imul(q,nt)|0,A=A+Math.imul(q,Er)|0;var Gh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Gh>>>26)|0,Gh&=67108863,S=Math.imul(Re,Ze),v=Math.imul(Re,cr),v=v+Math.imul(Ge,Ze)|0,A=Math.imul(Ge,cr),S=S+Math.imul(re,Qe)|0,v=v+Math.imul(re,lr)|0,v=v+Math.imul(we,Qe)|0,A=A+Math.imul(we,lr)|0,S=S+Math.imul(fe,et)|0,v=v+Math.imul(fe,hr)|0,v=v+Math.imul(de,et)|0,A=A+Math.imul(de,hr)|0,S=S+Math.imul(H,tt)|0,v=v+Math.imul(H,pr)|0,v=v+Math.imul(Z,tt)|0,A=A+Math.imul(Z,pr)|0,S=S+Math.imul(oe,rt)|0,v=v+Math.imul(oe,mr)|0,v=v+Math.imul(pe,rt)|0,A=A+Math.imul(pe,mr)|0,S=S+Math.imul(J,nt)|0,v=v+Math.imul(J,Er)|0,v=v+Math.imul(he,nt)|0,A=A+Math.imul(he,Er)|0;var jh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(jh>>>26)|0,jh&=67108863,S=Math.imul(Re,Qe),v=Math.imul(Re,lr),v=v+Math.imul(Ge,Qe)|0,A=Math.imul(Ge,lr),S=S+Math.imul(re,et)|0,v=v+Math.imul(re,hr)|0,v=v+Math.imul(we,et)|0,A=A+Math.imul(we,hr)|0,S=S+Math.imul(fe,tt)|0,v=v+Math.imul(fe,pr)|0,v=v+Math.imul(de,tt)|0,A=A+Math.imul(de,pr)|0,S=S+Math.imul(H,rt)|0,v=v+Math.imul(H,mr)|0,v=v+Math.imul(Z,rt)|0,A=A+Math.imul(Z,mr)|0,S=S+Math.imul(oe,nt)|0,v=v+Math.imul(oe,Er)|0,v=v+Math.imul(pe,nt)|0,A=A+Math.imul(pe,Er)|0;var zh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(zh>>>26)|0,zh&=67108863,S=Math.imul(Re,et),v=Math.imul(Re,hr),v=v+Math.imul(Ge,et)|0,A=Math.imul(Ge,hr),S=S+Math.imul(re,tt)|0,v=v+Math.imul(re,pr)|0,v=v+Math.imul(we,tt)|0,A=A+Math.imul(we,pr)|0,S=S+Math.imul(fe,rt)|0,v=v+Math.imul(fe,mr)|0,v=v+Math.imul(de,rt)|0,A=A+Math.imul(de,mr)|0,S=S+Math.imul(H,nt)|0,v=v+Math.imul(H,Er)|0,v=v+Math.imul(Z,nt)|0,A=A+Math.imul(Z,Er)|0;var Wh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Wh>>>26)|0,Wh&=67108863,S=Math.imul(Re,tt),v=Math.imul(Re,pr),v=v+Math.imul(Ge,tt)|0,A=Math.imul(Ge,pr),S=S+Math.imul(re,rt)|0,v=v+Math.imul(re,mr)|0,v=v+Math.imul(we,rt)|0,A=A+Math.imul(we,mr)|0,S=S+Math.imul(fe,nt)|0,v=v+Math.imul(fe,Er)|0,v=v+Math.imul(de,nt)|0,A=A+Math.imul(de,Er)|0;var Hh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(Hh>>>26)|0,Hh&=67108863,S=Math.imul(Re,rt),v=Math.imul(Re,mr),v=v+Math.imul(Ge,rt)|0,A=Math.imul(Ge,mr),S=S+Math.imul(re,nt)|0,v=v+Math.imul(re,Er)|0,v=v+Math.imul(we,nt)|0,A=A+Math.imul(we,Er)|0;var qh=(R+S|0)+((v&8191)<<13)|0;R=(A+(v>>>13)|0)+(qh>>>26)|0,qh&=67108863,S=Math.imul(Re,nt),v=Math.imul(Re,Er),v=v+Math.imul(Ge,nt)|0,A=Math.imul(Ge,Er);var Vh=(R+S|0)+((v&8191)<<13)|0;return R=(A+(v>>>13)|0)+(Vh>>>26)|0,Vh&=67108863,x[0]=Yt,x[1]=Zt,x[2]=ko,x[3]=Lo,x[4]=Fo,x[5]=$o,x[6]=Bo,x[7]=kh,x[8]=Lh,x[9]=Fh,x[10]=$h,x[11]=Bh,x[12]=Gh,x[13]=jh,x[14]=zh,x[15]=Wh,x[16]=Hh,x[17]=qh,x[18]=Vh,R!==0&&(x[19]=R,d.length++),d};Math.imul||(w=m);function N(U,b,y){y.negative=b.negative^U.negative,y.length=U.length+b.length;for(var d=0,p=0,E=0;E<y.length-1;E++){var x=p;p=0;for(var R=d&67108863,S=Math.min(E,b.length-1),v=Math.max(0,E-U.length+1);v<=S;v++){var A=E-v,_=U.words[A]|0,D=b.words[v]|0,G=_*D,T=G&67108863;x=x+(G/67108864|0)|0,T=T+R|0,R=T&67108863,x=x+(T>>>26)|0,p+=x>>>26,x&=67108863}y.words[E]=R,d=x,x=p}return d!==0?y.words[E]=d:y.length--,y.strip()}function I(U,b,y){var d=new C;return d.mulp(U,b,y)}s.prototype.mulTo=function(b,y){var d,p=this.length+b.length;return this.length===10&&b.length===10?d=w(this,b,y):p<63?d=m(this,b,y):p<1024?d=N(this,b,y):d=I(this,b,y),d};function C(U,b){this.x=U,this.y=b}C.prototype.makeRBT=function(b){for(var y=new Array(b),d=s.prototype._countBits(b)-1,p=0;p<b;p++)y[p]=this.revBin(p,d,b);return y},C.prototype.revBin=function(b,y,d){if(b===0||b===d-1)return b;for(var p=0,E=0;E<y;E++)p|=(b&1)<<y-E-1,b>>=1;return p},C.prototype.permute=function(b,y,d,p,E,x){for(var R=0;R<x;R++)p[R]=y[b[R]],E[R]=d[b[R]]},C.prototype.transform=function(b,y,d,p,E,x){this.permute(x,b,y,d,p,E);for(var R=1;R<E;R<<=1)for(var S=R<<1,v=Math.cos(2*Math.PI/S),A=Math.sin(2*Math.PI/S),_=0;_<E;_+=S)for(var D=v,G=A,T=0;T<R;T++){var z=d[_+T],j=p[_+T],X=d[_+T+R],Y=p[_+T+R],ne=D*X-G*Y;Y=D*Y+G*X,X=ne,d[_+T]=z+X,p[_+T]=j+Y,d[_+T+R]=z-X,p[_+T+R]=j-Y,T!==S&&(ne=v*D-A*G,G=v*G+A*D,D=ne)}},C.prototype.guessLen13b=function(b,y){var d=Math.max(y,b)|1,p=d&1,E=0;for(d=d/2|0;d;d=d>>>1)E++;return 1<<E+1+p},C.prototype.conjugate=function(b,y,d){if(!(d<=1))for(var p=0;p<d/2;p++){var E=b[p];b[p]=b[d-p-1],b[d-p-1]=E,E=y[p],y[p]=-y[d-p-1],y[d-p-1]=-E}},C.prototype.normalize13b=function(b,y){for(var d=0,p=0;p<y/2;p++){var E=Math.round(b[2*p+1]/y)*8192+Math.round(b[2*p]/y)+d;b[p]=E&67108863,E<67108864?d=0:d=E/67108864|0}return b},C.prototype.convert13b=function(b,y,d,p){for(var E=0,x=0;x<y;x++)E=E+(b[x]|0),d[2*x]=E&8191,E=E>>>13,d[2*x+1]=E&8191,E=E>>>13;for(x=2*y;x<p;++x)d[x]=0;n(E===0),n((E&-8192)===0)},C.prototype.stub=function(b){for(var y=new Array(b),d=0;d<b;d++)y[d]=0;return y},C.prototype.mulp=function(b,y,d){var p=2*this.guessLen13b(b.length,y.length),E=this.makeRBT(p),x=this.stub(p),R=new Array(p),S=new Array(p),v=new Array(p),A=new Array(p),_=new Array(p),D=new Array(p),G=d.words;G.length=p,this.convert13b(b.words,b.length,R,p),this.convert13b(y.words,y.length,A,p),this.transform(R,x,S,v,p,E),this.transform(A,x,_,D,p,E);for(var T=0;T<p;T++){var z=S[T]*_[T]-v[T]*D[T];v[T]=S[T]*D[T]+v[T]*_[T],S[T]=z}return this.conjugate(S,v,p),this.transform(S,v,G,x,p,E),this.conjugate(G,x,p),this.normalize13b(G,p),d.negative=b.negative^y.negative,d.length=b.length+y.length,d.strip()},s.prototype.mul=function(b){var y=new s(null);return y.words=new Array(this.length+b.length),this.mulTo(b,y)},s.prototype.mulf=function(b){var y=new s(null);return y.words=new Array(this.length+b.length),I(this,b,y)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){n(typeof b=="number"),n(b<67108864);for(var y=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*b,E=(p&67108863)+(y&67108863);y>>=26,y+=p/67108864|0,y+=E>>>26,this.words[d]=E&67108863}return y!==0&&(this.words[d]=y,this.length++),this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var y=g(b);if(y.length===0)return new s(1);for(var d=this,p=0;p<y.length&&y[p]===0;p++,d=d.sqr());if(++p<y.length)for(var E=d.sqr();p<y.length;p++,E=E.sqr())y[p]!==0&&(d=d.mul(E));return d},s.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var y=b%26,d=(b-y)/26,p=67108863>>>26-y<<26-y,E;if(y!==0){var x=0;for(E=0;E<this.length;E++){var R=this.words[E]&p,S=(this.words[E]|0)-R<<y;this.words[E]=S|x,x=R>>>26-y}x&&(this.words[E]=x,this.length++)}if(d!==0){for(E=this.length-1;E>=0;E--)this.words[E+d]=this.words[E];for(E=0;E<d;E++)this.words[E]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,y,d){n(typeof b=="number"&&b>=0);var p;y?p=(y-y%26)/26:p=0;var E=b%26,x=Math.min((b-E)/26,this.length),R=67108863^67108863>>>E<<E,S=d;if(p-=x,p=Math.max(0,p),S){for(var v=0;v<x;v++)S.words[v]=this.words[v];S.length=x}if(x!==0)if(this.length>x)for(this.length-=x,v=0;v<this.length;v++)this.words[v]=this.words[v+x];else this.words[0]=0,this.length=1;var A=0;for(v=this.length-1;v>=0&&(A!==0||v>=p);v--){var _=this.words[v]|0;this.words[v]=A<<26-E|_>>>E,A=_&R}return S&&A!==0&&(S.words[S.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(b,y,d){return n(this.negative===0),this.iushrn(b,y,d)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var y=b%26,d=(b-y)/26,p=1<<y;if(this.length<=d)return!1;var E=this.words[d];return!!(E&p)},s.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var y=b%26,d=(b-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(y!==0&&d++,this.length=Math.min(d,this.length),y!==0){var p=67108863^67108863>>>y<<y;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,y,d){var p=b.length+d,E;this._expand(p);var x,R=0;for(E=0;E<b.length;E++){x=(this.words[E+d]|0)+R;var S=(b.words[E]|0)*y;x-=S&67108863,R=(x>>26)-(S/67108864|0),this.words[E+d]=x&67108863}for(;E<this.length-d;E++)x=(this.words[E+d]|0)+R,R=x>>26,this.words[E+d]=x&67108863;if(R===0)return this.strip();for(n(R===-1),R=0,E=0;E<this.length;E++)x=-(this.words[E]|0)+R,R=x>>26,this.words[E]=x&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(b,y){var d=this.length-b.length,p=this.clone(),E=b,x=E.words[E.length-1]|0,R=this._countBits(x);d=26-R,d!==0&&(E=E.ushln(d),p.iushln(d),x=E.words[E.length-1]|0);var S=p.length-E.length,v;if(y!=="mod"){v=new s(null),v.length=S+1,v.words=new Array(v.length);for(var A=0;A<v.length;A++)v.words[A]=0}var _=p.clone()._ishlnsubmul(E,1,S);_.negative===0&&(p=_,v&&(v.words[S]=1));for(var D=S-1;D>=0;D--){var G=(p.words[E.length+D]|0)*67108864+(p.words[E.length+D-1]|0);for(G=Math.min(G/x|0,67108863),p._ishlnsubmul(E,G,D);p.negative!==0;)G--,p.negative=0,p._ishlnsubmul(E,1,D),p.isZero()||(p.negative^=1);v&&(v.words[D]=G)}return v&&v.strip(),p.strip(),y!=="div"&&d!==0&&p.iushrn(d),{div:v||null,mod:p}},s.prototype.divmod=function(b,y,d){if(n(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,E,x;return this.negative!==0&&b.negative===0?(x=this.neg().divmod(b,y),y!=="mod"&&(p=x.div.neg()),y!=="div"&&(E=x.mod.neg(),d&&E.negative!==0&&E.iadd(b)),{div:p,mod:E}):this.negative===0&&b.negative!==0?(x=this.divmod(b.neg(),y),y!=="mod"&&(p=x.div.neg()),{div:p,mod:x.mod}):this.negative&b.negative?(x=this.neg().divmod(b.neg(),y),y!=="div"&&(E=x.mod.neg(),d&&E.negative!==0&&E.isub(b)),{div:x.div,mod:E}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?y==="div"?{div:this.divn(b.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modn(b.words[0]))}:this._wordDiv(b,y)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var y=this.divmod(b);if(y.mod.isZero())return y.div;var d=y.div.negative!==0?y.mod.isub(b):y.mod,p=b.ushrn(1),E=b.andln(1),x=d.cmp(p);return x<0||E===1&&x===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modn=function(b){n(b<=67108863);for(var y=(1<<26)%b,d=0,p=this.length-1;p>=0;p--)d=(y*d+(this.words[p]|0))%b;return d},s.prototype.idivn=function(b){n(b<=67108863);for(var y=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+y*67108864;this.words[d]=p/b|0,y=p%b}return this.strip()},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var y=this,d=b.clone();y.negative!==0?y=y.umod(b):y=y.clone();for(var p=new s(1),E=new s(0),x=new s(0),R=new s(1),S=0;y.isEven()&&d.isEven();)y.iushrn(1),d.iushrn(1),++S;for(var v=d.clone(),A=y.clone();!y.isZero();){for(var _=0,D=1;!(y.words[0]&D)&&_<26;++_,D<<=1);if(_>0)for(y.iushrn(_);_-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(v),E.isub(A)),p.iushrn(1),E.iushrn(1);for(var G=0,T=1;!(d.words[0]&T)&&G<26;++G,T<<=1);if(G>0)for(d.iushrn(G);G-- >0;)(x.isOdd()||R.isOdd())&&(x.iadd(v),R.isub(A)),x.iushrn(1),R.iushrn(1);y.cmp(d)>=0?(y.isub(d),p.isub(x),E.isub(R)):(d.isub(y),x.isub(p),R.isub(E))}return{a:x,b:R,gcd:d.iushln(S)}},s.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var y=this,d=b.clone();y.negative!==0?y=y.umod(b):y=y.clone();for(var p=new s(1),E=new s(0),x=d.clone();y.cmpn(1)>0&&d.cmpn(1)>0;){for(var R=0,S=1;!(y.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(y.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(x),p.iushrn(1);for(var v=0,A=1;!(d.words[0]&A)&&v<26;++v,A<<=1);if(v>0)for(d.iushrn(v);v-- >0;)E.isOdd()&&E.iadd(x),E.iushrn(1);y.cmp(d)>=0?(y.isub(d),p.isub(E)):(d.isub(y),E.isub(p))}var _;return y.cmpn(1)===0?_=p:_=E,_.cmpn(0)<0&&_.iadd(b),_},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var y=this.clone(),d=b.clone();y.negative=0,d.negative=0;for(var p=0;y.isEven()&&d.isEven();p++)y.iushrn(1),d.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;d.isEven();)d.iushrn(1);var E=y.cmp(d);if(E<0){var x=y;y=d,d=x}else if(E===0||d.cmpn(1)===0)break;y.isub(d)}while(!0);return d.iushln(p)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){n(typeof b=="number");var y=b%26,d=(b-y)/26,p=1<<y;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var E=p,x=d;E!==0&&x<this.length;x++){var R=this.words[x]|0;R+=E,E=R>>>26,R&=67108863,this.words[x]=R}return E!==0&&(this.words[x]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var y=b<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var d;if(this.length>1)d=1;else{y&&(b=-b),n(b<=67108863,"Number is too big");var p=this.words[0]|0;d=p===b?0:p<b?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var y=this.ucmp(b);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var y=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,E=b.words[d]|0;if(p!==E){p<E?y=-1:p>E&&(y=1);break}}return y},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new O(b)},s.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var M={k256:null,p224:null,p192:null,p25519:null};function k(U,b){this.name=U,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},k.prototype.ireduce=function(b){var y=b,d;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),d=y.bitLength();while(d>this.n);var p=d<this.n?-1:y.ucmp(this.p);return p===0?(y.words[0]=0,y.length=1):p>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},k.prototype.split=function(b,y){b.iushrn(this.n,0,y)},k.prototype.imulK=function(b){return b.imul(this.k)};function L(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,k),L.prototype.split=function(b,y){for(var d=4194303,p=Math.min(b.length,9),E=0;E<p;E++)y.words[E]=b.words[E];if(y.length=p,b.length<=9){b.words[0]=0,b.length=1;return}var x=b.words[9];for(y.words[y.length++]=x&d,E=10;E<b.length;E++){var R=b.words[E]|0;b.words[E-10]=(R&d)<<4|x>>>22,x=R}x>>>=22,b.words[E-10]=x,x===0&&b.length>10?b.length-=10:b.length-=9},L.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var y=0,d=0;d<b.length;d++){var p=b.words[d]|0;y+=p*977,b.words[d]=y&67108863,y=p*64+(y/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function $(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,k);function V(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(V,k);function P(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(P,k),P.prototype.imulK=function(b){for(var y=0,d=0;d<b.length;d++){var p=(b.words[d]|0)*19+y,E=p&67108863;p>>>=26,b.words[d]=E,y=p}return y!==0&&(b.words[b.length++]=y),b},s._prime=function(b){if(M[b])return M[b];var y;if(b==="k256")y=new L;else if(b==="p224")y=new $;else if(b==="p192")y=new V;else if(b==="p25519")y=new P;else throw new Error("Unknown prime "+b);return M[b]=y,y};function O(U){if(typeof U=="string"){var b=s._prime(U);this.m=b.p,this.prime=b}else n(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}O.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},O.prototype._verify2=function(b,y){n((b.negative|y.negative)===0,"red works only with positives"),n(b.red&&b.red===y.red,"red works only with red numbers")},O.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},O.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},O.prototype.add=function(b,y){this._verify2(b,y);var d=b.add(y);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},O.prototype.iadd=function(b,y){this._verify2(b,y);var d=b.iadd(y);return d.cmp(this.m)>=0&&d.isub(this.m),d},O.prototype.sub=function(b,y){this._verify2(b,y);var d=b.sub(y);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},O.prototype.isub=function(b,y){this._verify2(b,y);var d=b.isub(y);return d.cmpn(0)<0&&d.iadd(this.m),d},O.prototype.shl=function(b,y){return this._verify1(b),this.imod(b.ushln(y))},O.prototype.imul=function(b,y){return this._verify2(b,y),this.imod(b.imul(y))},O.prototype.mul=function(b,y){return this._verify2(b,y),this.imod(b.mul(y))},O.prototype.isqr=function(b){return this.imul(b,b.clone())},O.prototype.sqr=function(b){return this.mul(b,b)},O.prototype.sqrt=function(b){if(b.isZero())return b.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(b,d)}for(var p=this.m.subn(1),E=0;!p.isZero()&&p.andln(1)===0;)E++,p.iushrn(1);n(!p.isZero());var x=new s(1).toRed(this),R=x.redNeg(),S=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new s(2*v*v).toRed(this);this.pow(v,S).cmp(R)!==0;)v.redIAdd(R);for(var A=this.pow(v,p),_=this.pow(b,p.addn(1).iushrn(1)),D=this.pow(b,p),G=E;D.cmp(x)!==0;){for(var T=D,z=0;T.cmp(x)!==0;z++)T=T.redSqr();n(z<G);var j=this.pow(A,new s(1).iushln(G-z-1));_=_.redMul(j),A=j.redSqr(),D=D.redMul(A),G=z}return _},O.prototype.invm=function(b){var y=b._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},O.prototype.pow=function(b,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return b.clone();var d=4,p=new Array(1<<d);p[0]=new s(1).toRed(this),p[1]=b;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],b);var x=p[0],R=0,S=0,v=y.bitLength()%26;for(v===0&&(v=26),E=y.length-1;E>=0;E--){for(var A=y.words[E],_=v-1;_>=0;_--){var D=A>>_&1;if(x!==p[0]&&(x=this.sqr(x)),D===0&&R===0){S=0;continue}R<<=1,R|=D,S++,!(S!==d&&(E!==0||_!==0))&&(x=this.mul(x,p[R]),S=0,R=0)}v=26}return x},O.prototype.convertTo=function(b){var y=b.umod(this.m);return y===b?y.clone():y},O.prototype.convertFrom=function(b){var y=b.clone();return y.red=null,y},s.mont=function(b){return new F(b)};function F(U){O.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,O),F.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},F.prototype.convertFrom=function(b){var y=this.imod(b.mul(this.rinv));return y.red=null,y},F.prototype.imul=function(b,y){if(b.isZero()||y.isZero())return b.words[0]=0,b.length=1,b;var d=b.imul(y),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=d.isub(p).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},F.prototype.mul=function(b,y){if(b.isZero()||y.isZero())return new s(0)._forceRed(this);var d=b.mul(y),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=d.isub(p).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},F.prototype.invm=function(b){var y=this.imod(b._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,yn)})(WT);var fu=WT.exports,u0=mG;function mG(t,e){if(!t)throw new Error(e||"Assertion failed")}mG.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var qT={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var f=s.charCodeAt(c),l=f>>8,u=f&255;l?a.push(l,u):a.push(u)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(qT);(function(t){var e=t,r=fu,n=u0,i=qT;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(l,u,h){var g=new Array(Math.max(l.bitLength(),h)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var w=1<<u+1,N=l.clone();for(m=0;m<g.length;m++){var I,C=N.andln(w-1);N.isOdd()?(C>(w>>1)-1?I=(w>>1)-C:I=C,N.isubn(I)):I=0,g[m]=I,N.iushrn(1)}return g}e.getNAF=s;function o(l,u){var h=[[],[]];l=l.clone(),u=u.clone();for(var g=0,m=0,w;l.cmpn(-g)>0||u.cmpn(-m)>0;){var N=l.andln(3)+g&3,I=u.andln(3)+m&3;N===3&&(N=-1),I===3&&(I=-1);var C;N&1?(w=l.andln(7)+g&7,(w===3||w===5)&&I===2?C=-N:C=N):C=0,h[0].push(C);var M;I&1?(w=u.andln(7)+m&7,(w===3||w===5)&&N===2?M=-I:M=I):M=0,h[1].push(M),2*g===C+1&&(g=1-g),2*m===M+1&&(m=1-m),l.iushrn(1),u.iushrn(1)}return h}e.getJSF=o;function a(l,u,h){var g="_"+u;l.prototype[u]=function(){return this[g]!==void 0?this[g]:this[g]=h.call(this)}}e.cachedProperty=a;function c(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=c;function f(l){return new r(l,"hex","le")}e.intFromLE=f})(Co);var VT={exports:{}},QN;VT.exports=function(e){return QN||(QN=new Wu(null)),QN.generate(e)};function Wu(t){this.rand=t}VT.exports.Rand=Wu;Wu.prototype.generate=function(e){return this._rand(e)};Wu.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Wu.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Wu.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Wu.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var nO=HT;if(typeof nO.randomBytes!="function")throw new Error("Not supported");Wu.prototype._rand=function(e){return nO.randomBytes(e)}}catch{}var bG=VT.exports,KT={},ed=fu,sy=Co,Fv=sy.getNAF,Xie=sy.getJSF,$v=sy.assert;function Nh(t,e){this.type=t,this.p=new ed(e.p,16),this.red=e.prime?ed.red(e.prime):ed.mont(this.p),this.zero=new ed(0).toRed(this.red),this.one=new ed(1).toRed(this.red),this.two=new ed(2).toRed(this.red),this.n=e.n&&new ed(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var aA=Nh;Nh.prototype.point=function(){throw new Error("Not implemented")};Nh.prototype.validate=function(){throw new Error("Not implemented")};Nh.prototype._fixedNafMul=function(e,r){$v(e.precomputed);var n=e._getDoubles(),i=Fv(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var f=a+n.step-1;f>=a;f--)c=(c<<1)+i[f];o.push(c)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?u=u.mixedAdd(n.points[a]):c===-h&&(u=u.mixedAdd(n.points[a].neg()));l=l.add(u)}return l.toP()};Nh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Fv(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&o[c]===0;c--)f++;if(c>=0&&f++,a=a.dblp(f),c<0)break;var l=o[c];$v(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};Nh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,f=0,l,u,h;for(l=0;l<i;l++){h=r[l];var g=h._getNAFPoints(e);o[l]=g.wnd,a[l]=g.points}for(l=i-1;l>=1;l-=2){var m=l-1,w=l;if(o[m]!==1||o[w]!==1){c[m]=Fv(n[m],o[m],this._bitLength),c[w]=Fv(n[w],o[w],this._bitLength),f=Math.max(c[m].length,f),f=Math.max(c[w].length,f);continue}var N=[r[m],null,null,r[w]];r[m].y.cmp(r[w].y)===0?(N[1]=r[m].add(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg())):r[m].y.cmp(r[w].y.redNeg())===0?(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].add(r[w].neg())):(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=Xie(n[m],n[w]);for(f=Math.max(C[0].length,f),c[m]=new Array(f),c[w]=new Array(f),u=0;u<f;u++){var M=C[0][u]|0,k=C[1][u]|0;c[m][u]=I[(M+1)*3+(k+1)],c[w][u]=0,a[m]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(l=f;l>=0;l--){for(var V=0;l>=0;){var P=!0;for(u=0;u<i;u++)$[u]=c[u][l]|0,$[u]!==0&&(P=!1);if(!P)break;V++,l--}if(l>=0&&V++,L=L.dblp(V),l<0)break;for(u=0;u<i;u++){var O=$[u];O!==0&&(O>0?h=a[u][O-1>>1]:O<0&&(h=a[u][-O-1>>1].neg()),h.type==="affine"?L=L.mixedAdd(h):L=L.add(h))}}for(l=0;l<i;l++)a[l]=null;return s?L:L.toP()};function Aa(t,e){this.curve=t,this.type=e,this.precomputed=null}Nh.BasePoint=Aa;Aa.prototype.eq=function(){throw new Error("Not implemented")};Aa.prototype.validate=function(){return this.curve.validate(this)};Nh.prototype.decodePoint=function(e,r){e=sy.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$v(e[e.length-1]%2===0):e[0]===7&&$v(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Aa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Aa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Aa.prototype.encode=function(e,r){return sy.encode(this._encode(r),e)};Aa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Aa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Aa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Aa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Aa.prototype._getBeta=function(){return null};Aa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var OS={exports:{}};typeof Object.create=="function"?OS.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:OS.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var cA=OS.exports,Yie=Co,rn=fu,JT=cA,xg=aA,Zie=Yie.assert;function Na(t){xg.call(this,"short",t),this.a=new rn(t.a,16).toRed(this.red),this.b=new rn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}JT(Na,xg);var Qie=Na;Na.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new rn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new rn(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Zie(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new rn(a.a,16),b:new rn(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Na.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:rn.mont(e),n=new rn(2).toRed(r).redInvm(),i=n.redNeg(),s=new rn(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Na.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new rn(1),o=new rn(0),a=new rn(0),c=new rn(1),f,l,u,h,g,m,w,N=0,I,C;n.cmpn(0)!==0;){var M=i.div(n);I=i.sub(M.mul(n)),C=a.sub(M.mul(s));var k=c.sub(M.mul(o));if(!u&&I.cmp(r)<0)f=w.neg(),l=s,u=I.neg(),h=C;else if(u&&++N===2)break;w=I,i=n,n=I,a=s,s=C,c=o,o=k}g=I.neg(),m=C;var L=u.sqr().add(h.sqr()),$=g.sqr().add(m.sqr());return $.cmp(L)>=0&&(g=f,m=l),u.negative&&(u=u.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:h},{a:g,b:m}]};Na.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),f=s.mul(n.b),l=o.mul(i.b),u=e.sub(a).sub(c),h=f.add(l).neg();return{k1:u,k2:h}};Na.prototype.pointFromX=function(e,r){e=new rn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Na.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Na.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],f=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=c,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),u=0;u<o*2;u++)i[u]=null,s[u]=null;return l};function Mi(t,e,r,n){xg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new rn(e,16),this.y=new rn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}JT(Mi,xg.BasePoint);Na.prototype.point=function(e,r,n){return new Mi(this,e,r,n)};Na.prototype.pointFromJSON=function(e,r){return Mi.fromJSON(this,e,r)};Mi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Mi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Mi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Mi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Mi.prototype.isInfinity=function(){return this.inf};Mi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Mi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Mi.prototype.getX=function(){return this.x.fromRed()};Mi.prototype.getY=function(){return this.y.fromRed()};Mi.prototype.mul=function(e){return e=new rn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Mi.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Mi.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Mi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Mi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Mi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Zi(t,e,r,n){xg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new rn(0)):(this.x=new rn(e,16),this.y=new rn(r,16),this.z=new rn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}JT(Zi,xg.BasePoint);Na.prototype.jpoint=function(e,r,n){return new Zi(this,e,r,n)};Zi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Zi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Zi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),f=o.redSub(a);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),u=l.redMul(c),h=i.redMul(l),g=f.redSqr().redIAdd(u).redISub(h).redISub(h),m=f.redMul(h.redISub(g)).redISub(o.redMul(u)),w=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,m,w)};Zi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),l=f.redMul(a),u=n.redMul(f),h=c.redSqr().redIAdd(l).redISub(u).redISub(u),g=c.redMul(u.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(a);return this.curve.jpoint(h,g,m)};Zi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,f=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),h=l.redSqr(),g=h.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),w=o.redMul(h),N=m.redSqr().redISub(w.redAdd(w)),I=w.redISub(N),C=m.redMul(I);C=C.redIAdd(C).redISub(g);var M=l.redMul(c);r+1<e&&(f=f.redMul(g)),o=N,c=M,l=C}return this.curve.jpoint(o,l.redMul(s),c)};Zi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Zi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var w=u.redAdd(u).redIAdd(u),N=w.redSqr(),I=g.redIAdd(g);I=I.redIAdd(I),I=I.redIAdd(I),e=N.redISub(m).redISub(m),r=w.redMul(m.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Zi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(a).redISub(a);e=f;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var w=g.redIAdd(g);w=w.redIAdd(w);var N=w.redAdd(w);e=m.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var I=h.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=m.redMul(w.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};Zi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(a),u=c.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=c.redMul(h).redISub(g),w=n.redAdd(n).redMul(i);return this.curve.jpoint(u,m,w)};Zi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(f),u=r.redMul(l);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(c).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(l.redMul(f.redISub(l)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,m)};Zi.prototype.mul=function(e,r){return e=new rn(e,r),this.curve._wnafMul(this,e)};Zi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Zi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Zi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Zi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var pp=fu,EG=cA,fA=aA,ese=Co;function Ig(t){fA.call(this,"mont",t),this.a=new pp(t.a,16).toRed(this.red),this.b=new pp(t.b,16).toRed(this.red),this.i4=new pp(4).toRed(this.red).redInvm(),this.two=new pp(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}EG(Ig,fA);var tse=Ig;Ig.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Ui(t,e,r){fA.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new pp(e,16),this.z=new pp(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}EG(Ui,fA.BasePoint);Ig.prototype.decodePoint=function(e,r){return this.point(ese.toArray(e,r),1)};Ig.prototype.point=function(e,r){return new Ui(this,e,r)};Ig.prototype.pointFromJSON=function(e){return Ui.fromJSON(this,e)};Ui.prototype.precompute=function(){};Ui.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ui.fromJSON=function(e,r){return new Ui(e,r[0],r[1]||e.one)};Ui.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ui.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ui.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Ui.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ui.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),f=r.z.redMul(a.redAdd(c).redSqr()),l=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(f,l)};Ui.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Ui.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ui.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ui.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ui.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ui.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var rse=Co,Hl=fu,yG=cA,lA=aA,nse=rse.assert;function hl(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,lA.call(this,"edwards",t),this.a=new Hl(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Hl(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Hl(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),nse(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}yG(hl,lA);var ise=hl;hl.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};hl.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};hl.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};hl.prototype.pointFromX=function(e,r){e=new Hl(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};hl.prototype.pointFromY=function(e,r){e=new Hl(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};hl.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Fr(t,e,r,n,i){lA.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Hl(e,16),this.y=new Hl(r,16),this.z=n?new Hl(n,16):this.curve.one,this.t=i&&new Hl(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}yG(Fr,lA.BasePoint);hl.prototype.pointFromJSON=function(e){return Fr.fromJSON(this,e)};hl.prototype.point=function(e,r,n,i){return new Fr(this,e,r,n,i)};Fr.fromJSON=function(e,r){return new Fr(e,r[0],r[1],r[2])};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Fr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),f=s.redMul(a),l=o.redMul(c),u=s.redMul(c),h=a.redMul(o);return this.curve.point(f,l,h,u)};Fr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,f;if(this.curve.twisted){a=this.curve._mulA(r);var l=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),s=l.redMul(a.redSub(n)),o=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),f=l.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(f),s=l.redMul(a.redSub(n)),o=l.redMul(f))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),f=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(f),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(f);return this.curve.point(i,s,o)};Fr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Fr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),f=n.redAdd(r),l=o.redMul(a),u=c.redMul(f),h=o.redMul(f),g=a.redMul(c);return this.curve.point(l,u,g,h)};Fr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),l=r.redMul(a).redMul(f),u,h;return this.curve.twisted?(u=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),h=a.redMul(c)):(u=r.redMul(c).redMul(s.redSub(i)),h=this.curve._mulC(a).redMul(c)),this.curve.point(l,u,h)};Fr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Fr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Fr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Fr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Fr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Fr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Fr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Fr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Fr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Fr.prototype.toP=Fr.prototype.normalize;Fr.prototype.mixedAdd=Fr.prototype.add;(function(t){var e=t;e.base=aA,e.short=Qie,e.mont=tse,e.edwards=ise})(KT);var uA={},oy={},St={},sse=u0,ose=cA;St.inherits=ose;function ase(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function cse(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):ase(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}St.toArray=cse;function fse(t){for(var e="",r=0;r<t.length;r++)e+=vG(t[r].toString(16));return e}St.toHex=fse;function wG(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}St.htonl=wG;function lse(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=wG(i)),r+=_G(i.toString(16))}return r}St.toHex32=lse;function vG(t){return t.length===1?"0"+t:t}St.zero2=vG;function _G(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}St.zero8=_G;function use(t,e,r,n){var i=r-e;sse(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}St.join32=use;function hse(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}St.split32=hse;function dse(t,e){return t>>>e|t<<32-e}St.rotr32=dse;function pse(t,e){return t<<e|t>>>32-e}St.rotl32=pse;function gse(t,e){return t+e>>>0}St.sum32=gse;function mse(t,e,r){return t+e+r>>>0}St.sum32_3=mse;function bse(t,e,r,n){return t+e+r+n>>>0}St.sum32_4=bse;function Ese(t,e,r,n,i){return t+e+r+n+i>>>0}St.sum32_5=Ese;function yse(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}St.sum64=yse;function wse(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}St.sum64_hi=wse;function vse(t,e,r,n){var i=e+n;return i>>>0}St.sum64_lo=vse;function _se(t,e,r,n,i,s,o,a){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+s>>>0,c+=f<s?1:0,f=f+a>>>0,c+=f<a?1:0;var l=t+r+i+o+c;return l>>>0}St.sum64_4_hi=_se;function Ase(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}St.sum64_4_lo=Ase;function Nse(t,e,r,n,i,s,o,a,c,f){var l=0,u=e;u=u+n>>>0,l+=u<e?1:0,u=u+s>>>0,l+=u<s?1:0,u=u+a>>>0,l+=u<a?1:0,u=u+f>>>0,l+=u<f?1:0;var h=t+r+i+o+c+l;return h>>>0}St.sum64_5_hi=Nse;function xse(t,e,r,n,i,s,o,a,c,f){var l=e+n+s+a+f;return l>>>0}St.sum64_5_lo=xse;function Ise(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}St.rotr64_hi=Ise;function Sse(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}St.rotr64_lo=Sse;function Rse(t,e,r){return t>>>r}St.shr64_hi=Rse;function Tse(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}St.shr64_lo=Tse;var Sg={},iO=St,Cse=u0;function hA(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Sg.BlockHash=hA;hA.prototype.update=function(e,r){if(e=iO.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=iO.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};hA.prototype.digest=function(e){return this.update(this._pad()),Cse(this.pending===null),this._digest(e)};hA.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Rg={},dl={},Ose=St,Xf=Ose.rotr32;function Pse(t,e,r,n){if(t===0)return AG(e,r,n);if(t===1||t===3)return xG(e,r,n);if(t===2)return NG(e,r,n)}dl.ft_1=Pse;function AG(t,e,r){return t&e^~t&r}dl.ch32=AG;function NG(t,e,r){return t&e^t&r^e&r}dl.maj32=NG;function xG(t,e,r){return t^e^r}dl.p32=xG;function Use(t){return Xf(t,2)^Xf(t,13)^Xf(t,22)}dl.s0_256=Use;function Mse(t){return Xf(t,6)^Xf(t,11)^Xf(t,25)}dl.s1_256=Mse;function Dse(t){return Xf(t,7)^Xf(t,18)^t>>>3}dl.g0_256=Dse;function kse(t){return Xf(t,17)^Xf(t,19)^t>>>10}dl.g1_256=kse;var Kp=St,Lse=Sg,Fse=dl,ex=Kp.rotl32,Qg=Kp.sum32,$se=Kp.sum32_5,Bse=Fse.ft_1,IG=Lse.BlockHash,Gse=[1518500249,1859775393,2400959708,3395469782];function sl(){if(!(this instanceof sl))return new sl;IG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Kp.inherits(sl,IG);var jse=sl;sl.blockSize=512;sl.outSize=160;sl.hmacStrength=80;sl.padLength=64;sl.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=ex(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),u=$se(ex(s,5),Bse(l,o,a,c),f,n[i],Gse[l]);f=c,c=a,a=ex(o,30),o=s,s=u}this.h[0]=Qg(this.h[0],s),this.h[1]=Qg(this.h[1],o),this.h[2]=Qg(this.h[2],a),this.h[3]=Qg(this.h[3],c),this.h[4]=Qg(this.h[4],f)};sl.prototype._digest=function(e){return e==="hex"?Kp.toHex32(this.h,"big"):Kp.split32(this.h,"big")};var Jp=St,zse=Sg,Tg=dl,Wse=u0,ka=Jp.sum32,Hse=Jp.sum32_4,qse=Jp.sum32_5,Vse=Tg.ch32,Kse=Tg.maj32,Jse=Tg.s0_256,Xse=Tg.s1_256,Yse=Tg.g0_256,Zse=Tg.g1_256,SG=zse.BlockHash,Qse=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ol(){if(!(this instanceof ol))return new ol;SG.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Qse,this.W=new Array(64)}Jp.inherits(ol,SG);var RG=ol;ol.blockSize=512;ol.outSize=256;ol.hmacStrength=192;ol.padLength=64;ol.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Hse(Zse(n[i-2]),n[i-7],Yse(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],f=this.h[4],l=this.h[5],u=this.h[6],h=this.h[7];for(Wse(this.k.length===n.length),i=0;i<n.length;i++){var g=qse(h,Xse(f),Vse(f,l,u),this.k[i],n[i]),m=ka(Jse(s),Kse(s,o,a));h=u,u=l,l=f,f=ka(c,g),c=a,a=o,o=s,s=ka(g,m)}this.h[0]=ka(this.h[0],s),this.h[1]=ka(this.h[1],o),this.h[2]=ka(this.h[2],a),this.h[3]=ka(this.h[3],c),this.h[4]=ka(this.h[4],f),this.h[5]=ka(this.h[5],l),this.h[6]=ka(this.h[6],u),this.h[7]=ka(this.h[7],h)};ol.prototype._digest=function(e){return e==="hex"?Jp.toHex32(this.h,"big"):Jp.split32(this.h,"big")};var PS=St,TG=RG;function ru(){if(!(this instanceof ru))return new ru;TG.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}PS.inherits(ru,TG);var eoe=ru;ru.blockSize=512;ru.outSize=224;ru.hmacStrength=192;ru.padLength=64;ru.prototype._digest=function(e){return e==="hex"?PS.toHex32(this.h.slice(0,7),"big"):PS.split32(this.h.slice(0,7),"big")};var so=St,toe=Sg,roe=u0,Yf=so.rotr64_hi,Zf=so.rotr64_lo,CG=so.shr64_hi,OG=so.shr64_lo,vu=so.sum64,tx=so.sum64_hi,rx=so.sum64_lo,noe=so.sum64_4_hi,ioe=so.sum64_4_lo,soe=so.sum64_5_hi,ooe=so.sum64_5_lo,PG=toe.BlockHash,aoe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gf(){if(!(this instanceof gf))return new gf;PG.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=aoe,this.W=new Array(160)}so.inherits(gf,PG);var UG=gf;gf.blockSize=1024;gf.outSize=512;gf.hmacStrength=192;gf.padLength=128;gf.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=Eoe(n[i-4],n[i-3]),o=yoe(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],f=moe(n[i-30],n[i-29]),l=boe(n[i-30],n[i-29]),u=n[i-32],h=n[i-31];n[i]=noe(s,o,a,c,f,l,u,h),n[i+1]=ioe(s,o,a,c,f,l,u,h)}};gf.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],f=this.h[5],l=this.h[6],u=this.h[7],h=this.h[8],g=this.h[9],m=this.h[10],w=this.h[11],N=this.h[12],I=this.h[13],C=this.h[14],M=this.h[15];roe(this.k.length===n.length);for(var k=0;k<n.length;k+=2){var L=C,$=M,V=poe(h,g),P=goe(h,g),O=coe(h,g,m,w,N),F=foe(h,g,m,w,N,I),U=this.k[k],b=this.k[k+1],y=n[k],d=n[k+1],p=soe(L,$,V,P,O,F,U,b,y,d),E=ooe(L,$,V,P,O,F,U,b,y,d);L=hoe(i,s),$=doe(i,s),V=loe(i,s,o,a,c),P=uoe(i,s,o,a,c,f);var x=tx(L,$,V,P),R=rx(L,$,V,P);C=N,M=I,N=m,I=w,m=h,w=g,h=tx(l,u,p,E),g=rx(u,u,p,E),l=c,u=f,c=o,f=a,o=i,a=s,i=tx(p,E,x,R),s=rx(p,E,x,R)}vu(this.h,0,i,s),vu(this.h,2,o,a),vu(this.h,4,c,f),vu(this.h,6,l,u),vu(this.h,8,h,g),vu(this.h,10,m,w),vu(this.h,12,N,I),vu(this.h,14,C,M)};gf.prototype._digest=function(e){return e==="hex"?so.toHex32(this.h,"big"):so.split32(this.h,"big")};function coe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function foe(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function loe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function uoe(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function hoe(t,e){var r=Yf(t,e,28),n=Yf(e,t,2),i=Yf(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function doe(t,e){var r=Zf(t,e,28),n=Zf(e,t,2),i=Zf(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function poe(t,e){var r=Yf(t,e,14),n=Yf(t,e,18),i=Yf(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function goe(t,e){var r=Zf(t,e,14),n=Zf(t,e,18),i=Zf(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function moe(t,e){var r=Yf(t,e,1),n=Yf(t,e,8),i=CG(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function boe(t,e){var r=Zf(t,e,1),n=Zf(t,e,8),i=OG(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Eoe(t,e){var r=Yf(t,e,19),n=Yf(e,t,29),i=CG(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function yoe(t,e){var r=Zf(t,e,19),n=Zf(e,t,29),i=OG(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var US=St,MG=UG;function nu(){if(!(this instanceof nu))return new nu;MG.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}US.inherits(nu,MG);var woe=nu;nu.blockSize=1024;nu.outSize=384;nu.hmacStrength=192;nu.padLength=128;nu.prototype._digest=function(e){return e==="hex"?US.toHex32(this.h.slice(0,12),"big"):US.split32(this.h.slice(0,12),"big")};Rg.sha1=jse;Rg.sha224=eoe;Rg.sha256=RG;Rg.sha384=woe;Rg.sha512=UG;var DG={},Gd=St,voe=Sg,Hy=Gd.rotl32,sO=Gd.sum32,em=Gd.sum32_3,oO=Gd.sum32_4,kG=voe.BlockHash;function al(){if(!(this instanceof al))return new al;kG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Gd.inherits(al,kG);DG.ripemd160=al;al.blockSize=512;al.outSize=160;al.hmacStrength=192;al.padLength=64;al.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,f=i,l=s,u=o,h=a,g=0;g<80;g++){var m=sO(Hy(oO(n,aO(g,i,s,o),e[Noe[g]+r],_oe(g)),Ioe[g]),a);n=a,a=o,o=Hy(s,10),s=i,i=m,m=sO(Hy(oO(c,aO(79-g,f,l,u),e[xoe[g]+r],Aoe(g)),Soe[g]),h),c=h,h=u,u=Hy(l,10),l=f,f=m}m=em(this.h[1],s,u),this.h[1]=em(this.h[2],o,h),this.h[2]=em(this.h[3],a,c),this.h[3]=em(this.h[4],n,f),this.h[4]=em(this.h[0],i,l),this.h[0]=m};al.prototype._digest=function(e){return e==="hex"?Gd.toHex32(this.h,"little"):Gd.split32(this.h,"little")};function aO(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function _oe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Aoe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Noe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],xoe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ioe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Soe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Roe=St,Toe=u0;function Xp(t,e,r){if(!(this instanceof Xp))return new Xp(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Roe.toArray(e,r))}var Coe=Xp;Xp.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Toe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Xp.prototype.update=function(e,r){return this.inner.update(e,r),this};Xp.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=St,e.common=Sg,e.sha=Rg,e.ripemd=DG,e.hmac=Coe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(oy);const We=va(oy);var nx,cO;function Ooe(){return cO||(cO=1,nx={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),nx}(function(t){var e=t,r=oy,n=KT,i=Co,s=i.assert;function o(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(f,l){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var u=new o(l);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:u}),u}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Ooe()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(uA);var Poe=oy,Sd=qT,LG=u0;function ah(t){if(!(this instanceof ah))return new ah(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Sd.toArray(t.entropy,t.entropyEnc||"hex"),r=Sd.toArray(t.nonce,t.nonceEnc||"hex"),n=Sd.toArray(t.pers,t.persEnc||"hex");LG(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Uoe=ah;ah.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ah.prototype._hmac=function(){return new Poe.hmac(this.hash,this.K)};ah.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ah.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Sd.toArray(e,r),n=Sd.toArray(n,i),LG(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ah.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Sd.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Sd.encode(o,r)};var Moe=fu,Doe=Co,MS=Doe.assert;function us(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var koe=us;us.fromPublic=function(e,r,n){return r instanceof us?r:new us(e,{pub:r,pubEnc:n})};us.fromPrivate=function(e,r,n){return r instanceof us?r:new us(e,{priv:r,privEnc:n})};us.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};us.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};us.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};us.prototype._importPrivate=function(e,r){this.priv=new Moe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};us.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?MS(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&MS(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};us.prototype.derive=function(e){return e.validate()||MS(e.validate(),"public point not validated"),e.mul(this.priv).getX()};us.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};us.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};us.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Bv=fu,XT=Co,Loe=XT.assert;function dA(t,e){if(t instanceof dA)return t;this._importDER(t,e)||(Loe(t.r&&t.s,"Signature without r or s"),this.r=new Bv(t.r,16),this.s=new Bv(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Foe=dA;function $oe(){this.place=0}function ix(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function fO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}dA.prototype._importDER=function(e,r){e=XT.toArray(e,r);var n=new $oe;if(e[n.place++]!==48)return!1;var i=ix(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=ix(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=ix(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Bv(o),this.s=new Bv(c),this.recoveryParam=null,!0};function sx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}dA.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=fO(r),n=fO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];sx(i,r.length),i=i.concat(r),i.push(2),sx(i,n.length);var s=i.concat(n),o=[48];return sx(o,s.length),o=o.concat(s),XT.encode(o,e)};var Xc=fu,FG=Uoe,Boe=Co,ox=uA,Goe=bG,dd=Boe.assert,YT=koe,pA=Foe;function ma(t){if(!(this instanceof ma))return new ma(t);typeof t=="string"&&(dd(Object.prototype.hasOwnProperty.call(ox,t),"Unknown curve "+t),t=ox[t]),t instanceof ox.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var joe=ma;ma.prototype.keyPair=function(e){return new YT(this,e)};ma.prototype.keyFromPrivate=function(e,r){return YT.fromPrivate(this,e,r)};ma.prototype.keyFromPublic=function(e,r){return YT.fromPublic(this,e,r)};ma.prototype.genKeyPair=function(e){e||(e={});for(var r=new FG({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Goe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Xc(2));;){var s=new Xc(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ma.prototype._truncateToN=function(e,r,n){var i;if(Xc.isBN(e)||typeof e=="number")e=new Xc(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Xc(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Xc(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ma.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Xc.isBN(e)){dd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),dd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)dd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),dd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);dd(new Xc(c).eq(e),"Can not sign message");for(var f=new FG({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new Xc(1)),u=0;;u++){var h=i.k?i.k(u):new Xc(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var m=g.getX(),w=m.umod(this.n);if(w.cmpn(0)!==0){var N=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var I=(g.getY().isOdd()?1:0)|(m.cmp(w)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),I^=1),new pA({r:w,s:N,recoveryParam:I})}}}}}};ma.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new pA(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),f=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};ma.prototype.recoverPubKey=function(t,e,r,n){dd((3&r)===r,"The recovery param is more than two bits"),e=new pA(e,n);var i=this.n,s=new Xc(t),o=e.r,a=e.s,c=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),u=i.sub(s).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(u,o,h)};ma.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new pA(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ay=Co,$G=ay.assert,lO=ay.parseBytes,Cg=ay.cachedProperty;function Oi(t,e){this.eddsa=t,this._secret=lO(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=lO(e.pub)}Oi.fromPublic=function(e,r){return r instanceof Oi?r:new Oi(e,{pub:r})};Oi.fromSecret=function(e,r){return r instanceof Oi?r:new Oi(e,{secret:r})};Oi.prototype.secret=function(){return this._secret};Cg(Oi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Cg(Oi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Cg(Oi,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Cg(Oi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Cg(Oi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Cg(Oi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Oi.prototype.sign=function(e){return $G(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Oi.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Oi.prototype.getSecret=function(e){return $G(this._secret,"KeyPair is public only"),ay.encode(this.secret(),e)};Oi.prototype.getPublic=function(e){return ay.encode(this.pubBytes(),e)};var zoe=Oi,Woe=fu,gA=Co,uO=gA.assert,mA=gA.cachedProperty,Hoe=gA.parseBytes;function h0(t,e){this.eddsa=t,typeof e!="object"&&(e=Hoe(e)),Array.isArray(e)&&(uO(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),uO(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Woe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}mA(h0,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});mA(h0,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});mA(h0,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});mA(h0,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});h0.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};h0.prototype.toHex=function(){return gA.encode(this.toBytes(),"hex").toUpperCase()};var qoe=h0,Voe=oy,Koe=uA,Yp=Co,Joe=Yp.assert,BG=Yp.parseBytes,GG=zoe,hO=qoe;function oo(t){if(Joe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof oo))return new oo(t);t=Koe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Voe.sha512}var Xoe=oo;oo.prototype.sign=function(e,r){e=BG(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};oo.prototype.verify=function(e,r,n){if(e=BG(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};oo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Yp.intFromLE(e.digest()).umod(this.curve.n)};oo.prototype.keyFromPublic=function(e){return GG.fromPublic(this,e)};oo.prototype.keyFromSecret=function(e){return GG.fromSecret(this,e)};oo.prototype.makeSignature=function(e){return e instanceof hO?e:new hO(this,e)};oo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};oo.prototype.decodePoint=function(e){e=Yp.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Yp.intFromLE(n);return this.curve.pointFromY(s,i)};oo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};oo.prototype.decodeInt=function(e){return Yp.intFromLE(e)};oo.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=Vie.version,e.utils=Co,e.rand=bG,e.curve=KT,e.curves=uA,e.ec=joe,e.eddsa=Xoe})(gG);const Yoe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},Zoe=":";function Ip(t){const[e,r]=t.split(Zoe);return{namespace:e,reference:r}}function jG(t,e){return t.includes(":")?[t]:e.chains||[]}const Qoe="ReactNative",So={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},eae="js";function Gv(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function xh(){return!ty()&&!!GT()&&navigator.product===Qoe}function tae(){return xh()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function rae(){return xh()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function cy(){return!Gv()&&!!GT()&&!!ty()}function fy(){return xh()?So.reactNative:Gv()?So.node:cy()?So.browser:So.unknown}function dO(){var t;try{return xh()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function nae(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function zG(){return KB()||{name:"",description:"",url:"",icons:[""]}}function iae(){if(fy()===So.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=_re();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function sae(){var t;const e=fy();return e===So.browser?[e,((t=VB())==null?void 0:t.host)||"unknown"].join(":"):e}function WG(t,e,r){const n=iae(),i=sae();return[[t,e].join("-"),[eae,r].join("-"),n,i].join("/")}function oae({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const f=r.split("?"),l=WG(t,e,n),u={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},h=nae(f[1]||"",u);return f[0]+"?"+h}function wd(t,e){return t.filter(r=>e.includes(r)).length===t.length}function DS(t){return Object.fromEntries(t.entries())}function kS(t){return new Map(Object.entries(t))}function fd(t=ve.FIVE_MINUTES,e){const r=ve.toMiliseconds(t||ve.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const f=new Error(e);o=Promise.reject(f),c(f)},r),n=a,i=c})}}function Hu(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function HG(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function aae(t){return HG("topic",t)}function cae(t){return HG("id",t)}function qG(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function pi(t,e){return ve.fromMiliseconds((e||Date.now())+ve.toMiliseconds(t))}function Fu(t){return Date.now()>=ve.toMiliseconds(t)}function Vt(t,e){return`${t}${e?`:${e}`:""}`}function U1(t=[],e=[]){return[...new Set([...t,...e])]}async function fae({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=lae(s,t,e),a=fy();if(a===So.browser){if(!((n=ty())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}uae(o)}else a===So.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function lae(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${gae(n,!0)}`}else i=`${i}/wc?${n}`;return i}function uae(t){let e="_self";pae()?e="_top":(dae()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function hae(t,e){let r="";try{if(cy()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function pO(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function gO(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function ZT(){return typeof process<"u"&&{}.IS_VITEST==="true"}function dae(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function pae(){try{return window.self!==window.top}catch{return!1}}function gae(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function VG(t){return Buffer.from(t,"base64").toString("utf-8")}function mae(t){return new Promise(e=>setTimeout(e,t))}function Bb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function bA(t,...e){if(!bae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function QT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bb(t.outputLen),Bb(t.blockLen)}function Zp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KG(t,e){bA(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const qy=BigInt(2**32-1),mO=BigInt(32);function Eae(t,e=!1){return e?{h:Number(t&qy),l:Number(t>>mO&qy)}:{h:Number(t>>mO&qy)|0,l:Number(t&qy)|0}}function yae(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Eae(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const wae=(t,e,r)=>t<<r|e>>>32-r,vae=(t,e,r)=>e<<r|t>>>32-r,_ae=(t,e,r)=>e<<r-32|t>>>64-r,Aae=(t,e,r)=>t<<r-32|e>>>64-r,S0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Nae(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ax(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vf(t,e){return t<<32-e|t>>>e}const bO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function xae(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function EO(t){for(let e=0;e<t.length;e++)t[e]=xae(t[e])}function Iae(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Qp(t){return typeof t=="string"&&(t=Iae(t)),bA(t),t}let eC=class{clone(){return this._cloneInto()}};function JG(t){const e=n=>t().update(Qp(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ly(t=32){if(S0&&typeof S0.getRandomValues=="function")return S0.getRandomValues(new Uint8Array(t));if(S0&&typeof S0.randomBytes=="function")return S0.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const XG=[],YG=[],ZG=[],Sae=BigInt(0),tm=BigInt(1),Rae=BigInt(2),Tae=BigInt(7),Cae=BigInt(256),Oae=BigInt(113);for(let t=0,e=tm,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],XG.push(2*(5*n+r)),YG.push((t+1)*(t+2)/2%64);let i=Sae;for(let s=0;s<7;s++)e=(e<<tm^(e>>Tae)*Oae)%Cae,e&Rae&&(i^=tm<<(tm<<BigInt(s))-tm);ZG.push(i)}const[Pae,Uae]=yae(ZG,!0),yO=(t,e,r)=>r>32?_ae(t,e,r):wae(t,e,r),wO=(t,e,r)=>r>32?Aae(t,e,r):vae(t,e,r);function Mae(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,f=r[c],l=r[c+1],u=yO(f,l,1)^r[a],h=wO(f,l,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=u,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=YG[o],c=yO(i,s,a),f=wO(i,s,a),l=XG[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Pae[n],t[1]^=Uae[n]}r.fill(0)}let Dae=class QG extends eC{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Bb(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Nae(this.state)}keccak(){bO||EO(this.state32),Mae(this.state32,this.rounds),bO||EO(this.state32),this.posOut=0,this.pos=0}update(e){Zp(this);const{blockLen:r,state:n}=this;e=Qp(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Zp(this,!1),bA(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Bb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KG(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new QG(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const kae=(t,e,r)=>JG(()=>new Dae(e,t,r)),Lae=kae(1,136,256/8),Fae="https://rpc.walletconnect.org/v1";function ej(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Lae(r)).toString("hex")}async function $ae(t,e,r,n,i,s){switch(r.t){case"eip191":return await Bae(t,e,r.s);case"eip1271":return await Gae(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function Bae(t,e,r){return(await Mne({hash:ej(e),signature:r})).toLowerCase()===t.toLowerCase()}async function Gae(t,e,r,n,i,s){const o=Ip(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",f="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),u=ej(e).substring(2),h=a+u+c+f+l,g=await fetch(`${s||Fae}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:jae(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:m}=await g.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function jae(){return Date.now()+Math.floor(Math.random()*1e3)}function zae(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return fG.encode(s)}var Wae=Object.defineProperty,Hae=Object.defineProperties,qae=Object.getOwnPropertyDescriptors,vO=Object.getOwnPropertySymbols,Vae=Object.prototype.hasOwnProperty,Kae=Object.prototype.propertyIsEnumerable,_O=(t,e,r)=>e in t?Wae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jae=(t,e)=>{for(var r in e||(e={}))Vae.call(e,r)&&_O(t,r,e[r]);if(vO)for(var r of vO(e))Kae.call(e,r)&&_O(t,r,e[r]);return t},Xae=(t,e)=>Hae(t,qae(e));const Yae="did:pkh:",tC=t=>t==null?void 0:t.split(":"),Zae=t=>{const e=t&&tC(t);if(e)return t.includes(Yae)?e[3]:e[1]},LS=t=>{const e=t&&tC(t);if(e)return e[2]+":"+e[3]},jv=t=>{const e=t&&tC(t);if(e)return e.pop()};async function AO(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=tj(i,i.iss),o=jv(i.iss);return await $ae(o,s,n,LS(i.iss),r)}const tj=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=jv(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Zae(e)}`,c=`Nonce: ${t.nonce}`,f=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,u=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,m=M1(t.resources);if(m){const w=Gb(m);i=ace(i,w)}return[r,n,"",i,"",s,o,a,c,f,l,u,h,g].filter(w=>w!=null).join(`
`)};function Qae(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function ece(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function jd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function tce(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:rce(e,r,n)}}}function rce(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function rj(t){return jd(t),`urn:recap:${Qae(t).replace(/=/g,"")}`}function Gb(t){const e=ece(t.replace("urn:recap:",""));return jd(e),e}function nce(t,e,r){const n=tce(t,e,r);return rj(n)}function ice(t){return t&&t.includes("urn:recap:")}function sce(t,e){const r=Gb(t),n=Gb(e),i=oce(r,n);return rj(i)}function oce(t,e){jd(t),jd(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,f;n.att[i]=Xae(Jae({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((f=e.att[i])==null?void 0:f[a])})})}),n}function ace(t="",e){jd(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(u=>({ability:u.split("/")[0],action:u.split("/")[1]}));c.sort((u,h)=>u.action.localeCompare(h.action));const f={};c.forEach(u=>{f[u.ability]||(f[u.ability]=[]),f[u.ability].push(u.action)});const l=Object.keys(f).map(u=>(i++,`(${i}) '${u}': '${f[u].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function NO(t){var e;const r=Gb(t);jd(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function xO(t){const e=Gb(t);jd(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function M1(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return ice(e)?e:void 0}function cx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yo(t,...e){if(!nj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function IO(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cce(t,e){yo(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function SO(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Xu=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),fce=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),lce=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lce)throw new Error("Non little-endian hardware is not supported");function uce(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function FS(t){if(typeof t=="string")t=uce(t);else if(nj(t))t=$S(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function hce(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function dce(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const pce=(t,e)=>{function r(n,...i){if(yo(n),t.nonceLength!==void 0){const f=i[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?yo(f):yo(f,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&yo(i[1]);const o=e(n,...i),a=(f,l)=>{if(l!==void 0){if(f!==2)throw new Error("cipher output not supported");yo(l)}};let c=!1;return{encrypt(f,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,yo(f),a(o.encrypt.length,l),o.encrypt(f,l)},decrypt(f,l){if(yo(f),s&&f.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,l),o.decrypt(f,l)}}}return Object.assign(r,t),r};function RO(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!gce(e))throw new Error("invalid output, must be aligned");return e}function TO(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,f=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+f,a,n)}function gce(t){return t.byteOffset%4===0}function $S(t){return Uint8Array.from(t)}function eg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const ij=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),mce=ij("expand 16-byte k"),bce=ij("expand 32-byte k"),Ece=Xu(mce),yce=Xu(bce);function Ft(t,e){return t<<e|t>>>32-e}function BS(t){return t.byteOffset%4===0}const Vy=64,wce=16,sj=2**32-1,CO=new Uint32Array;function vce(t,e,r,n,i,s,o,a){const c=i.length,f=new Uint8Array(Vy),l=Xu(f),u=BS(i)&&BS(s),h=u?Xu(i):CO,g=u?Xu(s):CO;for(let m=0;m<c;o++){if(t(e,r,n,l,o,a),o>=sj)throw new Error("arx: counter overflow");const w=Math.min(Vy,c-m);if(u&&w===Vy){const N=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let I=0,C;I<wce;I++)C=N+I,g[C]=h[C]^l[I];m+=Vy;continue}for(let N=0,I;N<w;N++)I=m+N,s[I]=i[I]^f[N];m+=w}}function _ce(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=hce({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return cx(i),cx(o),SO(s),SO(r),(a,c,f,l,u=0)=>{yo(a),yo(c),yo(f);const h=f.length;if(l===void 0&&(l=new Uint8Array(h)),yo(l),cx(u),u<0||u>=sj)throw new Error("arx: counter overflow");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const g=[];let m=a.length,w,N;if(m===32)g.push(w=$S(a)),N=yce;else if(m===16&&r)w=new Uint8Array(32),w.set(a),w.set(a,16),N=Ece,g.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);BS(c)||g.push(c=$S(c));const I=Xu(w);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(N,I,Xu(c.subarray(0,16)),I),c=c.subarray(16)}const C=16-i;if(C!==c.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const k=new Uint8Array(12);k.set(c,s?0:12-c.length),c=k,g.push(c)}const M=Xu(c);return vce(t,N,I,M,f,l,u,o),eg(...g),l}}const $i=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Ace=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=FS(e),yo(e,32);const r=$i(e,0),n=$i(e,2),i=$i(e,4),s=$i(e,6),o=$i(e,8),a=$i(e,10),c=$i(e,12),f=$i(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let l=0;l<8;l++)this.pad[l]=$i(e,16+2*l)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],f=o[2],l=o[3],u=o[4],h=o[5],g=o[6],m=o[7],w=o[8],N=o[9],I=$i(e,r+0),C=$i(e,r+2),M=$i(e,r+4),k=$i(e,r+6),L=$i(e,r+8),$=$i(e,r+10),V=$i(e,r+12),P=$i(e,r+14);let O=s[0]+(I&8191),F=s[1]+((I>>>13|C<<3)&8191),U=s[2]+((C>>>10|M<<6)&8191),b=s[3]+((M>>>7|k<<9)&8191),y=s[4]+((k>>>4|L<<12)&8191),d=s[5]+(L>>>1&8191),p=s[6]+((L>>>14|$<<2)&8191),E=s[7]+(($>>>11|V<<5)&8191),x=s[8]+((V>>>8|P<<8)&8191),R=s[9]+(P>>>5|i),S=0,v=S+O*a+F*(5*N)+U*(5*w)+b*(5*m)+y*(5*g);S=v>>>13,v&=8191,v+=d*(5*h)+p*(5*u)+E*(5*l)+x*(5*f)+R*(5*c),S+=v>>>13,v&=8191;let A=S+O*c+F*a+U*(5*N)+b*(5*w)+y*(5*m);S=A>>>13,A&=8191,A+=d*(5*g)+p*(5*h)+E*(5*u)+x*(5*l)+R*(5*f),S+=A>>>13,A&=8191;let _=S+O*f+F*c+U*a+b*(5*N)+y*(5*w);S=_>>>13,_&=8191,_+=d*(5*m)+p*(5*g)+E*(5*h)+x*(5*u)+R*(5*l),S+=_>>>13,_&=8191;let D=S+O*l+F*f+U*c+b*a+y*(5*N);S=D>>>13,D&=8191,D+=d*(5*w)+p*(5*m)+E*(5*g)+x*(5*h)+R*(5*u),S+=D>>>13,D&=8191;let G=S+O*u+F*l+U*f+b*c+y*a;S=G>>>13,G&=8191,G+=d*(5*N)+p*(5*w)+E*(5*m)+x*(5*g)+R*(5*h),S+=G>>>13,G&=8191;let T=S+O*h+F*u+U*l+b*f+y*c;S=T>>>13,T&=8191,T+=d*a+p*(5*N)+E*(5*w)+x*(5*m)+R*(5*g),S+=T>>>13,T&=8191;let z=S+O*g+F*h+U*u+b*l+y*f;S=z>>>13,z&=8191,z+=d*c+p*a+E*(5*N)+x*(5*w)+R*(5*m),S+=z>>>13,z&=8191;let j=S+O*m+F*g+U*h+b*u+y*l;S=j>>>13,j&=8191,j+=d*f+p*c+E*a+x*(5*N)+R*(5*w),S+=j>>>13,j&=8191;let X=S+O*w+F*m+U*g+b*h+y*u;S=X>>>13,X&=8191,X+=d*l+p*f+E*c+x*a+R*(5*N),S+=X>>>13,X&=8191;let Y=S+O*N+F*w+U*m+b*g+y*h;S=Y>>>13,Y&=8191,Y+=d*u+p*l+E*f+x*c+R*a,S+=Y>>>13,Y&=8191,S=(S<<2)+S|0,S=S+v|0,v=S&8191,S=S>>>13,A+=S,s[0]=v,s[1]=A,s[2]=_,s[3]=D,s[4]=G,s[5]=T,s[6]=z,s[7]=j,s[8]=X,s[9]=Y}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;eg(n)}update(e){IO(this);const{buffer:r,blockLen:n}=this;e=FS(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){eg(this.h,this.r,this.buffer,this.pad)}digestInto(e){IO(this),cce(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function Nce(t){const e=(n,i)=>t(i).update(FS(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const xce=Nce(t=>new Ace(t));function Ice(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],f=t[3],l=e[0],u=e[1],h=e[2],g=e[3],m=e[4],w=e[5],N=e[6],I=e[7],C=i,M=r[0],k=r[1],L=r[2],$=o,V=a,P=c,O=f,F=l,U=u,b=h,y=g,d=m,p=w,E=N,x=I,R=C,S=M,v=k,A=L;for(let D=0;D<s;D+=2)$=$+F|0,R=Ft(R^$,16),d=d+R|0,F=Ft(F^d,12),$=$+F|0,R=Ft(R^$,8),d=d+R|0,F=Ft(F^d,7),V=V+U|0,S=Ft(S^V,16),p=p+S|0,U=Ft(U^p,12),V=V+U|0,S=Ft(S^V,8),p=p+S|0,U=Ft(U^p,7),P=P+b|0,v=Ft(v^P,16),E=E+v|0,b=Ft(b^E,12),P=P+b|0,v=Ft(v^P,8),E=E+v|0,b=Ft(b^E,7),O=O+y|0,A=Ft(A^O,16),x=x+A|0,y=Ft(y^x,12),O=O+y|0,A=Ft(A^O,8),x=x+A|0,y=Ft(y^x,7),$=$+U|0,A=Ft(A^$,16),E=E+A|0,U=Ft(U^E,12),$=$+U|0,A=Ft(A^$,8),E=E+A|0,U=Ft(U^E,7),V=V+b|0,R=Ft(R^V,16),x=x+R|0,b=Ft(b^x,12),V=V+b|0,R=Ft(R^V,8),x=x+R|0,b=Ft(b^x,7),P=P+y|0,S=Ft(S^P,16),d=d+S|0,y=Ft(y^d,12),P=P+y|0,S=Ft(S^P,8),d=d+S|0,y=Ft(y^d,7),O=O+F|0,v=Ft(v^O,16),p=p+v|0,F=Ft(F^p,12),O=O+F|0,v=Ft(v^O,8),p=p+v|0,F=Ft(F^p,7);let _=0;n[_++]=o+$|0,n[_++]=a+V|0,n[_++]=c+P|0,n[_++]=f+O|0,n[_++]=l+F|0,n[_++]=u+U|0,n[_++]=h+b|0,n[_++]=g+y|0,n[_++]=m+d|0,n[_++]=w+p|0,n[_++]=N+E|0,n[_++]=I+x|0,n[_++]=C+R|0,n[_++]=M+S|0,n[_++]=k+v|0,n[_++]=L+A|0}const Sce=_ce(Ice,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Rce=new Uint8Array(16),OO=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(Rce.subarray(r))},Tce=new Uint8Array(32);function PO(t,e,r,n,i){const s=t(e,r,Tce),o=xce.create(s);i&&OO(o,i),OO(o,n);const a=new Uint8Array(16),c=fce(a);TO(c,0,BigInt(i?i.length:0),!0),TO(c,8,BigInt(n.length),!0),o.update(a);const f=o.digest();return eg(s,a),f}const Cce=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=RO(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=PO(t,e,r,a,n);return s.set(c,o),eg(c),s},decrypt(i,s){s=RO(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=PO(t,e,r,o,n);if(!dce(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),eg(c),s}}),oj=pce({blockSize:64,nonceLength:12,tagLength:16},Cce(Sce));let aj=class extends eC{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,QT(e);const n=Qp(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Zp(this),this.iHash.update(e),this}digestInto(e){Zp(this),bA(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const rC=(t,e,r)=>new aj(t,e).update(r).digest();rC.create=(t,e)=>new aj(t,e);function Oce(t,e,r){return QT(t),r===void 0&&(r=new Uint8Array(t.outputLen)),rC(t,Qp(r),Qp(e))}const fx=new Uint8Array([0]),UO=new Uint8Array;function Pce(t,e,r,n=32){if(QT(t),Bb(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/t.outputLen);r===void 0&&(r=UO);const s=new Uint8Array(i*t.outputLen),o=rC.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let f=0;f<i;f++)fx[0]=f+1,a.update(f===0?UO:c).update(r).update(fx).digestInto(c),s.set(c,t.outputLen*f),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),fx.fill(0),s.slice(0,n)}const Uce=(t,e,r,n,i)=>Pce(t,Oce(t,e,r),n,i);function Mce(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,f=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+f,a,n)}function Dce(t,e,r){return t&e^~t&r}function kce(t,e,r){return t&e^t&r^e&r}class Lce extends eC{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ax(this.buffer)}update(e){Zp(this);const{view:r,buffer:n,blockLen:i}=this;e=Qp(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ax(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zp(this),KG(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let u=o;u<i;u++)r[u]=0;Mce(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=ax(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<f;u++)a.setUint32(4*u,l[u],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const Fce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Au=new Uint32Array(64);let $ce=class extends Lce{constructor(){super(64,32,8,!1),this.A=_u[0]|0,this.B=_u[1]|0,this.C=_u[2]|0,this.D=_u[3]|0,this.E=_u[4]|0,this.F=_u[5]|0,this.G=_u[6]|0,this.H=_u[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let u=0;u<16;u++,r+=4)Au[u]=e.getUint32(r,!1);for(let u=16;u<64;u++){const h=Au[u-15],g=Au[u-2],m=vf(h,7)^vf(h,18)^h>>>3,w=vf(g,17)^vf(g,19)^g>>>10;Au[u]=w+Au[u-7]+m+Au[u-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:f,H:l}=this;for(let u=0;u<64;u++){const h=vf(a,6)^vf(a,11)^vf(a,25),g=l+h+Dce(a,c,f)+Fce[u]+Au[u]|0,m=(vf(n,2)^vf(n,13)^vf(n,22))+kce(n,i,s)|0;l=f,f=c,c=a,a=o+g|0,o=s,s=i,i=n,n=g+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,f,l)}roundClean(){Au.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const EA=JG(()=>new $ce);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cj=BigInt(0);function nC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fj(t){if(!nC(t))throw new Error("Uint8Array expected")}const Bce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gce(t){fj(t);let e="";for(let r=0;r<t.length;r++)e+=Bce[t[r]];return e}function jce(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?cj:BigInt("0x"+t)}const wl={_0:48,_9:57,A:65,F:70,a:97,f:102};function MO(t){if(t>=wl._0&&t<=wl._9)return t-wl._0;if(t>=wl.A&&t<=wl.F)return t-(wl.A-10);if(t>=wl.a&&t<=wl.f)return t-(wl.a-10)}function lj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=MO(t.charCodeAt(s)),a=MO(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function DO(t){return fj(t),jce(Gce(Uint8Array.from(t).reverse()))}function zce(t,e){return lj(t.toString(16).padStart(e*2,"0"))}function Wce(t,e){return zce(t,e).reverse()}function kO(t,e,r){let n;if(typeof e=="string")try{n=lj(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(nC(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const lx=t=>typeof t=="bigint"&&cj<=t;function Hce(t,e,r){return lx(t)&&lx(e)&&lx(r)&&e<=t&&t<r}function LO(t,e,r,n){if(!Hce(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}const qce={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||nC(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Vce(t,e,r={}){const n=(i,s,o)=>{const a=qce[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const gp=BigInt(0),Ky=BigInt(1);function uj(t,e){const r=t%e;return r>=gp?r:e+r}function Kce(t,e,r){if(e<gp)throw new Error("invalid exponent, negatives unsupported");if(r<=gp)throw new Error("invalid modulus");if(r===Ky)return gp;let n=Ky;for(;e>gp;)e&Ky&&(n=n*t%r),t=t*t%r,e>>=Ky;return n}function za(t,e,r){let n=t;for(;e-- >gp;)n*=n,n%=r;return n}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const R0=BigInt(0),ux=BigInt(1);function Jce(t){return Vce(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function Xce(t){const e=Jce(t),{P:r}=e,n=C=>uj(C,r),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(C=>C),c=e.powPminus2||(C=>Kce(C,r-BigInt(2),r));function f(C,M,k){const L=n(C*(M-k));return M=n(M-L),k=n(k+L),[M,k]}const l=(e.a-BigInt(2))/BigInt(4);function u(C,M){LO("u",C,R0,r),LO("scalar",M,R0,r);const k=M,L=C;let $=ux,V=R0,P=C,O=ux,F=R0,U;for(let y=BigInt(i-1);y>=R0;y--){const d=k>>y&ux;F^=d,U=f(F,$,P),$=U[0],P=U[1],U=f(F,V,O),V=U[0],O=U[1],F=d;const p=$+V,E=n(p*p),x=$-V,R=n(x*x),S=E-R,v=P+O,A=P-O,_=n(A*p),D=n(v*x),G=_+D,T=_-D;P=n(G*G),O=n(L*n(T*T)),$=n(E*R),V=n(S*(E+n(l*S)))}U=f(F,$,P),$=U[0],P=U[1],U=f(F,V,O),V=U[0],O=U[1];const b=c(V);return n($*b)}function h(C){return Wce(n(C),s)}function g(C){const M=kO("u coordinate",C,s);return o===32&&(M[31]&=127),DO(M)}function m(C){const M=kO("scalar",C),k=M.length;if(k!==s&&k!==o){let L=""+s+" or "+o;throw new Error("invalid scalar, expected "+L+" bytes, got "+k)}return DO(a(M))}function w(C,M){const k=g(M),L=m(C),$=u(k,L);if($===R0)throw new Error("invalid private or public key received");return h($)}const N=h(e.Gu);function I(C){return w(C,N)}return{scalarMult:w,scalarMultBase:I,getSharedSecret:(C,M)=>w(C,M),getPublicKey:C=>I(C),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:N}}const GS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Yce=BigInt(1),FO=BigInt(2),Zce=BigInt(3),Qce=BigInt(5);BigInt(8);function efe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=GS,o=t*t%s*t%s,a=za(o,FO,s)*o%s,c=za(a,Yce,s)*t%s,f=za(c,Qce,s)*c%s,l=za(f,e,s)*f%s,u=za(l,r,s)*l%s,h=za(u,n,s)*u%s,g=za(h,i,s)*h%s,m=za(g,i,s)*h%s,w=za(m,e,s)*f%s;return{pow_p_5_8:za(w,FO,s)*t%s,b2:o}}function tfe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const jS=Xce({P:GS,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=GS,{pow_p_5_8:r,b2:n}=efe(t);return uj(za(r,Zce,e)*n,e)},adjustScalarBytes:tfe,randomBytes:ly}),hj="base10",hs="base16",qu="base64pad",rm="base64url",uy="utf8",dj=0,Jl=1,hy=2,rfe=0,$O=1,Zm=12,iC=32;function nfe(){const t=jS.utils.randomPrivateKey(),e=jS.getPublicKey(t);return{privateKey:Ms(t,hs),publicKey:Ms(e,hs)}}function zS(){const t=ly(iC);return Ms(t,hs)}function ife(t,e){const r=jS.getSharedSecret(pa(t,hs),pa(e,hs)),n=Uce(EA,r,void 0,void 0,iC);return Ms(n,hs)}function D1(t){const e=EA(pa(t,hs));return Ms(e,hs)}function Mf(t){const e=EA(pa(t,uy));return Ms(e,hs)}function pj(t){return pa(`${t}`,hj)}function zd(t){return Number(Ms(t,hj))}function sfe(t){const e=pj(typeof t.type<"u"?t.type:dj);if(zd(e)===Jl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?pa(t.senderPublicKey,hs):void 0,n=typeof t.iv<"u"?pa(t.iv,hs):ly(Zm),i=pa(t.symKey,hs),s=oj(i,n).encrypt(pa(t.message,uy));return gj({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function ofe(t){const e=pa(t.symKey,hs),{sealed:r,iv:n}=jb(t),i=oj(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ms(i,uy)}function afe(t,e){const r=pj(hy),n=ly(Zm),i=pa(t,uy);return gj({type:r,sealed:i,iv:n,encoding:e})}function cfe(t,e){const{sealed:r}=jb({encoded:t,encoding:e});return Ms(r,uy)}function gj(t){const{encoding:e=qu}=t;if(zd(t.type)===hy)return Ms(YN([t.type,t.sealed]),e);if(zd(t.type)===Jl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ms(YN([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Ms(YN([t.type,t.iv,t.sealed]),e)}function jb(t){const{encoded:e,encoding:r=qu}=t,n=pa(e,r),i=n.slice(rfe,$O),s=$O;if(zd(i)===Jl){const f=s+iC,l=f+Zm,u=n.slice(s,f),h=n.slice(f,l),g=n.slice(l);return{type:i,sealed:g,iv:h,senderPublicKey:u}}if(zd(i)===hy){const f=n.slice(s),l=ly(Zm);return{type:i,sealed:f,iv:l}}const o=s+Zm,a=n.slice(s,o),c=n.slice(o);return{type:i,sealed:c,iv:a}}function ffe(t,e){const r=jb({encoded:t,encoding:e==null?void 0:e.encoding});return mj({type:zd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ms(r.senderPublicKey,hs):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function mj(t){const e=(t==null?void 0:t.type)||dj;if(e===Jl){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function BO(t){return t.type===Jl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function GO(t){return t.type===hy}function lfe(t){return new gG.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function ufe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function hfe(t){return Buffer.from(ufe(t),"base64")}function dfe(t,e){const[r,n,i]=t.split("."),s=hfe(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${r}.${n}`,f=EA(c),l=lfe(e),u=Ms(f,hs);if(!l.verify(u,{r:o,s:a}))throw new Error("Invalid signature");return SS(t).payload}const pfe="irn";function zv(t){return(t==null?void 0:t.relay)||{protocol:pfe}}function Pm(t){const e=Yoe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function gfe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function jO(t){if(!t.includes("wc:")){const f=VG(t);f!=null&&f.includes("wc:")&&(t=f)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((f,l)=>{a[l]=f});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:mfe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:gfe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function mfe(t){return t.startsWith("//")?t.substring(2):t}function bfe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function zO(t){const e=new URLSearchParams,r=bfe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Jy(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function Og(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Efe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Og(r.accounts))}),e}function yfe(t,e){const r=[];return Object.values(t).forEach(n=>{Og(n.accounts).includes(e)&&r.push(...n.methods)}),r}function wfe(t,e){const r=[];return Object.values(t).forEach(n=>{Og(n.accounts).includes(e)&&r.push(...n.events)}),r}function sC(t){return t.includes(":")}function Um(t){return sC(t)?t.split(":")[0]:t}function vfe(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function WO(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=vfe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=U1(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const _fe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Afe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ne(t,e){const{message:r,code:n}=Afe[t];return{message:e?`${r} ${e}`:r,code:n}}function yr(t,e){const{message:r,code:n}=_fe[t];return{message:e?`${r} ${e}`:r,code:n}}function Wd(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function zb(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Hi(t){return typeof t>"u"}function En(t,e){return e&&Hi(t)?!0:typeof t=="string"&&!!t.trim().length}function oC(t,e){return e&&Hi(t)?!0:typeof t=="number"&&!isNaN(t)}function Nfe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return wd(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:f}=t.namespaces[o],l=Og(a),u=r[o];(!wd(jG(o,u),l)||!wd(u.methods,c)||!wd(u.events,f))&&(s=!1)}),s):!1}function Wv(t){return En(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function xfe(t){if(En(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Wv(r)}}return!1}function Ife(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(En(t,!1)){if(e(t))return!0;const r=VG(t);return e(r)}}catch{}return!1}function Sfe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Rfe(t){return t==null?void 0:t.topic}function Tfe(t,e){let r=null;return En(t==null?void 0:t.publicKey,!1)||(r=Ne("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function HO(t){let e=!0;return Wd(t)?t.length&&(e=t.every(r=>En(r,!1))):e=!1,e}function Cfe(t,e,r){let n=null;return Wd(e)&&e.length?e.forEach(i=>{n||Wv(i)||(n=yr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Wv(t)||(n=yr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Ofe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Cfe(i,jG(i,s),`${e} ${r}`);o&&(n=o)}),n}function Pfe(t,e){let r=null;return Wd(t)?t.forEach(n=>{r||xfe(n)||(r=yr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=yr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Ufe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Pfe(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function Mfe(t,e){let r=null;return HO(t==null?void 0:t.methods)?HO(t==null?void 0:t.events)||(r=yr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=yr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function bj(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Mfe(n,`${e}, namespace`);i&&(r=i)}),r}function Dfe(t,e,r){let n=null;if(t&&zb(t)){const i=bj(t,e);i&&(n=i);const s=Ofe(t,e,r);s&&(n=s)}else n=Ne("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function hx(t,e){let r=null;if(t&&zb(t)){const n=bj(t,e);n&&(r=n);const i=Ufe(t,e);i&&(r=i)}else r=Ne("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Ej(t){return En(t.protocol,!0)}function kfe(t,e){let r=!1;return e&&!t?r=!0:t&&Wd(t)&&t.length&&t.forEach(n=>{r=Ej(n)}),r}function Lfe(t){return typeof t=="number"}function eo(t){return typeof t<"u"&&typeof t!==null}function Ffe(t){return!(!t||typeof t!="object"||!t.code||!oC(t.code,!1)||!t.message||!En(t.message,!1))}function $fe(t){return!(Hi(t)||!En(t.method,!1))}function Bfe(t){return!(Hi(t)||Hi(t.result)&&Hi(t.error)||!oC(t.id,!1)||!En(t.jsonrpc,!1))}function Gfe(t){return!(Hi(t)||!En(t.name,!1))}function qO(t,e){return!(!Wv(e)||!Efe(t).includes(e))}function jfe(t,e,r){return En(r,!1)?yfe(t,e).includes(r):!1}function zfe(t,e,r){return En(r,!1)?wfe(t,e).includes(r):!1}function VO(t,e,r){let n=null;const i=Wfe(t),s=Hfe(e),o=Object.keys(i),a=Object.keys(s),c=KO(Object.keys(t)),f=KO(Object.keys(e)),l=c.filter(u=>!f.includes(u));return l.length&&(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),wd(o,a)||(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(u=>{if(!u.includes(":")||n)return;const h=Og(e[u].accounts);h.includes(u)||(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${u}
        Required: ${u}
        Approved: ${h.toString()}`))}),o.forEach(u=>{n||(wd(i[u].methods,s[u].methods)?wd(i[u].events,s[u].events)||(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${u}`)):n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${u}`))}),n}function Wfe(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function KO(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Hfe(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Og(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function qfe(t,e){return oC(t,!1)&&t<=e.max&&t>=e.min}function JO(){const t=fy();return new Promise(e=>{switch(t){case So.browser:e(Vfe());break;case So.reactNative:e(Kfe());break;case So.node:e(Jfe());break;default:e(!0)}})}function Vfe(){return cy()&&(navigator==null?void 0:navigator.onLine)}async function Kfe(){if(xh()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Jfe(){return!0}function Xfe(t){switch(fy()){case So.browser:Yfe(t);break;case So.reactNative:Zfe(t);break}}function Yfe(t){!xh()&&cy()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Zfe(t){xh()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const dx={};let nm=class{static get(e){return dx[e]}static set(e,r){dx[e]=r}static delete(e){delete dx[e]}};const Qfe="PARSE_ERROR",ele="INVALID_REQUEST",tle="METHOD_NOT_FOUND",rle="INVALID_PARAMS",yj="INTERNAL_ERROR",aC="SERVER_ERROR",nle=[-32700,-32600,-32601,-32602,-32603],Qm={[Qfe]:{code:-32700,message:"Parse error"},[ele]:{code:-32600,message:"Invalid Request"},[tle]:{code:-32601,message:"Method not found"},[rle]:{code:-32602,message:"Invalid params"},[yj]:{code:-32603,message:"Internal error"},[aC]:{code:-32e3,message:"Server error"}},wj=aC;function ile(t){return nle.includes(t)}function XO(t){return Object.keys(Qm).includes(t)?Qm[t]:Qm[wj]}function sle(t){const e=Object.values(Qm).find(r=>r.code===t);return e||Qm[wj]}function vj(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var _j={},vl={},YO;function ole(){if(YO)return vl;YO=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.isBrowserCryptoAvailable=vl.getSubtleCrypto=vl.getBrowerCrypto=void 0;function t(){return(yn==null?void 0:yn.crypto)||(yn==null?void 0:yn.msCrypto)||{}}vl.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}vl.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return vl.isBrowserCryptoAvailable=r,vl}var _l={},ZO;function ale(){if(ZO)return _l;ZO=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.isBrowser=_l.isNode=_l.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}_l.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}_l.isNode=e;function r(){return!t()&&!e()}return _l.isBrowser=r,_l}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=XE;e.__exportStar(ole(),t),e.__exportStar(ale(),t)})(_j);function Rf(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function vd(t=6){return BigInt(Rf(t))}function Vu(t,e,r){return{id:r||Rf(),jsonrpc:"2.0",method:t,params:e}}function yA(t,e){return{id:t,jsonrpc:"2.0",result:e}}function wA(t,e,r){return{id:t,jsonrpc:"2.0",error:cle(e,r)}}function cle(t,e){return typeof t>"u"?XO(yj):(typeof t=="string"&&(t=Object.assign(Object.assign({},XO(aC)),{message:t})),typeof e<"u"&&(t.data=e),ile(t.code)&&(t=sle(t.code)),t)}let fle=class{},lle=class extends fle{constructor(){super()}},ule=class extends lle{constructor(e){super()}};const hle="^https?:",dle="^wss?:";function ple(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Aj(t,e){const r=ple(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function QO(t){return Aj(t,hle)}function eP(t){return Aj(t,dle)}function gle(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Nj(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function cC(t){return Nj(t)&&"method"in t}function vA(t){return Nj(t)&&(Tf(t)||oa(t))}function Tf(t){return"result"in t}function oa(t){return"error"in t}let xa=class extends ule{constructor(e){super(e),this.events=new _a.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Vu(e.method,e.params||[],e.id||vd().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{oa(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),vA(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const mle=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),ble=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",tP=t=>t.split("?")[0],rP=10,Ele=mle();let yle=class{constructor(e){if(this.url=e,this.events=new _a.EventEmitter,this.registering=!1,!eP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(tu(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!eP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=_j.isReactNative()?void 0:{rejectUnauthorized:!gle(e)},s=new Ele(e,[],i);ble()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Bd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=wA(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return vj(e,tP(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>rP&&this.events.setMaxListeners(rP)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${tP(this.url)}`));return this.events.emit("register_error",r),r}};const xj="wc",Ij=2,Hv="core",cl=`${xj}@2:${Hv}:`,wle={name:Hv,logger:"error"},vle={database:":memory:"},_le="crypto",nP="client_ed25519_seed",Ale=ve.ONE_DAY,Nle="keychain",xle="0.3",Ile="messages",Sle="0.3",iP=ve.SIX_HOURS,Rle="publisher",Sj="irn",Tle="error",Rj="wss://relay.walletconnect.org",Cle="relayer",Si={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Ole="_subscription",jo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Ple=.1,WS="2.19.1",Br={link_mode:"link_mode",relay:"relay"},k1={inbound:"inbound",outbound:"outbound"},Ule="0.3",Mle="WALLETCONNECT_CLIENT_ID",sP="WALLETCONNECT_LINK_MODE_APPS",go={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Dle="subscription",kle="0.3",Lle="pairing",Fle="0.3",im={wc_pairingDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:0},res:{ttl:ve.ONE_DAY,prompt:!1,tag:0}}},pd={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},La={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},$le="history",Ble="0.3",Gle="expirer",ia={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},jle="0.3",zle="verify-api",Wle="https://verify.walletconnect.com",Tj="https://verify.walletconnect.org",eb=Tj,Hle=`${eb}/v3`,qle=[Wle,Tj],Vle="echo",Kle="https://echo.walletconnect.com",xf={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Tl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Fa={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},td={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},rd={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},sm={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Jle=.1,Xle="event-client",Yle=86400,Zle="https://pulse.walletconnect.org/batch";function Qle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var w=0,N=0,I=0,C=m.length;I!==C&&m[I]===0;)I++,w++;for(var M=(C-I)*l+1>>>0,k=new Uint8Array(M);I!==C;){for(var L=m[I],$=0,V=M-1;(L!==0||$<N)&&V!==-1;V--,$++)L+=256*k[V]>>>0,k[V]=L%a>>>0,L=L/a>>>0;if(L!==0)throw new Error("Non-zero carry");N=$,I++}for(var P=M-N;P!==M&&k[P]===0;)P++;for(var O=c.repeat(w);P<M;++P)O+=t.charAt(k[P]);return O}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var w=0;if(m[w]!==" "){for(var N=0,I=0;m[w]===c;)N++,w++;for(var C=(m.length-w)*f+1>>>0,M=new Uint8Array(C);m[w];){var k=r[m.charCodeAt(w)];if(k===255)return;for(var L=0,$=C-1;(k!==0||L<I)&&$!==-1;$--,L++)k+=a*M[$]>>>0,M[$]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");I=L,w++}if(m[w]!==" "){for(var V=C-I;V!==C&&M[V]===0;)V++;for(var P=new Uint8Array(N+(C-V)),O=N;V!==C;)P[O++]=M[V++];return P}}}function g(m){var w=h(m);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:u,decodeUnsafe:h,decode:g}}var eue=Qle,tue=eue;const Cj=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},rue=t=>new TextEncoder().encode(t),nue=t=>new TextDecoder().decode(t);class iue{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class sue{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Oj(this,e)}}class oue{constructor(e){this.decoders=e}or(e){return Oj(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Oj=(t,e)=>new oue({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class aue{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new iue(e,r,n),this.decoder=new sue(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _A=({name:t,prefix:e,encode:r,decode:n})=>new aue(t,e,r,n),dy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=tue(r,e);return _A({prefix:t,name:e,encode:n,decode:s=>Cj(i(s))})},cue=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,f=0;for(let l=0;l<s;++l){const u=i[t[l]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|u,a+=r,a>=8&&(a-=8,o[f++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},fue=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Qi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>_A({prefix:e,name:t,encode(i){return fue(i,n,r)},decode(i){return cue(i,n,r,t)}}),lue=_A({prefix:"\0",name:"identity",encode:t=>nue(t),decode:t=>rue(t)});var uue=Object.freeze({__proto__:null,identity:lue});const hue=Qi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var due=Object.freeze({__proto__:null,base2:hue});const pue=Qi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gue=Object.freeze({__proto__:null,base8:pue});const mue=dy({prefix:"9",name:"base10",alphabet:"0123456789"});var bue=Object.freeze({__proto__:null,base10:mue});const Eue=Qi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yue=Qi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var wue=Object.freeze({__proto__:null,base16:Eue,base16upper:yue});const vue=Qi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_ue=Qi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Aue=Qi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nue=Qi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xue=Qi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Iue=Qi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sue=Qi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Rue=Qi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tue=Qi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Cue=Object.freeze({__proto__:null,base32:vue,base32upper:_ue,base32pad:Aue,base32padupper:Nue,base32hex:xue,base32hexupper:Iue,base32hexpad:Sue,base32hexpadupper:Rue,base32z:Tue});const Oue=dy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Pue=dy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Uue=Object.freeze({__proto__:null,base36:Oue,base36upper:Pue});const Mue=dy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Due=dy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var kue=Object.freeze({__proto__:null,base58btc:Mue,base58flickr:Due});const Lue=Qi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fue=Qi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$ue=Qi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bue=Qi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Gue=Object.freeze({__proto__:null,base64:Lue,base64pad:Fue,base64url:$ue,base64urlpad:Bue});const Pj=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),jue=Pj.reduce((t,e,r)=>(t[r]=e,t),[]),zue=Pj.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Wue(t){return t.reduce((e,r)=>(e+=jue[r],e),"")}function Hue(t){const e=[];for(const r of t){const n=zue[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const que=_A({prefix:"🚀",name:"base256emoji",encode:Wue,decode:Hue});var Vue=Object.freeze({__proto__:null,base256emoji:que}),Kue=Uj,oP=128,Jue=127,Xue=~Jue,Yue=Math.pow(2,31);function Uj(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Yue;)e[r++]=t&255|oP,t/=128;for(;t&Xue;)e[r++]=t&255|oP,t>>>=7;return e[r]=t|0,Uj.bytes=r-n+1,e}var Zue=HS,Que=128,aP=127;function HS(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw HS.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&aP)<<i:(o&aP)*Math.pow(2,i),i+=7}while(o>=Que);return HS.bytes=s-n,r}var ehe=Math.pow(2,7),the=Math.pow(2,14),rhe=Math.pow(2,21),nhe=Math.pow(2,28),ihe=Math.pow(2,35),she=Math.pow(2,42),ohe=Math.pow(2,49),ahe=Math.pow(2,56),che=Math.pow(2,63),fhe=function(t){return t<ehe?1:t<the?2:t<rhe?3:t<nhe?4:t<ihe?5:t<she?6:t<ohe?7:t<ahe?8:t<che?9:10},lhe={encode:Kue,decode:Zue,encodingLength:fhe},Mj=lhe;const cP=(t,e,r=0)=>(Mj.encode(t,e,r),e),fP=t=>Mj.encodingLength(t),qS=(t,e)=>{const r=e.byteLength,n=fP(t),i=n+fP(r),s=new Uint8Array(i+r);return cP(t,s,0),cP(r,s,n),s.set(e,i),new uhe(t,r,e,s)};let uhe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const Dj=({name:t,code:e,encode:r})=>new hhe(t,e,r);class hhe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?qS(this.code,r):r.then(n=>qS(this.code,n))}else throw Error("Unknown type, must be binary type")}}const kj=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),dhe=Dj({name:"sha2-256",code:18,encode:kj("SHA-256")}),phe=Dj({name:"sha2-512",code:19,encode:kj("SHA-512")});var ghe=Object.freeze({__proto__:null,sha256:dhe,sha512:phe});const Lj=0,mhe="identity",Fj=Cj,bhe=t=>qS(Lj,Fj(t)),Ehe={code:Lj,name:mhe,encode:Fj,digest:bhe};var yhe=Object.freeze({__proto__:null,identity:Ehe});new TextEncoder,new TextDecoder;const lP={...uue,...due,...gue,...bue,...wue,...Cue,...Uue,...kue,...Gue,...Vue};({...ghe,...yhe});function whe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function $j(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const uP=$j("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),px=$j("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=whe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),vhe={utf8:uP,"utf-8":uP,hex:lP.base16,latin1:px,ascii:px,binary:px,...lP};function _he(t,e="utf8"){const r=vhe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var Ahe=Object.defineProperty,Nhe=(t,e,r)=>e in t?Ahe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_f=(t,e,r)=>Nhe(t,typeof e!="symbol"?e+"":e,r);class xhe{constructor(e,r){this.core=e,this.logger=r,_f(this,"keychain",new Map),_f(this,"name",Nle),_f(this,"version",xle),_f(this,"initialized",!1),_f(this,"storagePrefix",cl),_f(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),_f(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),_f(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),_f(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),_f(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ws(r,this.name)}get context(){return co(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,DS(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kS(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ihe=Object.defineProperty,She=(t,e,r)=>e in t?Ihe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bi=(t,e,r)=>She(t,typeof e!="symbol"?e+"":e,r);class Rhe{constructor(e,r,n){this.core=e,this.logger=r,Bi(this,"name",_le),Bi(this,"keychain"),Bi(this,"randomSessionIdentifier",zS()),Bi(this,"initialized",!1),Bi(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Bi(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Bi(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=$8(i);return qB(s.publicKey)}),Bi(this,"generateKeyPair",()=>{this.isInitialized();const i=nfe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Bi(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=$8(s),a=this.randomSessionIdentifier;return await dre(a,i,Ale,o)}),Bi(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=ife(a,s);return this.setSymKey(c,o)}),Bi(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||D1(i);return await this.keychain.set(o,i),o}),Bi(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Bi(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Bi(this,"encode",async(i,s,o)=>{this.isInitialized();const a=mj(o),c=tu(s);if(GO(a))return afe(c,o==null?void 0:o.encoding);if(BO(a)){const h=a.senderPublicKey,g=a.receiverPublicKey;i=await this.generateSharedKey(h,g)}const f=this.getSymKey(i),{type:l,senderPublicKey:u}=a;return sfe({type:l,symKey:f,message:c,senderPublicKey:u,encoding:o==null?void 0:o.encoding})}),Bi(this,"decode",async(i,s,o)=>{this.isInitialized();const a=ffe(s,o);if(GO(a)){const c=cfe(s,o==null?void 0:o.encoding);return Bd(c)}if(BO(a)){const c=a.receiverPublicKey,f=a.senderPublicKey;i=await this.generateSharedKey(c,f)}try{const c=this.getSymKey(i),f=ofe({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Bd(f)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Bi(this,"getPayloadType",(i,s=qu)=>{const o=jb({encoded:i,encoding:s});return zd(o.type)}),Bi(this,"getPayloadSenderPublicKey",(i,s=qu)=>{const o=jb({encoded:i,encoding:s});return o.senderPublicKey?Ms(o.senderPublicKey,hs):void 0}),this.core=e,this.logger=ws(r,this.name),this.keychain=n||new xhe(this.core,this.logger)}get context(){return co(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(nP)}catch{e=zS(),await this.keychain.set(nP,e)}return _he(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var The=Object.defineProperty,Che=Object.defineProperties,Ohe=Object.getOwnPropertyDescriptors,hP=Object.getOwnPropertySymbols,Phe=Object.prototype.hasOwnProperty,Uhe=Object.prototype.propertyIsEnumerable,VS=(t,e,r)=>e in t?The(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mhe=(t,e)=>{for(var r in e||(e={}))Phe.call(e,r)&&VS(t,r,e[r]);if(hP)for(var r of hP(e))Uhe.call(e,r)&&VS(t,r,e[r]);return t},Dhe=(t,e)=>Che(t,Ohe(e)),uo=(t,e,r)=>VS(t,typeof e!="symbol"?e+"":e,r);class khe extends lQ{constructor(e,r){super(e,r),this.logger=e,this.core=r,uo(this,"messages",new Map),uo(this,"messagesWithoutClientAck",new Map),uo(this,"name",Ile),uo(this,"version",Sle),uo(this,"initialized",!1),uo(this,"storagePrefix",cl),uo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),uo(this,"set",async(n,i,s)=>{this.isInitialized();const o=Mf(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===k1.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,Dhe(Mhe({},c),{[o]:i}))}return await this.persist(),o}),uo(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),uo(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),uo(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Mf(i);return typeof s[o]<"u"}),uo(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Mf(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),uo(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ws(e,this.name),this.core=r}get context(){return co(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,DS(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,DS(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kS(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?kS(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Lhe=Object.defineProperty,Fhe=Object.defineProperties,$he=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertySymbols,Bhe=Object.prototype.hasOwnProperty,Ghe=Object.prototype.propertyIsEnumerable,KS=(t,e,r)=>e in t?Lhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xy=(t,e)=>{for(var r in e||(e={}))Bhe.call(e,r)&&KS(t,r,e[r]);if(dP)for(var r of dP(e))Ghe.call(e,r)&&KS(t,r,e[r]);return t},gx=(t,e)=>Fhe(t,$he(e)),$a=(t,e,r)=>KS(t,typeof e!="symbol"?e+"":e,r);class jhe extends uQ{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,$a(this,"events",new _a.EventEmitter),$a(this,"name",Rle),$a(this,"queue",new Map),$a(this,"publishTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),$a(this,"initialPublishTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),$a(this,"needsTransportRestart",!1),$a(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||iP,c=zv(s),f=(s==null?void 0:s.prompt)||!1,l=(s==null?void 0:s.tag)||0,u=(s==null?void 0:s.id)||vd().toString(),h={topic:n,message:i,opts:{ttl:a,relay:c,prompt:f,tag:l,id:u,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},g=`Failed to publish payload, please try again. id:${u} tag:${l}`;try{const m=new Promise(async w=>{const N=({id:C})=>{h.opts.id===C&&(this.removeRequestFromQueue(C),this.relayer.events.removeListener(Si.publish,N),w(h))};this.relayer.events.on(Si.publish,N);const I=Hu(new Promise((C,M)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:f,tag:l,id:u,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(C).catch(k=>{this.logger.warn(k,k==null?void 0:k.message),M(k)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${l}`);try{await I,this.events.removeListener(Si.publish,N)}catch(C){this.queue.set(u,gx(Xy({},h),{attempt:1})),this.logger.warn(C,C==null?void 0:C.message)}});this.logger.trace({type:"method",method:"publish",params:{id:u,topic:n,message:i,opts:s}}),await Hu(m,this.publishTimeout,g)}catch(m){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(m),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw m}finally{this.queue.delete(u)}}),$a(this,"on",(n,i)=>{this.events.on(n,i)}),$a(this,"once",(n,i)=>{this.events.once(n,i)}),$a(this,"off",(n,i)=>{this.events.off(n,i)}),$a(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ws(r,this.name),this.registerEventListeners()}get context(){return co(this.logger)}async rpcPublish(e){var r,n,i,s;const{topic:o,message:a,ttl:c=iP,prompt:f,tag:l,id:u,attestation:h,tvf:g}=e,m={method:Pm(zv().protocol).publish,params:Xy({topic:o,message:a,ttl:c,prompt:f,tag:l,attestation:h},g),id:u};Hi((r=m.params)==null?void 0:r.prompt)&&((n=m.params)==null||delete n.prompt),Hi((i=m.params)==null?void 0:i.tag)&&((s=m.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m});const w=await this.relayer.request(m);return this.relayer.events.emit(Si.publish,e),this.logger.debug("Successfully Published Payload"),w}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,gx(Xy({},e),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(gx(Xy({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(yg.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Si.connection_stalled);return}this.checkQueue()}),this.relayer.on(Si.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var zhe=Object.defineProperty,Whe=(t,e,r)=>e in t?zhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T0=(t,e,r)=>Whe(t,typeof e!="symbol"?e+"":e,r);class Hhe{constructor(){T0(this,"map",new Map),T0(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),T0(this,"get",e=>this.map.get(e)||[]),T0(this,"exists",(e,r)=>this.get(e).includes(r)),T0(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),T0(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var qhe=Object.defineProperty,Vhe=Object.defineProperties,Khe=Object.getOwnPropertyDescriptors,pP=Object.getOwnPropertySymbols,Jhe=Object.prototype.hasOwnProperty,Xhe=Object.prototype.propertyIsEnumerable,JS=(t,e,r)=>e in t?qhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,om=(t,e)=>{for(var r in e||(e={}))Jhe.call(e,r)&&JS(t,r,e[r]);if(pP)for(var r of pP(e))Xhe.call(e,r)&&JS(t,r,e[r]);return t},mx=(t,e)=>Vhe(t,Khe(e)),_r=(t,e,r)=>JS(t,typeof e!="symbol"?e+"":e,r);class Yhe extends pQ{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,_r(this,"subscriptions",new Map),_r(this,"topicMap",new Hhe),_r(this,"events",new _a.EventEmitter),_r(this,"name",Dle),_r(this,"version",kle),_r(this,"pending",new Map),_r(this,"cached",[]),_r(this,"initialized",!1),_r(this,"storagePrefix",cl),_r(this,"subscribeTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),_r(this,"initialSubscribeTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),_r(this,"clientId"),_r(this,"batchSubscribeTopicsLimit",500),_r(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),_r(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=zv(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),_r(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),_r(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),_r(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),_r(this,"on",(n,i)=>{this.events.on(n,i)}),_r(this,"once",(n,i)=>{this.events.once(n,i)}),_r(this,"off",(n,i)=>{this.events.off(n,i)}),_r(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),_r(this,"start",async()=>{await this.onConnect()}),_r(this,"stop",async()=>{await this.onDisconnect()}),_r(this,"restart",async()=>{await this.restore(),await this.onRestart()}),_r(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),_r(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(yg.pulse,async()=>{await this.checkPending()}),this.events.on(go.created,async n=>{const i=go.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(go.deleted,async n=>{const i=go.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ws(r,this.name),this.clientId=""}get context(){return co(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=zv(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=yr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(!n||(n==null?void 0:n.transportType)===Br.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const s={method:Pm(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===Br.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},ve.toMiliseconds(ve.ONE_SECOND)),a;const c=new Promise(async l=>{const u=h=>{h.topic===e&&(this.events.removeListener(go.created,u),l(h.id))};this.events.on(go.created,u);try{const h=await Hu(new Promise((g,m)=>{this.relayer.request(s).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),m(w)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(go.created,u),l(h)}catch{}}),f=await Hu(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!f&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return f?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Si.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Pm(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Hu(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Si.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Pm(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Hu(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Si.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Pm(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,mx(om({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,om({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,om({},r)),this.topicMap.set(r.topic,e),this.events.emit(go.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(go.deleted,mx(om({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(go.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(go.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>mx(om({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await mae(ve.toMiliseconds(ve.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Mf(e+await this.getClientId())}}var Zhe=Object.defineProperty,gP=Object.getOwnPropertySymbols,Qhe=Object.prototype.hasOwnProperty,ede=Object.prototype.propertyIsEnumerable,XS=(t,e,r)=>e in t?Zhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mP=(t,e)=>{for(var r in e||(e={}))Qhe.call(e,r)&&XS(t,r,e[r]);if(gP)for(var r of gP(e))ede.call(e,r)&&XS(t,r,e[r]);return t},$t=(t,e,r)=>XS(t,typeof e!="symbol"?e+"":e,r);class tde extends hQ{constructor(e){super(e),$t(this,"protocol","wc"),$t(this,"version",2),$t(this,"core"),$t(this,"logger"),$t(this,"events",new _a.EventEmitter),$t(this,"provider"),$t(this,"messages"),$t(this,"subscriber"),$t(this,"publisher"),$t(this,"name",Cle),$t(this,"transportExplicitlyClosed",!1),$t(this,"initialized",!1),$t(this,"connectionAttemptInProgress",!1),$t(this,"relayUrl"),$t(this,"projectId"),$t(this,"packageName"),$t(this,"bundleId"),$t(this,"hasExperiencedNetworkDisruption",!1),$t(this,"pingTimeout"),$t(this,"heartBeatTimeout",ve.toMiliseconds(ve.THIRTY_SECONDS+ve.FIVE_SECONDS)),$t(this,"reconnectTimeout"),$t(this,"connectPromise"),$t(this,"reconnectInProgress",!1),$t(this,"requestsInFlight",[]),$t(this,"connectTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),$t(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||vd().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),$t(this,"resetPingTimeout",()=>{Gv()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),$t(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),$t(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Si.connect)}),$t(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),$t(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Si.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),$t(this,"registerProviderListeners",()=>{this.provider.on(jo.payload,this.onPayloadHandler),this.provider.on(jo.connect,this.onConnectHandler),this.provider.on(jo.disconnect,this.onDisconnectHandler),this.provider.on(jo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ws(e.logger,this.name):ZE(wg({level:e.logger||Tle})),this.messages=new khe(this.logger,e.core),this.subscriber=new Yhe(this,this.logger),this.publisher=new jhe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Rj,this.projectId=e.projectId,tae()?this.packageName=dO():rae()&&(this.bundleId=dO()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return co(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Br.relay},k1.outbound)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const f=l=>{l.topic===e&&(this.subscriber.off(go.created,f),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(go.created,f)}),new Promise(async(l,u)=>{a=await this.subscriber.subscribe(e,mP({internal:{throwOnFailedPublish:o}},r)).catch(h=>{o&&u(h)})||a,l()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Hu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await JO())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=pi(ve.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Si.message,e),await this.recordMessageEvent(e,k1.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(jo.disconnect,s),await Hu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(jo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(jo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(jo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,ve.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(Gv())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new xa(new yle(oae({sdkVersion:WS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),cC(e)){if(!e.method.endsWith(Ole))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Br.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(mP({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else vA(e)&&this.events.emit(Si.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,k1.inbound),this.events.emit(Si.message,e))}async acknowledgePayload(e){const r=yA(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(jo.payload,this.onPayloadHandler),this.provider.off(jo.connect,this.onConnectHandler),this.provider.off(jo.disconnect,this.onDisconnectHandler),this.provider.off(jo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await JO();Xfe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Si.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ve.toMiliseconds(Ple)))))}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function rde(){}function bP(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function EP(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function yP(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const nde="[object RegExp]",ide="[object String]",sde="[object Number]",ode="[object Boolean]",wP="[object Arguments]",ade="[object Symbol]",cde="[object Date]",fde="[object Map]",lde="[object Set]",ude="[object Array]",hde="[object Function]",dde="[object ArrayBuffer]",bx="[object Object]",pde="[object Error]",gde="[object DataView]",mde="[object Uint8Array]",bde="[object Uint8ClampedArray]",Ede="[object Uint16Array]",yde="[object Uint32Array]",wde="[object BigUint64Array]",vde="[object Int8Array]",_de="[object Int16Array]",Ade="[object Int32Array]",Nde="[object BigInt64Array]",xde="[object Float32Array]",Ide="[object Float64Array]";function Sde(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Rde(t,e,r){return Mm(t,e,void 0,void 0,void 0,void 0,r)}function Mm(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return tb(t,e,s,o)}return tb(t,e,s,o)}function tb(t,e,r,n){if(Object.is(t,e))return!0;let i=yP(t),s=yP(e);if(i===wP&&(i=bx),s===wP&&(s=bx),i!==s)return!1;switch(i){case ide:return t.toString()===e.toString();case sde:{const c=t.valueOf(),f=e.valueOf();return Sde(c,f)}case ode:case cde:case ade:return Object.is(t.valueOf(),e.valueOf());case nde:return t.source===e.source&&t.flags===e.flags;case hde:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case fde:{if(t.size!==e.size)return!1;for(const[c,f]of t.entries())if(!e.has(c)||!Mm(f,e.get(c),c,t,e,r,n))return!1;return!0}case lde:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),f=Array.from(e.values());for(let l=0;l<c.length;l++){const u=c[l],h=f.findIndex(g=>Mm(u,g,void 0,t,e,r,n));if(h===-1)return!1;f.splice(h,1)}return!0}case ude:case mde:case bde:case Ede:case yde:case wde:case vde:case _de:case Ade:case Nde:case xde:case Ide:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Mm(t[c],e[c],c,t,e,r,n))return!1;return!0}case dde:return t.byteLength!==e.byteLength?!1:tb(new Uint8Array(t),new Uint8Array(e),r,n);case gde:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:tb(new Uint8Array(t),new Uint8Array(e),r,n);case pde:return t.name===e.name&&t.message===e.message;case bx:{if(!(tb(t.constructor,e.constructor,r,n)||bP(t)&&bP(e)))return!1;const c=[...Object.keys(t),...EP(t)],f=[...Object.keys(e),...EP(e)];if(c.length!==f.length)return!1;for(let l=0;l<c.length;l++){const u=c[l],h=t[u];if(!Object.hasOwn(e,u))return!1;const g=e[u];if(!Mm(h,g,u,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Tde(t,e){return Rde(t,e,rde)}var Cde=Object.defineProperty,vP=Object.getOwnPropertySymbols,Ode=Object.prototype.hasOwnProperty,Pde=Object.prototype.propertyIsEnumerable,YS=(t,e,r)=>e in t?Cde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_P=(t,e)=>{for(var r in e||(e={}))Ode.call(e,r)&&YS(t,r,e[r]);if(vP)for(var r of vP(e))Pde.call(e,r)&&YS(t,r,e[r]);return t},$s=(t,e,r)=>YS(t,typeof e!="symbol"?e+"":e,r);class d0 extends dQ{constructor(e,r,n,i=cl,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,$s(this,"map",new Map),$s(this,"version",Ule),$s(this,"cached",[]),$s(this,"initialized",!1),$s(this,"getKey"),$s(this,"storagePrefix",cl),$s(this,"recentlyDeleted",[]),$s(this,"recentlyDeletedLimit",200),$s(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Hi(o)?this.map.set(this.getKey(o),o):Sfe(o)?this.map.set(o.id,o):Rfe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),$s(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),$s(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),$s(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Tde(a[c],o[c]))):this.values)),$s(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=_P(_P({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),$s(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ws(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return co(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Ne("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ude=Object.defineProperty,Mde=(t,e,r)=>e in t?Ude(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tt=(t,e,r)=>Mde(t,typeof e!="symbol"?e+"":e,r);class Dde{constructor(e,r){this.core=e,this.logger=r,Tt(this,"name",Lle),Tt(this,"version",Fle),Tt(this,"events",new OT),Tt(this,"pairings"),Tt(this,"initialized",!1),Tt(this,"storagePrefix",cl),Tt(this,"ignoredPayloadTypes",[Jl]),Tt(this,"registeredMethods",[]),Tt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Tt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Tt(this,"create",async n=>{this.isInitialized();const i=zS(),s=await this.core.crypto.setSymKey(i),o=pi(ve.FIVE_MINUTES),a={protocol:Sj},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},f=zO({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(pd.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:f}}),Tt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[xf.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:f}=jO(n.uri);i.props.properties.topic=s,i.addTrace(xf.pairing_uri_validation_success),i.addTrace(xf.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(s)){if(l=this.pairings.get(s),i.addTrace(xf.existing_pairing),l.active)throw i.setError(Tl.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(xf.pairing_not_expired)}const u=c||pi(ve.FIVE_MINUTES),h={topic:s,relay:a,expiry:u,active:!1,methods:f};this.core.expirer.set(s,u),await this.pairings.set(s,h),i.addTrace(xf.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(pd.create,h),i.addTrace(xf.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(xf.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Tl.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(g){throw i.setError(Tl.subscribe_pairing_topic_failure),g}return i.addTrace(xf.subscribe_pairing_topic_success),h}),Tt(this,"activate",async({topic:n})=>{this.isInitialized();const i=pi(ve.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Tt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=fd();this.events.once(Vt("pairing_ping",s),({error:f})=>{f?c(f):a()}),await o()}}),Tt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Tt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Tt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Tt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",yr("USER_DISCONNECTED")),await this.deletePairing(i))}),Tt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return zO({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Tt(this,"sendRequest",async(n,i,s)=>{const o=Vu(i,s),a=await this.core.crypto.encode(n,o),c=im[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Tt(this,"sendResult",async(n,i,s)=>{const o=yA(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,f=im[c].res;await this.core.relayer.publish(i,a,f),await this.core.history.resolve(o)}),Tt(this,"sendError",async(n,i,s)=>{const o=wA(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,f=im[c]?im[c].res:im.unregistered_method.res;await this.core.relayer.publish(i,a,f),await this.core.history.resolve(o)}),Tt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,yr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Tt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Fu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Tt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Tt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Tt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(pd.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Tt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Tf(i)?this.events.emit(Vt("pairing_ping",s),{}):oa(i)&&this.events.emit(Vt("pairing_ping",s),{error:i.error})},500)}),Tt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(pd.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Tt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=yr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Tt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(yr("WC_METHOD_UNSUPPORTED",n))}),Tt(this,"isValidPair",(n,i)=>{var s;if(!eo(n)){const{message:a}=Ne("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Tl.malformed_pairing_uri),new Error(a)}if(!Ife(n.uri)){const{message:a}=Ne("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Tl.malformed_pairing_uri),new Error(a)}const o=jO(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Ne("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Tl.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ne("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Tl.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ve.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Tl.pairing_expired);const{message:a}=Ne("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Tt(this,"isValidPing",async n=>{if(!eo(n)){const{message:s}=Ne("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Tt(this,"isValidDisconnect",async n=>{if(!eo(n)){const{message:s}=Ne("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Tt(this,"isValidPairingTopic",async n=>{if(!En(n,!1)){const{message:i}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Fu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Ne("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ws(r,this.name),this.pairings=new d0(this.core,this.logger,this.name,this.storagePrefix)}get context(){return co(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Si.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Br.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);cC(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):vA(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ia.expired,async e=>{const{topic:r}=qG(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(pd.expire,{topic:r}))})}}var kde=Object.defineProperty,Lde=(t,e,r)=>e in t?kde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gi=(t,e,r)=>Lde(t,typeof e!="symbol"?e+"":e,r);class Fde extends fQ{constructor(e,r){super(e,r),this.core=e,this.logger=r,Gi(this,"records",new Map),Gi(this,"events",new _a.EventEmitter),Gi(this,"name",$le),Gi(this,"version",Ble),Gi(this,"cached",[]),Gi(this,"initialized",!1),Gi(this,"storagePrefix",cl),Gi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gi(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:pi(ve.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(La.created,o)}),Gi(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=oa(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(La.updated,i))}),Gi(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Gi(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(La.deleted,s)}}),this.persist()}),Gi(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Gi(this,"on",(n,i)=>{this.events.on(n,i)}),Gi(this,"once",(n,i)=>{this.events.once(n,i)}),Gi(this,"off",(n,i)=>{this.events.off(n,i)}),Gi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ws(r,this.name)}get context(){return co(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Vu(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(La.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(La.created,e=>{const r=La.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(La.updated,e=>{const r=La.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(La.deleted,e=>{const r=La.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(yg.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{ve.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(La.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $de=Object.defineProperty,Bde=(t,e,r)=>e in t?$de(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ss=(t,e,r)=>Bde(t,typeof e!="symbol"?e+"":e,r);class Gde extends gQ{constructor(e,r){super(e,r),this.core=e,this.logger=r,ss(this,"expirations",new Map),ss(this,"events",new _a.EventEmitter),ss(this,"name",Gle),ss(this,"version",jle),ss(this,"cached",[]),ss(this,"initialized",!1),ss(this,"storagePrefix",cl),ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ss(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),ss(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(ia.created,{target:s,expiration:o})}),ss(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),ss(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(ia.deleted,{target:i,expiration:s})}}),ss(this,"on",(n,i)=>{this.events.on(n,i)}),ss(this,"once",(n,i)=>{this.events.once(n,i)}),ss(this,"off",(n,i)=>{this.events.off(n,i)}),ss(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ws(r,this.name)}get context(){return co(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return aae(e);if(typeof e=="number")return cae(e);const{message:r}=Ne("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ia.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;ve.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(ia.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(yg.pulse,()=>this.checkExpirations()),this.events.on(ia.created,e=>{const r=ia.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ia.expired,e=>{const r=ia.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ia.deleted,e=>{const r=ia.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jde=Object.defineProperty,zde=(t,e,r)=>e in t?jde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dn=(t,e,r)=>zde(t,typeof e!="symbol"?e+"":e,r);class Wde extends mQ{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,dn(this,"name",zle),dn(this,"abortController"),dn(this,"isDevEnv"),dn(this,"verifyUrlV3",Hle),dn(this,"storagePrefix",cl),dn(this,"version",Ij),dn(this,"publicKey"),dn(this,"fetchPromise"),dn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ve.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),dn(this,"register",async i=>{if(!cy()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const f=ty(),l=this.startAbortTimer(ve.ONE_SECOND*5),u=await new Promise((h,g)=>{const m=()=>{window.removeEventListener("message",N),f.body.removeChild(w),g("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const w=f.createElement("iframe");w.src=c,w.style.display="none",w.addEventListener("error",m,{signal:this.abortController.signal});const N=I=>{if(I.data&&typeof I.data=="string")try{const C=JSON.parse(I.data);if(C.type==="verify_attestation"){if(SS(C.attestation).payload.id!==o)return;clearInterval(l),f.body.removeChild(w),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",N),h(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};f.body.appendChild(w),window.addEventListener("message",N,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",u),u}catch(f){this.logger.warn(f)}return""}),dn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(SS(s).payload.id!==a)return;const f=await this.isValidJwtAttestation(s);if(f){if(!f.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return f}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),dn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ve.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),dn(this,"getVerifyUrl",i=>{let s=i||eb;return qle.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${eb}`),s=eb),s}),dn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ve.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),dn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),dn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),dn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),dn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),dn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),dn(this,"validateAttestation",(i,s)=>{const o=dfe(i,s.publicKey),a={hasExpired:ve.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ws(r,this.name),this.abortController=new AbortController,this.isDevEnv=ZT(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return co(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ve.toMiliseconds(e))}}var Hde=Object.defineProperty,qde=(t,e,r)=>e in t?Hde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AP=(t,e,r)=>qde(t,typeof e!="symbol"?e+"":e,r);class Vde extends bQ{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,AP(this,"context",Vle),AP(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${Kle}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ws(r,this.context)}}var Kde=Object.defineProperty,NP=Object.getOwnPropertySymbols,Jde=Object.prototype.hasOwnProperty,Xde=Object.prototype.propertyIsEnumerable,ZS=(t,e,r)=>e in t?Kde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,am=(t,e)=>{for(var r in e||(e={}))Jde.call(e,r)&&ZS(t,r,e[r]);if(NP)for(var r of NP(e))Xde.call(e,r)&&ZS(t,r,e[r]);return t},Ai=(t,e,r)=>ZS(t,typeof e!="symbol"?e+"":e,r);class Yde extends EQ{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Ai(this,"context",Xle),Ai(this,"storagePrefix",cl),Ai(this,"storageVersion",Jle),Ai(this,"events",new Map),Ai(this,"shouldPersist",!1),Ai(this,"init",async()=>{if(!ZT())try{const i={eventId:gO(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:WG(this.core.relayer.protocol,this.core.relayer.version,WS)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ai(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,f=gO(),l=this.core.projectId||"",u=Date.now(),h=am({eventId:f,timestamp:u,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(f));return this.telemetryEnabled&&(this.events.set(f,h),this.shouldPersist=!0),h}),Ai(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return am(am({},a),this.setMethods(a.eventId))}),Ai(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ai(this,"setEventListeners",()=>{this.core.heartbeat.on(yg.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ve.fromMiliseconds(Date.now())-ve.fromMiliseconds(i.timestamp)>Yle&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ai(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ai(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Ai(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Ai(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ai(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,am(am({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ai(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ai(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Zle}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${WS}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ai(this,"getAppDomain",()=>zG().url),this.logger=ws(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Zde=Object.defineProperty,xP=Object.getOwnPropertySymbols,Qde=Object.prototype.hasOwnProperty,e0e=Object.prototype.propertyIsEnumerable,QS=(t,e,r)=>e in t?Zde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,IP=(t,e)=>{for(var r in e||(e={}))Qde.call(e,r)&&QS(t,r,e[r]);if(xP)for(var r of xP(e))e0e.call(e,r)&&QS(t,r,e[r]);return t},Cr=(t,e,r)=>QS(t,typeof e!="symbol"?e+"":e,r);let t0e=class Bj extends sQ{constructor(e){var r;super(e),Cr(this,"protocol",xj),Cr(this,"version",Ij),Cr(this,"name",Hv),Cr(this,"relayUrl"),Cr(this,"projectId"),Cr(this,"customStoragePrefix"),Cr(this,"events",new _a.EventEmitter),Cr(this,"logger"),Cr(this,"heartbeat"),Cr(this,"relayer"),Cr(this,"crypto"),Cr(this,"storage"),Cr(this,"history"),Cr(this,"expirer"),Cr(this,"pairing"),Cr(this,"verify"),Cr(this,"echoClient"),Cr(this,"linkModeSupportedApps"),Cr(this,"eventClient"),Cr(this,"initialized",!1),Cr(this,"logChunkController"),Cr(this,"on",(o,a)=>this.events.on(o,a)),Cr(this,"once",(o,a)=>this.events.once(o,a)),Cr(this,"off",(o,a)=>this.events.off(o,a)),Cr(this,"removeListener",(o,a)=>this.events.removeListener(o,a)),Cr(this,"dispatchEnvelope",({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const f={topic:o,message:a,publishedAt:Date.now(),transportType:Br.link_mode};this.relayer.onLinkMessageEvent(f,{sessionExists:c})}),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Rj,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=wg({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:wle.logger,name:Hv}),{logger:i,chunkLoggerController:s}=UT({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ws(i,this.name),this.heartbeat=new VY,this.crypto=new Rhe(this,this.logger,e==null?void 0:e.keychain),this.history=new Fde(this,this.logger),this.expirer=new Gde(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new TZ(IP(IP({},vle),e==null?void 0:e.storageOptions)),this.relayer=new tde({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Dde(this,this.logger),this.verify=new Wde(this,this.logger,this.storage),this.echoClient=new Vde(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Yde(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new Bj(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Mle,n),r}get context(){return co(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(sP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(sP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const r0e=t0e,Gj="wc",jj=2,zj="client",fC=`${Gj}@${jj}:${zj}:`,Ex={name:zj,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},SP="WALLETCONNECT_DEEPLINK_CHOICE",n0e="proposal",RP="Proposal expired",i0e="session",C0=ve.SEVEN_DAYS,s0e="engine",Ni={wc_sessionPropose:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ve.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ve.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1119}}},yx={min:ve.FIVE_MINUTES,max:ve.SEVEN_DAYS},Af={idle:"IDLE",active:"ACTIVE"},TP={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},o0e="request",a0e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],c0e="wc",f0e="auth",l0e="authKeys",u0e="pairingTopics",h0e="requests",AA=`${c0e}@${1.5}:${f0e}:`,L1=`${AA}:PUB_KEY`;var d0e=Object.defineProperty,p0e=Object.defineProperties,g0e=Object.getOwnPropertyDescriptors,CP=Object.getOwnPropertySymbols,m0e=Object.prototype.hasOwnProperty,b0e=Object.prototype.propertyIsEnumerable,eR=(t,e,r)=>e in t?d0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ar=(t,e)=>{for(var r in e||(e={}))m0e.call(e,r)&&eR(t,r,e[r]);if(CP)for(var r of CP(e))b0e.call(e,r)&&eR(t,r,e[r]);return t},vs=(t,e)=>p0e(t,g0e(e)),ge=(t,e,r)=>eR(t,typeof e!="symbol"?e+"":e,r);class E0e extends _Q{constructor(e){super(e),ge(this,"name",s0e),ge(this,"events",new OT),ge(this,"initialized",!1),ge(this,"requestQueue",{state:Af.idle,queue:[]}),ge(this,"sessionRequestQueue",{state:Af.idle,queue:[]}),ge(this,"requestQueueDelay",ve.ONE_SECOND),ge(this,"expectedPairingMethodMap",new Map),ge(this,"recentlyDeletedMap",new Map),ge(this,"recentlyDeletedLimit",200),ge(this,"relayMessageCache",[]),ge(this,"pendingSessions",new Map),ge(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ni)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay)))}),ge(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=vs(Ar({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:f}=n;let l=i,u,h=!1;try{if(l){const $=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=$.active}}catch($){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),$}if(!l||!h){const{topic:$,uri:V}=await this.client.core.pairing.create();l=$,u=V}if(!l){const{message:$}=Ne("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error($)}const g=await this.client.core.crypto.generateKeyPair(),m=Ni.wc_sessionPropose.req.ttl||ve.FIVE_MINUTES,w=pi(m),N=vs(Ar(Ar({requiredNamespaces:s,optionalNamespaces:o,relays:f??[{protocol:Sj}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Rf()}),I=Vt("session_connect",N.id),{reject:C,resolve:M,done:k}=fd(m,RP),L=({id:$})=>{$===N.id&&(this.client.events.off("proposal_expire",L),this.pendingSessions.delete(N.id),this.events.emit(I,{error:{message:RP,code:0}}))};return this.client.events.on("proposal_expire",L),this.events.once(I,({error:$,session:V})=>{this.client.events.off("proposal_expire",L),$?C($):V&&M(V)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:N,throwOnFailedPublish:!0,clientRpcId:N.id}),await this.setProposal(N.id,N),{uri:u,approval:k}}),ge(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ge(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Fa.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(O){throw o.setError(td.no_internet_connection),O}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(O){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(td.proposal_not_found),O}try{await this.isValidApprove(r)}catch(O){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(td.session_approve_namespace_validation_failure),O}const{id:a,relayProtocol:c,namespaces:f,sessionProperties:l,scopedProperties:u,sessionConfig:h}=r,g=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:w,requiredNamespaces:N,optionalNamespaces:I}=g;let C=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});C||(C=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Fa.session_approve_started,properties:{topic:m,trace:[Fa.session_approve_started,Fa.session_namespaces_validation_success]}}));const M=await this.client.core.crypto.generateKeyPair(),k=w.publicKey,L=await this.client.core.crypto.generateSharedKey(M,k),$=Ar(Ar(Ar({relay:{protocol:c??"irn"},namespaces:f,controller:{publicKey:M,metadata:this.client.metadata},expiry:pi(C0)},l&&{sessionProperties:l}),u&&{scopedProperties:u}),h&&{sessionConfig:h}),V=Br.relay;C.addTrace(Fa.subscribing_session_topic);try{await this.client.core.relayer.subscribe(L,{transportType:V})}catch(O){throw C.setError(td.subscribe_session_topic_failure),O}C.addTrace(Fa.subscribe_session_topic_success);const P=vs(Ar({},$),{topic:L,requiredNamespaces:N,optionalNamespaces:I,pairingTopic:m,acknowledged:!1,self:$.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:M,transportType:Br.relay});await this.client.session.set(L,P),C.addTrace(Fa.store_session);try{C.addTrace(Fa.publishing_session_settle),await this.sendRequest({topic:L,method:"wc_sessionSettle",params:$,throwOnFailedPublish:!0}).catch(O=>{throw C==null||C.setError(td.session_settle_publish_failure),O}),C.addTrace(Fa.session_settle_publish_success),C.addTrace(Fa.publishing_session_approve),await this.sendResult({id:a,topic:m,result:{relay:{protocol:c??"irn"},responderPublicKey:M},throwOnFailedPublish:!0}).catch(O=>{throw C==null||C.setError(td.session_approve_publish_failure),O}),C.addTrace(Fa.session_approve_publish_success)}catch(O){throw this.client.logger.error(O),this.client.session.delete(L,yr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(L),O}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:w.metadata}),await this.client.proposal.delete(a,yr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(L,pi(C0)),{topic:L,acknowledged:()=>Promise.resolve(this.client.session.get(L))}}),ge(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:Ni.wc_sessionPropose.reject}),await this.client.proposal.delete(n,yr("USER_DISCONNECTED")))}),ge(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(u){throw this.client.logger.error("update() -> isValidUpdate() failed"),u}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=fd(),c=Rf(),f=vd().toString(),l=this.client.session.get(n).namespaces;return this.events.once(Vt("session_update",c),({error:u})=>{u?a(u):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:f}).catch(u=>{this.client.logger.error(u),this.client.session.update(n,{namespaces:l}),a(u)}),{acknowledged:s}}),ge(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=Rf(),{done:s,resolve:o,reject:a}=fd();return this.events.once(Vt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,pi(C0)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ge(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(I){throw this.client.logger.error("request() -> isValidRequest() failed"),I}const{chainId:n,request:i,topic:s,expiry:o=Ni.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Br.relay&&await this.confirmOnlineStateOrThrow();const c=Rf(),f=vd().toString(),{done:l,resolve:u,reject:h}=fd(o,"Request expired. Please try again.");this.events.once(Vt("session_request",c),({error:I,result:C})=>{I?h(I):u(C)});const g="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:f,topic:s,method:g,params:{request:vs(Ar({},i),{expiryTimestamp:pi(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(I=>h(I)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await l();const w={request:vs(Ar({},i),{expiryTimestamp:pi(o)}),chainId:n},N=this.shouldSetTVF(g,w);return await Promise.all([new Promise(async I=>{await this.sendRequest(Ar({clientRpcId:c,relayRpcId:f,topic:s,method:g,params:w,expiry:o,throwOnFailedPublish:!0},N&&{tvf:this.getTVFParams(c,w)})).catch(C=>h(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),I()}),new Promise(async I=>{var C;if(!((C=a.sessionConfig)!=null&&C.disableDeepLink)){const M=await hae(this.client.core.storage,SP);await fae({id:c,topic:s,wcDeepLink:M})}I()}),l()]).then(I=>I[2])}),ge(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Br.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Tf(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):oa(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ge(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Rf(),s=vd().toString(),{done:o,resolve:a,reject:c}=fd();this.events.once(Vt("session_ping",i),({error:f})=>{f?c(f):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ge(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=vd().toString(),a=Rf();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ge(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:yr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Ne("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ge(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Nfe(n,r)))),ge(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ge(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Br.link_mode:Br.relay;o===Br.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:f,domain:l,nonce:u,type:h,exp:g,nbf:m,methods:w=[],expiry:N}=r,I=[...r.resources||[]],{topic:C,uri:M}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:M}});const k=await this.client.core.crypto.generateKeyPair(),L=D1(k);if(await Promise.all([this.client.auth.authKeys.set(L1,{responseTopic:L,publicKey:k}),this.client.auth.pairingTopics.set(L,{topic:L,pairingTopic:C})]),await this.client.core.relayer.subscribe(L,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${C}`),w.length>0){const{namespace:S}=Ip(a[0]);let v=nce(S,"request",w);M1(I)&&(v=sce(v,I.pop())),I.push(v)}const $=N&&N>Ni.wc_sessionAuthenticate.req.ttl?N:Ni.wc_sessionAuthenticate.req.ttl,V={authPayload:{type:h??"caip122",chains:a,statement:c,aud:f,domain:l,version:"1",nonce:u,iat:new Date().toISOString(),exp:g,nbf:m,resources:I},requester:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:pi($)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},O={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:pi(Ni.wc_sessionPropose.req.ttl),id:Rf()},{done:F,resolve:U,reject:b}=fd($,"Request expired"),y=Rf(),d=Vt("session_connect",O.id),p=Vt("session_request",y),E=async({error:S,session:v})=>{this.events.off(p,x),S?b(S):v&&U({session:v})},x=async S=>{var v,A,_;if(await this.deletePendingAuthRequest(y,{message:"fulfilled",code:0}),S.error){const Y=yr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return S.error.code===Y.code?void 0:(this.events.off(d,E),b(S.error.message))}await this.deleteProposal(O.id),this.events.off(d,E);const{cacaos:D,responder:G}=S.result,T=[],z=[];for(const Y of D){await AO({cacao:Y,projectId:this.client.core.projectId})||(this.client.logger.error(Y,"Signature verification failed"),b(yr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ne}=Y,ce=M1(ne.resources),le=[LS(ne.iss)],q=jv(ne.iss);if(ce){const B=NO(ce),J=xO(ce);T.push(...B),le.push(...J)}for(const B of le)z.push(`${B}:${q}`)}const j=await this.client.core.crypto.generateSharedKey(k,G.publicKey);let X;T.length>0&&(X={topic:j,acknowledged:!0,self:{publicKey:k,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:pi(C0),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:WO([...new Set(T)],[...new Set(z)]),transportType:o},await this.client.core.relayer.subscribe(j,{transportType:o}),await this.client.session.set(j,X),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:G.metadata}),X=this.client.session.get(j)),(v=this.client.metadata.redirect)!=null&&v.linkMode&&(A=G.metadata.redirect)!=null&&A.linkMode&&(_=G.metadata.redirect)!=null&&_.universal&&n&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(j,{transportType:Br.link_mode})),U({auths:D,session:X})};this.events.once(d,E),this.events.once(p,x);let R;try{if(s){const S=Vu("wc_sessionAuthenticate",V,y);this.client.core.history.set(C,S);const v=await this.client.core.crypto.encode("",S,{type:hy,encoding:rm});R=Jy(n,C,v)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:V,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:y}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:O,expiry:Ni.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:O.id})])}catch(S){throw this.events.off(d,E),this.events.off(p,x),S}return await this.setProposal(O.id,O),await this.setAuthRequest(y,{request:vs(Ar({},V),{verifyContext:{}}),pairingTopic:C,transportType:o}),{uri:R??M,response:F}}),ge(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[rd.authenticated_session_approve_started]}});try{this.isInitialized()}catch(N){throw s.setError(sm.no_internet_connection),N}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(sm.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Br.relay;a===Br.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),l=D1(c),u={type:Jl,receiverPublicKey:c,senderPublicKey:f},h=[],g=[];for(const N of i){if(!await AO({cacao:N,projectId:this.client.core.projectId})){s.setError(sm.invalid_cacao);const L=yr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:L,encodeOpts:u}),new Error(L.message)}s.addTrace(rd.cacaos_verified);const{p:I}=N,C=M1(I.resources),M=[LS(I.iss)],k=jv(I.iss);if(C){const L=NO(C),$=xO(C);h.push(...L),M.push(...$)}for(const L of M)g.push(`${L}:${k}`)}const m=await this.client.core.crypto.generateSharedKey(f,c);s.addTrace(rd.create_authenticated_session_topic);let w;if((h==null?void 0:h.length)>0){w={topic:m,acknowledged:!0,self:{publicKey:f,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:pi(C0),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:WO([...new Set(h)],[...new Set(g)]),transportType:a},s.addTrace(rd.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(N){throw s.setError(sm.subscribe_authenticated_session_topic_failure),N}s.addTrace(rd.subscribe_authenticated_session_topic_success),await this.client.session.set(m,w),s.addTrace(rd.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(rd.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:i,responder:{publicKey:f,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(N){throw s.setError(sm.authenticated_session_approve_publish_failure),N}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:w}}),ge(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Br.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=D1(o),f={type:Jl,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:f,rpcOpts:Ni.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,yr("USER_DISCONNECTED"))}),ge(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return tj(n,i)}),ge(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ge(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ge(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,yr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(SP).catch(f=>this.client.logger.warn(f)),this.getPendingSessionRequests().forEach(f=>{f.topic===i&&this.deletePendingSessionRequest(f.id,yr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Af.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ge(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(td.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,yr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ge(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Af.idle,this.client.events.emit("session_request_expire",{id:r}))}),ge(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ge(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ge(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,pi(Ni.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ge(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Br.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ge(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||pi(Ni.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ge(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:f,appLink:l,tvf:u}=r,h=Vu(i,s,c);let g;const m=!!l;try{const I=m?rm:qu;g=await this.client.core.crypto.encode(n,h,{encoding:I})}catch(I){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),I}let w;if(a0e.includes(i)){const I=Mf(JSON.stringify(h)),C=Mf(g);w=await this.client.core.verify.register({id:C,decryptedId:I})}const N=Ni[i].req;if(N.attestation=w,o&&(N.ttl=o),a&&(N.id=a),this.client.core.history.set(n,h),m){const I=Jy(l,n,g);await global.Linking.openURL(I,this.client.name)}else{const I=Ni[i].req;o&&(I.ttl=o),a&&(I.id=a),I.tvf=vs(Ar({},u),{correlationId:h.id}),f?(I.internal=vs(Ar({},I.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,g,I)):this.client.core.relayer.publish(n,g,I).catch(C=>this.client.logger.error(C))}return h.id}),ge(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,f=yA(n,s);let l;const u=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=u?rm:qu;l=await this.client.core.crypto.encode(i,f,vs(Ar({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let h,g;try{h=await this.client.core.history.get(i,n);const m=h.request;try{this.shouldSetTVF(m.method,m.params)&&(g=this.getTVFParams(n,m.params,s))}catch(w){this.client.logger.warn("sendResult() -> getTVFParams() failed",w)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),m}if(u){const m=Jy(c,i,l);await global.Linking.openURL(m,this.client.name)}else{const m=h.request.method,w=Ni[m].res;w.tvf=vs(Ar({},g),{correlationId:n}),o?(w.internal=vs(Ar({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,w)):this.client.core.relayer.publish(i,l,w).catch(N=>this.client.logger.error(N))}await this.client.core.history.resolve(f)}),ge(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,f=wA(n,s);let l;const u=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=u?rm:qu;l=await this.client.core.crypto.encode(i,f,vs(Ar({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let h;try{h=await this.client.core.history.get(i,n)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),g}if(u){const g=Jy(c,i,l);await global.Linking.openURL(g,this.client.name)}else{const g=h.request.method,m=a||Ni[g].res;this.client.core.relayer.publish(i,l,m)}await this.client.core.history.resolve(f)}),ge(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Fu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Fu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ge(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ge(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ge(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Af.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Af.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Af.idle}),ge(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ge(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ge(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Ne("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ge(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ge(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const f=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),f==null||f.setError(Tl.proposal_listener_not_found)),this.isValidConnect(Ar({},i.params));const l=a.expiryTimestamp||pi(Ni.wc_sessionPropose.req.ttl),u=Ar({id:c,pairingTopic:n,expiryTimestamp:l},a);await this.setProposal(c,u);const h=await this.getVerifyContext({attestationId:s,hash:Mf(JSON.stringify(i)),encryptedId:o,metadata:u.proposer.metadata});f==null||f.addTrace(xf.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:u,verifyContext:h})}catch(f){await this.sendError({id:c,topic:n,error:f,rpcOpts:Ni.wc_sessionPropose.autoReject}),this.client.logger.error(f)}}),ge(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Tf(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const f=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const l=await this.client.core.crypto.generateSharedKey(c,f);this.pendingSessions.set(s,{sessionTopic:l,pairingTopic:r,proposalId:s,publicKey:c});const u=await this.client.core.relayer.subscribe(l,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:r})}else if(oa(n)){await this.client.proposal.delete(s,yr("USER_DISCONNECTED"));const o=Vt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ge(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:f,sessionProperties:l,scopedProperties:u,sessionConfig:h}=n.params,g=[...this.pendingSessions.values()].find(N=>N.sessionTopic===r);if(!g)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(g.proposalId),w=vs(Ar(Ar(Ar({topic:r,relay:o,expiry:c,namespaces:f,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),u&&{scopedProperties:u}),h&&{sessionConfig:h}),{transportType:Br.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(Vt("session_connect",g.proposalId),{session:w}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Tf(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Vt("session_approve",i),{})):oa(n)&&(await this.client.session.delete(r,yr("USER_DISCONNECTED")),this.events.emit(Vt("session_approve",i),{error:n.error}))}),ge(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=nm.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:yr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ar({topic:r},i));try{nm.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw nm.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ge(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ge(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Vt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Tf(n)?this.events.emit(Vt("session_update",i),{}):oa(n)&&this.events.emit(Vt("session_update",i),{error:n.error})}),ge(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,pi(C0)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ge(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Vt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Tf(n)?this.events.emit(Vt("session_extend",i),{}):oa(n)&&this.events.emit(Vt("session_extend",i),{error:n.error})}),ge(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ge(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Vt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Tf(n)?this.events.emit(Vt("session_ping",i),{}):oa(n)&&this.events.emit(Vt("session_ping",i),{error:n.error})},500)}),ge(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Si.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:yr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ge(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:f,transportType:l}=r,{id:u,params:h}=a;try{await this.isValidRequest(Ar({topic:o},h));const g=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:Mf(JSON.stringify(Vu("wc_sessionRequest",h,u))),encryptedId:f,metadata:g.peer.metadata,transportType:l}),w={id:u,topic:o,params:h,verifyContext:m};await this.setPendingSessionRequest(w),l===Br.link_mode&&(n=g.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(g){await this.sendError({id:u,topic:o,error:g}),this.client.logger.error(g)}}),ge(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Vt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Tf(n)?this.events.emit(Vt("session_request",i),{result:n.result}):oa(n)&&this.events.emit(Vt("session_request",i),{error:n.error})}),ge(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=nm.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ar({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),nm.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Tf(n)?this.events.emit(Vt("session_request",i),{result:n.result}):oa(n)&&this.events.emit(Vt("session_request",i),{error:n.error})}),ge(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:f,authPayload:l,expiryTimestamp:u}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Mf(JSON.stringify(s)),encryptedId:a,metadata:f.metadata,transportType:c}),g={requester:f,pairingTopic:i,id:s.id,authPayload:l,verifyContext:h,expiryTimestamp:u};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:c}),c===Br.link_mode&&(n=f.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(f.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(f){this.client.logger.error(f);const l=s.params.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),g={type:Jl,receiverPublicKey:l,senderPublicKey:u};await this.sendError({id:s.id,topic:i,error:f,encodeOpts:g,rpcOpts:Ni.wc_sessionAuthenticate.autoReject,appLink:h})}}),ge(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ge(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Af.idle,this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay))}),ge(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Vt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Vt("session_request",s.request.id),{error:n})})}),ge(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Af.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Af.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ge(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),ge(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Vu("wc_sessionPropose",vs(Ar({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),ge(this,"isValidConnect",async r=>{if(!eo(r)){const{message:f}=Ne("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(f)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Hi(n)||await this.isValidPairingTopic(n),!kfe(c,!0)){const{message:f}=Ne("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(f)}if(!Hi(i)&&zb(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Hi(s)&&zb(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Hi(o)||this.validateSessionProps(o,"sessionProperties"),!Hi(a)){this.validateSessionProps(a,"scopedProperties");const f=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(l=>f.includes(l)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(f)}`)}}),ge(this,"validateNamespaces",(r,n)=>{const i=Dfe(r,"connect()",n);if(i)throw new Error(i.message)}),ge(this,"isValidApprove",async r=>{if(!eo(r))throw new Error(Ne("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),f=hx(i,"approve()");if(f)throw new Error(f.message);const l=VO(c.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!En(s,!0)){const{message:u}=Ne("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(u)}if(Hi(o)||this.validateSessionProps(o,"sessionProperties"),!Hi(a)){this.validateSessionProps(a,"scopedProperties");const u=new Set(Object.keys(i));if(!Object.keys(a).every(h=>u.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(u).join(", ")}`)}}),ge(this,"isValidReject",async r=>{if(!eo(r)){const{message:s}=Ne("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Ffe(i)){const{message:s}=Ne("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ge(this,"isValidSessionSettleRequest",r=>{if(!eo(r)){const{message:f}=Ne("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(f)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!Ej(n)){const{message:f}=Ne("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const a=Tfe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=hx(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Fu(o)){const{message:f}=Ne("EXPIRED","onSessionSettleRequest()");throw new Error(f)}}),ge(this,"isValidUpdate",async r=>{if(!eo(r)){const{message:c}=Ne("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=hx(i,"update()");if(o)throw new Error(o.message);const a=VO(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ge(this,"isValidExtend",async r=>{if(!eo(r)){const{message:i}=Ne("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ge(this,"isValidRequest",async r=>{if(!eo(r)){const{message:c}=Ne("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!qO(a,s)){const{message:c}=Ne("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!$fe(i)){const{message:c}=Ne("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!jfe(a,s,i.method)){const{message:c}=Ne("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!qfe(o,yx)){const{message:c}=Ne("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${yx.min} and ${yx.max}`);throw new Error(c)}}),ge(this,"isValidRespond",async r=>{var n;if(!eo(r)){const{message:o}=Ne("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!Bfe(s)){const{message:o}=Ne("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ge(this,"isValidPing",async r=>{if(!eo(r)){const{message:i}=Ne("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ge(this,"isValidEmit",async r=>{if(!eo(r)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!qO(o,s)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Gfe(i)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!zfe(o,s,i.name)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ge(this,"isValidDisconnect",async r=>{if(!eo(r)){const{message:i}=Ne("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ge(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!En(i,!1))throw new Error("uri is required parameter");if(!En(s,!1))throw new Error("domain is required parameter");if(!En(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Ip(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Ip(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ge(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||eb,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Br.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const f=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});f&&(c.verified.origin=f.origin,c.verified.isScam=f.isScam,c.verified.validation=f.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(f){this.client.logger.warn(f)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ge(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Ne("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ge(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ge(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ge(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Ne("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ge(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,f,l,u,h;return!r||n!==Br.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((f=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:f.universal)!==""&&((l=r==null?void 0:r.redirect)==null?void 0:l.universal)!==void 0&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ge(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),ge(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=pO(r,"topic")||"",i=decodeURIComponent(pO(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Br.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ge(this,"registerLinkModeListeners",async()=>{var r;if(ZT()||xh()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ge(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(TP).includes(i.method)}),ge(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,i);return vs(Ar({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ge(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ge(this,"extractTxHashesFromResult",(r,n)=>{try{const i=TP[r];if(typeof n=="string")return[n];const s=n[i.key];if(Wd(s))return r==="solana_signAllTransactions"?s.map(o=>zae(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Si.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(L1)?this.client.auth.authKeys.get(L1):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Br.link_mode?rm:qu});cC(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Mf(n)})):vA(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(ia.expired,async e=>{const{topic:r,id:n}=qG(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ne("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ne("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(pd.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(pd.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!En(e,!1)){const{message:r}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Fu(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ne("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!En(e,!1)){const{message:r}=Ne("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Ne("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Fu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Ne("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Ne("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(En(e,!1)){const{message:r}=Ne("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ne("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Lfe(e)){const{message:r}=Ne("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ne("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Fu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Ne("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class y0e extends d0{constructor(e,r){super(e,r,n0e,fC),this.core=e,this.logger=r}}let w0e=class extends d0{constructor(e,r){super(e,r,i0e,fC),this.core=e,this.logger=r}};class v0e extends d0{constructor(e,r){super(e,r,o0e,fC,n=>n.id),this.core=e,this.logger=r}}class _0e extends d0{constructor(e,r){super(e,r,l0e,AA,()=>L1),this.core=e,this.logger=r}}class A0e extends d0{constructor(e,r){super(e,r,u0e,AA),this.core=e,this.logger=r}}class N0e extends d0{constructor(e,r){super(e,r,h0e,AA,n=>n.id),this.core=e,this.logger=r}}var x0e=Object.defineProperty,I0e=(t,e,r)=>e in t?x0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wx=(t,e,r)=>I0e(t,typeof e!="symbol"?e+"":e,r);class S0e{constructor(e,r){this.core=e,this.logger=r,wx(this,"authKeys"),wx(this,"pairingTopics"),wx(this,"requests"),this.authKeys=new _0e(this.core,this.logger),this.pairingTopics=new A0e(this.core,this.logger),this.requests=new N0e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var R0e=Object.defineProperty,T0e=(t,e,r)=>e in t?R0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ct=(t,e,r)=>T0e(t,typeof e!="symbol"?e+"":e,r);let C0e=class Wj extends vQ{constructor(e){super(e),Ct(this,"protocol",Gj),Ct(this,"version",jj),Ct(this,"name",Ex.name),Ct(this,"metadata"),Ct(this,"core"),Ct(this,"logger"),Ct(this,"events",new _a.EventEmitter),Ct(this,"engine"),Ct(this,"session"),Ct(this,"proposal"),Ct(this,"pendingRequest"),Ct(this,"auth"),Ct(this,"signConfig"),Ct(this,"on",(n,i)=>this.events.on(n,i)),Ct(this,"once",(n,i)=>this.events.once(n,i)),Ct(this,"off",(n,i)=>this.events.off(n,i)),Ct(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Ct(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Ct(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Ct(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Ct(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Ct(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||Ex.name,this.metadata=(e==null?void 0:e.metadata)||zG(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ZE(wg({level:(e==null?void 0:e.logger)||Ex.logger}));this.core=(e==null?void 0:e.core)||new r0e(e),this.logger=ws(r,this.name),this.session=new w0e(this.core,this.logger),this.proposal=new y0e(this.core,this.logger),this.pendingRequest=new v0e(this.core,this.logger),this.engine=new E0e(this),this.auth=new S0e(this.core,this.logger)}static async init(e){const r=new Wj(e);return await r.initialize(),r}get context(){return co(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ve.toMiliseconds(ve.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var tR={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof yn<"u"&&yn,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof yn<"u"&&yn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(p){return p&&DataView.prototype.isPrototypeOf(p)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(p){return p&&l.indexOf(Object.prototype.toString.call(p))>-1};function h(p){if(typeof p!="string"&&(p=String(p)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(p)||p==="")throw new TypeError('Invalid character in header field name: "'+p+'"');return p.toLowerCase()}function g(p){return typeof p!="string"&&(p=String(p)),p}function m(p){var E={next:function(){var x=p.shift();return{done:x===void 0,value:x}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function w(p){this.map={},p instanceof w?p.forEach(function(E,x){this.append(x,E)},this):Array.isArray(p)?p.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):p&&Object.getOwnPropertyNames(p).forEach(function(E){this.append(E,p[E])},this)}w.prototype.append=function(p,E){p=h(p),E=g(E);var x=this.map[p];this.map[p]=x?x+", "+E:E},w.prototype.delete=function(p){delete this.map[h(p)]},w.prototype.get=function(p){return p=h(p),this.has(p)?this.map[p]:null},w.prototype.has=function(p){return this.map.hasOwnProperty(h(p))},w.prototype.set=function(p,E){this.map[h(p)]=g(E)},w.prototype.forEach=function(p,E){for(var x in this.map)this.map.hasOwnProperty(x)&&p.call(E,this.map[x],x,this)},w.prototype.keys=function(){var p=[];return this.forEach(function(E,x){p.push(x)}),m(p)},w.prototype.values=function(){var p=[];return this.forEach(function(E){p.push(E)}),m(p)},w.prototype.entries=function(){var p=[];return this.forEach(function(E,x){p.push([x,E])}),m(p)},c.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function N(p){if(!p._noBody){if(p.bodyUsed)return Promise.reject(new TypeError("Already read"));p.bodyUsed=!0}}function I(p){return new Promise(function(E,x){p.onload=function(){E(p.result)},p.onerror=function(){x(p.error)}})}function C(p){var E=new FileReader,x=I(E);return E.readAsArrayBuffer(p),x}function M(p){var E=new FileReader,x=I(E),R=/charset=([A-Za-z0-9_-]+)/.exec(p.type),S=R?R[1]:"utf-8";return E.readAsText(p,S),x}function k(p){for(var E=new Uint8Array(p),x=new Array(E.length),R=0;R<E.length;R++)x[R]=String.fromCharCode(E[R]);return x.join("")}function L(p){if(p.slice)return p.slice(0);var E=new Uint8Array(p.byteLength);return E.set(new Uint8Array(p)),E.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(p){this.bodyUsed=this.bodyUsed,this._bodyInit=p,p?typeof p=="string"?this._bodyText=p:c.blob&&Blob.prototype.isPrototypeOf(p)?this._bodyBlob=p:c.formData&&FormData.prototype.isPrototypeOf(p)?this._bodyFormData=p:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)?this._bodyText=p.toString():c.arrayBuffer&&c.blob&&f(p)?(this._bodyArrayBuffer=L(p.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(p)||u(p))?this._bodyArrayBuffer=L(p):this._bodyText=p=Object.prototype.toString.call(p):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof p=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var p=N(this);if(p)return p;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var p=N(this);return p||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var p=N(this);if(p)return p;if(this._bodyBlob)return M(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var V=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(p){var E=p.toUpperCase();return V.indexOf(E)>-1?E:p}function O(p,E){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var x=E.body;if(p instanceof O){if(p.bodyUsed)throw new TypeError("Already read");this.url=p.url,this.credentials=p.credentials,E.headers||(this.headers=new w(p.headers)),this.method=p.method,this.mode=p.mode,this.signal=p.signal,!x&&p._bodyInit!=null&&(x=p._bodyInit,p.bodyUsed=!0)}else this.url=String(p);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new w(E.headers)),this.method=P(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in a){var v=new AbortController;return v.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var S=/\?/;this.url+=(S.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function F(p){var E=new FormData;return p.trim().split("&").forEach(function(x){if(x){var R=x.split("="),S=R.shift().replace(/\+/g," "),v=R.join("=").replace(/\+/g," ");E.append(decodeURIComponent(S),decodeURIComponent(v))}}),E}function U(p){var E=new w,x=p.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var S=R.split(":"),v=S.shift().trim();if(v){var A=S.join(":").trim();try{E.append(v,A)}catch(_){console.warn("Response "+_.message)}}}),E}$.call(O.prototype);function b(p,E){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new w(E.headers),this.url=E.url||"",this._initBody(p)}$.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},b.error=function(){var p=new b(null,{status:200,statusText:""});return p.ok=!1,p.status=0,p.type="error",p};var y=[301,302,303,307,308];b.redirect=function(p,E){if(y.indexOf(E)===-1)throw new RangeError("Invalid status code");return new b(null,{status:E,headers:{location:p}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(E,x){this.message=E,this.name=x;var R=Error(E);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function d(p,E){return new Promise(function(x,R){var S=new O(p,E);if(S.signal&&S.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var v=new XMLHttpRequest;function A(){v.abort()}v.onload=function(){var G={statusText:v.statusText,headers:U(v.getAllResponseHeaders()||"")};S.url.indexOf("file://")===0&&(v.status<200||v.status>599)?G.status=200:G.status=v.status,G.url="responseURL"in v?v.responseURL:G.headers.get("X-Request-URL");var T="response"in v?v.response:v.responseText;setTimeout(function(){x(new b(T,G))},0)},v.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},v.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request timed out"))},0)},v.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function _(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(v.open(S.method,_(S.url),!0),S.credentials==="include"?v.withCredentials=!0:S.credentials==="omit"&&(v.withCredentials=!1),"responseType"in v&&(c.blob?v.responseType="blob":c.arrayBuffer&&(v.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof w||a.Headers&&E.headers instanceof a.Headers)){var D=[];Object.getOwnPropertyNames(E.headers).forEach(function(G){D.push(h(G)),v.setRequestHeader(G,g(E.headers[G]))}),S.headers.forEach(function(G,T){D.indexOf(T)===-1&&v.setRequestHeader(T,G)})}else S.headers.forEach(function(G,T){v.setRequestHeader(T,G)});S.signal&&(S.signal.addEventListener("abort",A),v.onreadystatechange=function(){v.readyState===4&&S.signal.removeEventListener("abort",A)}),v.send(typeof S._bodyInit>"u"?null:S._bodyInit)})}return d.polyfill=!0,a.fetch||(a.fetch=d,a.Headers=w,a.Request=O,a.Response=b),o.Headers=w,o.Request=O,o.Response=b,o.fetch=d,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(tR,tR.exports);var O0e=tR.exports;const OP=va(O0e);var P0e=Object.defineProperty,U0e=Object.defineProperties,M0e=Object.getOwnPropertyDescriptors,PP=Object.getOwnPropertySymbols,D0e=Object.prototype.hasOwnProperty,k0e=Object.prototype.propertyIsEnumerable,UP=(t,e,r)=>e in t?P0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MP=(t,e)=>{for(var r in e||(e={}))D0e.call(e,r)&&UP(t,r,e[r]);if(PP)for(var r of PP(e))k0e.call(e,r)&&UP(t,r,e[r]);return t},DP=(t,e)=>U0e(t,M0e(e));const L0e={Accept:"application/json","Content-Type":"application/json"},F0e="POST",kP={headers:L0e,method:F0e},LP=10;let Ef=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new _a.EventEmitter,this.isAvailable=!1,this.registering=!1,!QO(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=tu(e),n=await(await OP(this.url,DP(MP({},kP),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!QO(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=tu({id:1,jsonrpc:"2.0",method:"test",params:[]});await OP(e,DP(MP({},kP),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Bd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=wA(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return vj(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>LP&&this.events.setMaxListeners(LP)}};const FP="error",$0e="wss://relay.walletconnect.org",B0e="wc",G0e="universal_provider",Yy=`${B0e}@2:${G0e}:`,Hj="https://rpc.walletconnect.org/v1/",Z0="generic",j0e=`${Hj}bundler`,Ia={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function z0e(){}function lC(t){return t==null||typeof t!="object"&&typeof t!="function"}function uC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function W0e(t){if(lC(t))return t;if(Array.isArray(t)||uC(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function $P(t){return typeof t=="object"&&t!==null}function qj(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Vj(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const H0e="[object RegExp]",Kj="[object String]",Jj="[object Number]",Xj="[object Boolean]",Yj="[object Arguments]",q0e="[object Symbol]",V0e="[object Date]",K0e="[object Map]",J0e="[object Set]",X0e="[object Array]",Y0e="[object ArrayBuffer]",Z0e="[object Object]",Q0e="[object DataView]",epe="[object Uint8Array]",tpe="[object Uint8ClampedArray]",rpe="[object Uint16Array]",npe="[object Uint32Array]",ipe="[object Int8Array]",spe="[object Int16Array]",ope="[object Int32Array]",ape="[object Float32Array]",cpe="[object Float64Array]";function fpe(t,e){return mp(t,void 0,t,new Map,e)}function mp(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(lC(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=mp(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,mp(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(mp(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(uC(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=mp(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),gd(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),gd(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),gd(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,gd(o,t,r,n,i),o}if(typeof t=="object"&&lpe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),gd(o,t,r,n,i),o}return t}function gd(t,e,r=t,n,i){const s=[...Object.keys(e),...qj(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=mp(e[a],a,r,n,i))}}function lpe(t){switch(Vj(t)){case Yj:case X0e:case Y0e:case Q0e:case Xj:case V0e:case ape:case cpe:case ipe:case spe:case ope:case K0e:case Jj:case Z0e:case H0e:case J0e:case Kj:case q0e:case epe:case tpe:case rpe:case npe:return!0;default:return!1}}function upe(t,e){return fpe(t,(r,n,i,s)=>{const o=e==null?void 0:e(r,n,i,s);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Jj:case Kj:case Xj:{const a=new t.constructor(t==null?void 0:t.valueOf());return gd(a,t),a}case Yj:{const a={};return gd(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function BP(t){return upe(t)}function GP(t){return t!==null&&typeof t=="object"&&Vj(t)==="[object Arguments]"}function hpe(t){return uC(t)}function dpe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ppe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=rR(i,o,n,new Map)}return i}function rR(t,e,r,n){if(lC(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return W0e(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...qj(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(GP(a)&&(a={...a}),GP(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=BP(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],u=Reflect.ownKeys(c);for(let h=0;h<u.length;h++){const g=u[h];l[g]=c[g]}c=l}else c=[];const f=r(c,a,o,t,e,n);f!=null?t[o]=f:Array.isArray(a)||$P(c)&&$P(a)?t[o]=rR(c,a,r,n):c==null&&dpe(a)?t[o]=rR({},a,r,n):c==null&&hpe(a)?t[o]=BP(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function gpe(t,...e){return ppe(t,...e,z0e)}var mpe=Object.defineProperty,bpe=Object.defineProperties,Epe=Object.getOwnPropertyDescriptors,jP=Object.getOwnPropertySymbols,ype=Object.prototype.hasOwnProperty,wpe=Object.prototype.propertyIsEnumerable,zP=(t,e,r)=>e in t?mpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zy=(t,e)=>{for(var r in e||(e={}))ype.call(e,r)&&zP(t,r,e[r]);if(jP)for(var r of jP(e))wpe.call(e,r)&&zP(t,r,e[r]);return t},vpe=(t,e)=>bpe(t,Epe(e));function Ro(t,e,r){var n;const i=Ip(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${Hj}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function p0(t){return t.includes(":")?t.split(":")[1]:t}function Zj(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function _pe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function vx(t={},e={}){const r=WP(t),n=WP(e);return gpe(r,n)}function WP(t){var e,r,n,i;const s={};if(!zb(t))return s;for(const[o,a]of Object.entries(t)){const c=sC(o)?[o]:a.chains,f=a.methods||[],l=a.events||[],u=a.rpcMap||{},h=Um(o);s[h]=vpe(Zy(Zy({},s[h]),a),{chains:U1(c,(e=s[h])==null?void 0:e.chains),methods:U1(f,(r=s[h])==null?void 0:r.methods),events:U1(l,(n=s[h])==null?void 0:n.events),rpcMap:Zy(Zy({},u),(i=s[h])==null?void 0:i.rpcMap)})}return s}function Ape(t){return t.includes(":")?t.split(":")[2]:t}function HP(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=sC(r)?[r]:n.chains?n.chains:Zj(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function _x(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Qj={},jt=t=>Qj[t],Ax=(t,e)=>{Qj[t]=e};var Npe=Object.defineProperty,xpe=(t,e,r)=>e in t?Npe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O0=(t,e,r)=>xpe(t,typeof e!="symbol"?e+"":e,r);class Ipe{constructor(e){O0(this,"name","polkadot"),O0(this,"client"),O0(this,"httpProviders"),O0(this,"events"),O0(this,"namespace"),O0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=p0(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var Spe=Object.defineProperty,Rpe=Object.defineProperties,Tpe=Object.getOwnPropertyDescriptors,qP=Object.getOwnPropertySymbols,Cpe=Object.prototype.hasOwnProperty,Ope=Object.prototype.propertyIsEnumerable,nR=(t,e,r)=>e in t?Spe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,VP=(t,e)=>{for(var r in e||(e={}))Cpe.call(e,r)&&nR(t,r,e[r]);if(qP)for(var r of qP(e))Ope.call(e,r)&&nR(t,r,e[r]);return t},KP=(t,e)=>Rpe(t,Tpe(e)),P0=(t,e,r)=>nR(t,typeof e!="symbol"?e+"":e,r);class Ppe{constructor(e){P0(this,"name","eip155"),P0(this,"client"),P0(this,"chainId"),P0(this,"namespace"),P0(this,"httpProviders"),P0(this,"events"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Ro(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(p0(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i;const s=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:KP(VP({},o.sessionProperties||{}),{capabilities:KP(VP({},a||{}),{[s]:c})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return c}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Vu("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${j0e}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var Upe=Object.defineProperty,Mpe=(t,e,r)=>e in t?Upe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U0=(t,e,r)=>Mpe(t,typeof e!="symbol"?e+"":e,r);class Dpe{constructor(e){U0(this,"name","solana"),U0(this,"client"),U0(this,"httpProviders"),U0(this,"events"),U0(this,"namespace"),U0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=p0(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var kpe=Object.defineProperty,Lpe=(t,e,r)=>e in t?kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M0=(t,e,r)=>Lpe(t,typeof e!="symbol"?e+"":e,r);class Fpe{constructor(e){M0(this,"name","cosmos"),M0(this,"client"),M0(this,"httpProviders"),M0(this,"events"),M0(this,"namespace"),M0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=p0(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var $pe=Object.defineProperty,Bpe=(t,e,r)=>e in t?$pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D0=(t,e,r)=>Bpe(t,typeof e!="symbol"?e+"":e,r);class Gpe{constructor(e){D0(this,"name","algorand"),D0(this,"client"),D0(this,"httpProviders"),D0(this,"events"),D0(this,"namespace"),D0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Ro(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new xa(new Ef(n,jt("disableProviderPing")))}}var jpe=Object.defineProperty,zpe=(t,e,r)=>e in t?jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k0=(t,e,r)=>zpe(t,typeof e!="symbol"?e+"":e,r);class Wpe{constructor(e){k0(this,"name","cip34"),k0(this,"client"),k0(this,"httpProviders"),k0(this,"events"),k0(this,"namespace"),k0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=p0(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var Hpe=Object.defineProperty,qpe=(t,e,r)=>e in t?Hpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L0=(t,e,r)=>qpe(t,typeof e!="symbol"?e+"":e,r);class Vpe{constructor(e){L0(this,"name","elrond"),L0(this,"client"),L0(this,"httpProviders"),L0(this,"events"),L0(this,"namespace"),L0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=p0(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var Kpe=Object.defineProperty,Jpe=(t,e,r)=>e in t?Kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F0=(t,e,r)=>Jpe(t,typeof e!="symbol"?e+"":e,r);class Xpe{constructor(e){F0(this,"name","multiversx"),F0(this,"client"),F0(this,"httpProviders"),F0(this,"events"),F0(this,"namespace"),F0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=p0(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var Ype=Object.defineProperty,Zpe=(t,e,r)=>e in t?Ype(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$0=(t,e,r)=>Zpe(t,typeof e!="symbol"?e+"":e,r);class Qpe{constructor(e){$0(this,"name","near"),$0(this,"client"),$0(this,"httpProviders"),$0(this,"events"),$0(this,"namespace"),$0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ro(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace);return typeof n>"u"?void 0:new xa(new Ef(n,jt("disableProviderPing")))}}var ege=Object.defineProperty,tge=(t,e,r)=>e in t?ege(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B0=(t,e,r)=>tge(t,typeof e!="symbol"?e+"":e,r);class rge{constructor(e){B0(this,"name","tezos"),B0(this,"client"),B0(this,"httpProviders"),B0(this,"events"),B0(this,"namespace"),B0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ro(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace);return typeof n>"u"?void 0:new xa(new Ef(n))}}var nge=Object.defineProperty,ige=(t,e,r)=>e in t?nge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G0=(t,e,r)=>ige(t,typeof e!="symbol"?e+"":e,r);class sge{constructor(e){G0(this,"name",Z0),G0(this,"client"),G0(this,"httpProviders"),G0(this,"events"),G0(this,"namespace"),G0(this,"chainId"),this.namespace=e.namespace,this.events=jt("events"),this.client=jt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ia.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=Ip(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ro(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xa(new Ef(n,jt("disableProviderPing")))}}var oge=Object.defineProperty,age=Object.defineProperties,cge=Object.getOwnPropertyDescriptors,JP=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,lge=Object.prototype.propertyIsEnumerable,iR=(t,e,r)=>e in t?oge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qy=(t,e)=>{for(var r in e||(e={}))fge.call(e,r)&&iR(t,r,e[r]);if(JP)for(var r of JP(e))lge.call(e,r)&&iR(t,r,e[r]);return t},Nx=(t,e)=>age(t,cge(e)),zo=(t,e,r)=>iR(t,typeof e!="symbol"?e+"":e,r);let uge=class ez{constructor(e){zo(this,"client"),zo(this,"namespaces"),zo(this,"optionalNamespaces"),zo(this,"sessionProperties"),zo(this,"scopedProperties"),zo(this,"events",new OT),zo(this,"rpcProviders",{}),zo(this,"session"),zo(this,"providerOpts"),zo(this,"logger"),zo(this,"uri"),zo(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ZE(wg({level:(e==null?void 0:e.logger)||FP})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new ez(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Qy({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,yA(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:yr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=HP(this.session.namespaces);this.namespaces=vx(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=HP(i.namespaces);return this.namespaces=vx(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e),s=this.getProvider(n);s.name===Z0?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Wd(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await C0e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||FP,relayUrl:this.providerOpts.relayUrl||$0e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Um(r)))];Ax("client",this.client),Ax("events",this.events),Ax("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=_pe(r,this.session),i=Zj(n),s=vx(this.namespaces,this.optionalNamespaces),o=Nx(Qy({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new Ppe({namespace:o});break;case"algorand":this.rpcProviders[r]=new Gpe({namespace:o});break;case"solana":this.rpcProviders[r]=new Dpe({namespace:o});break;case"cosmos":this.rpcProviders[r]=new Fpe({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Ipe({namespace:o});break;case"cip34":this.rpcProviders[r]=new Wpe({namespace:o});break;case"elrond":this.rpcProviders[r]=new Vpe({namespace:o});break;case"multiversx":this.rpcProviders[r]=new Xpe({namespace:o});break;case"near":this.rpcProviders[r]=new Qpe({namespace:o});break;case"tezos":this.rpcProviders[r]=new rge({namespace:o});break;default:this.rpcProviders[Z0]?this.rpcProviders[Z0].updateNamespace(o):this.rpcProviders[Z0]=new sge({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Wd(o)&&this.events.emit("accountsChanged",o.map(Ape))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Um(o),f=_x(o)!==_x(a)?`${c}:${_x(a)}`:o;this.onChainChanged(f)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=Nx(Qy({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Nx(Qy({},yr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ia.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Z0]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Um(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Um(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);i&&(r||this.getProvider(n).setDefaultChain(i),this.namespaces[n]?this.namespaces[n].defaultChain=i:this.namespaces[`${n}:${i}`]?this.namespaces[`${n}:${i}`].defaultChain=i:this.namespaces[`${n}:${i}`]={defaultChain:i},this.events.emit("chainChanged",i),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Yy}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Yy}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Yy}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Yy)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const hge="https://secure.walletconnect.org/sdk",dge=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||hge,pge=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",gge=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Me={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},wn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ld=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),An=Yr({...ld}),qi={state:An,subscribeKey(t,e){return To(An,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ke.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){An.message=ld.message,An.variant=ld.variant,An.svg=ld.svg,An.open=ld.open,An.autoClose=ld.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=ld.autoClose}){An.open?(An.open=!1,setTimeout(()=>{An.message=t,An.variant=r,An.svg=e,An.open=!0,An.autoClose=n},150)):(An.message=t,An.variant=r,An.svg=e,An.open=!0,An.autoClose=n)}},rb={getSIWX(){return be.state.siwx},async initializeIfEnabled(){var s;const t=be.state.siwx,e=Q.getActiveCaipAddress();if(!(t&&e))return;const[r,n,i]=e.split(":");if(Q.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,i)).length)return;await vn.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Rr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Sr._getClient())==null?void 0:s.disconnect().catch(console.error)),rr.reset("Connect"),qi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=be.state.siwx,e=Ke.getPlainAddress(Q.getActiveCaipAddress()),r=Q.getActiveCaipNetwork(),n=Sr._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();ft.getConnectorId(r.chainNamespace)===_e.CONNECTOR_ID.AUTH&&rr.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),vn.close(),Rr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!vn.state.open||rr.state.view==="ApproveTransaction")&&await vn.open({view:"SIWXSignMessage"}),s.isSmartAccount?qi.showError("This application might not support Smart Accounts"):qi.showError("Signature declined"),Rr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Sr.disconnect():vn.close(),rr.reset("Connect"),Rr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=be.state.siwx,e=Ke.getPlainAddress(Q.getActiveCaipAddress()),r=Q.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=rr.state.view==="ApproveTransaction",n=rr.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var a,c,f;const n=rb.getSIWX(),i=new Set(e.map(l=>l.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const s=await n.createMessage({chainId:((a=Q.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...e.filter(l=>l!==s.chainId)]});if(qi.showLoading("Authenticating...",{autoClose:!1}),Fe.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(f=o==null?void 0:o.auths)!=null&&f.length){const l=o.auths.map(u=>{const h=t.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud,version:u.p.version||s.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:h,signature:u.s.s,cacao:u}});try{await n.setSessions(l),Rr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:rb.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),Rr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:rb.getSIWXEventProperties()}),await t.disconnect().catch(console.error),u}finally{qi.hide()}}return!0},getSIWXEventProperties(){var t;return{network:((t=Q.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Or=Yr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),mge={state:Or,subscribe(t){return ks(Or,()=>t(Or))},setLastNetworkInView(t){Or.lastNetworkInView=t},async fetchTransactions(t,e){var r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Or.loading=!0;try{const n=await qe.fetchTransactions({account:t,cursor:Or.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),i=this.filterSpamTransactions(n.data),s=this.filterByConnectedChain(i),o=[...Or.transactions,...s];Or.loading=!1,e==="coinbase"?Or.coinbaseTransactions=this.groupTransactionsByYearAndMonth(Or.coinbaseTransactions,n.data):(Or.transactions=o,Or.transactionsByYear=this.groupTransactionsByYearAndMonth(Or.transactionsByYear,s)),Or.empty=o.length===0,Or.next=n.next?n.next:void 0}catch{Rr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:be.state.projectId,cursor:Or.next,isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT}}),qi.showError("Failed to fetch transactions"),Or.loading=!1,Or.empty=!0,Or.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(f=>f.id!==n.id);r[i]={...o,[s]:[...c,n].sort((f,l)=>new Date(l.metadata.minedAt).getTime()-new Date(f.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var i;return((i=n.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=Q.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Or.next=void 0},resetTransactions(){Or.transactions=[],Or.transactionsByYear={},Or.lastNetworkInView=void 0,Or.loading=!1,Or.empty=!1,Or.next=void 0}},Pr=Yr({wcError:!1,buffering:!1,status:"disconnected"});let j0;const Sr={state:Pr,subscribeKey(t,e){return To(Pr,t,e)},_getClient(){return Pr._client},setClient(t){Pr._client=Fd(t)},async connectWalletConnect(){var t,e,r,n;if(Ke.isTelegram()||Ke.isSafari()&&Ke.isIos()){if(j0){await j0,j0=void 0;return}if(!Ke.isPairingExpired(Pr==null?void 0:Pr.wcPairingExpiry)){const i=Pr.wcUri;Pr.wcUri=i;return}j0=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await j0,j0=void 0,Pr.wcPairingExpiry=void 0,this.state.status="connected"}else await((n=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(t,e,r=!0){var n,i;await((i=(n=this._getClient())==null?void 0:n.connectExternal)==null?void 0:i.call(n,t)),r&&Q.setActiveNamespace(e)},async reconnectExternal(t){var r,n;await((n=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||Q.state.activeChain;e&&ft.setConnectorId(t.id,e)},async setPreferredAccountType(t){var r;vn.setLoading(!0,Q.state.activeChain);const e=ft.getAuthConnector();e&&(await(e==null?void 0:e.provider.setPreferredAccount(t)),await this.reconnectExternal(e),vn.setLoading(!1,Q.state.activeChain),Rr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){Pr.wcUri=void 0,Pr.wcPairingExpiry=void 0,Pr.wcLinking=void 0,Pr.recentWallet=void 0,Pr.status="disconnected",mge.resetTransactions(),De.deleteWalletConnectDeepLink()},resetUri(){Pr.wcUri=void 0,Pr.wcPairingExpiry=void 0},finalizeWcConnection(){var r,n;const{wcLinking:t,recentWallet:e}=Sr.state;t&&De.setWalletConnectDeepLink(t),e&&De.setAppKitRecent(e),Rr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((n=(r=rr.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(t){Pr.wcBasic=t},setUri(t){Pr.wcUri=t,Pr.wcPairingExpiry=Ke.getPairingExpiry()},setWcLinking(t){Pr.wcLinking=t},setWcError(t){Pr.wcError=t,Pr.buffering=!1},setRecentWallet(t){Pr.recentWallet=t},setBuffering(t){Pr.buffering=t},setStatus(t){Pr.status=t},async disconnect(t){try{vn.setLoading(!0,t),await rb.clearSessions(),await Q.disconnect(t),vn.setLoading(!1,t),ft.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},cm=Yr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Xl={state:cm,subscribe(t){return ks(cm,()=>t(cm))},set(t){Object.assign(cm,{...cm,...t})}};function bge(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}const xx={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return bge(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},XP={async getMyTokensWithBalance(t){const e=Fe.state.address,r=Q.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,r);if(i)return this.filterLowQualityTokens(i)}const n=await qe.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){var r,n;try{const i=xx.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Sr.getCapabilities(t);if(!((n=(r=s==null?void 0:s[i])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await Sr.walletGetAssets({account:t,chainFilter:[i]});return xx.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>xx.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:Q.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Dt=Yr({tokenBalances:[],loading:!1}),YP={state:Dt,subscribe(t){return ks(Dt,()=>t(Dt))},subscribeKey(t,e){return To(Dt,t,e)},setToken(t){t&&(Dt.token=Fd(t))},setTokenAmount(t){Dt.sendTokenAmount=t},setReceiverAddress(t){Dt.receiverAddress=t},setReceiverProfileImageUrl(t){Dt.receiverProfileImageUrl=t},setReceiverProfileName(t){Dt.receiverProfileName=t},setGasPrice(t){Dt.gasPrice=t},setGasPriceInUsd(t){Dt.gasPriceInUSD=t},setNetworkBalanceInUsd(t){Dt.networkBalanceInUSD=t},setLoading(t){Dt.loading=t},sendToken(){var t;switch((t=Q.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var t,e,r,n,i;(t=this.state.token)!=null&&t.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(Rr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((e=Q.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((r=this.state.token)!=null&&r.quantity.decimals)&&(Rr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:(n=this.state.token)==null?void 0:n.symbol,amount:this.state.sendTokenAmount,network:((i=Q.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;Dt.loading=!0;const e=(s=Q.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=Q.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=Q.state.activeCaipAddress,i=n?Ke.getPlainAddress(n):void 0;if(Dt.lastRetry&&!Ke.isAllowedRetry(Dt.lastRetry,30*Vi.ONE_SEC_MS))return Dt.loading=!1,[];try{if(i&&e&&r){const a=await XP.getMyTokensWithBalance();return Dt.tokenBalances=a,Dt.lastRetry=void 0,a}}catch(a){Dt.lastRetry=Date.now(),t==null||t(a),qi.showError("Token Balance Unavailable")}finally{Dt.loading=!1}return[]},fetchNetworkBalance(){if(Dt.tokenBalances.length===0)return;const t=XP.mapBalancesToSwapTokens(Dt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===Q.getActiveNetworkTokenAddress());e&&(Dt.networkBalanceInUSD=e?ky.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return ky.bigNumber(t).eq(0)?!0:ky.bigNumber(ky.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){let t=!0;return Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT?t=!1:Dt.networkBalanceInUSD&&(t=this.isInsufficientNetworkTokenForGas(Dt.networkBalanceInUSD,Dt.gasPriceInUSD)),t},async sendNativeToken(t){var s,o,a,c;rr.pushTransactionStack({view:"Account",goBack:!1});const e=t.receiverAddress,r=Fe.state.address,n=Sr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i="0x";try{await Sr.sendTransaction({chainNamespace:"eip155",to:e,address:r,data:i,value:n??BigInt(0),gasPrice:t.gasPrice}),qi.showSuccess("Transaction started"),Rr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=this.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((o=Q.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),this.resetSend()}catch(f){console.error("SendController:sendERC20Token - failed to send native token",f);const l=f instanceof Error?f.message:"Unknown error";Rr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:l,isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=Q.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),qi.showError("Something went wrong")}},async sendERC20Token(t){var r,n;rr.pushTransactionStack({view:"Account",goBack:!1});const e=Sr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(Fe.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const i=Ke.getPlainAddress(t.tokenAddress);await Sr.writeContract({fromAddress:Fe.state.address,tokenAddress:i,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:eY.getERC20Abi(i),chainNamespace:"eip155"}),qi.showSuccess("Transaction started"),this.resetSend()}}catch(i){console.error("SendController:sendERC20Token - failed to send erc20 token",i);const s=i instanceof Error?i.message:"Unknown error";Rr.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:s,isSmartAccount:Fe.state.preferredAccountType===wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((n=Q.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),qi.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){qi.showError("Please enter a valid amount and receiver address");return}rr.pushTransactionStack({view:"Account",goBack:!1}),Sr.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),Fe.fetchTokenBalance()}).catch(t=>{qi.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){Dt.token=void 0,Dt.sendTokenAmount=void 0,Dt.receiverAddress=void 0,Dt.receiverProfileImageUrl=void 0,Dt.receiverProfileName=void 0,Dt.loading=!1,Dt.tokenBalances=[]}},Ix={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},e1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ie=Yr({chains:GX(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Q={state:Ie,subscribe(t){return ks(Ie,()=>{t(Ie)})},subscribeKey(t,e){return To(Ie,t,e)},subscribeChainProp(t,e,r){let n;return ks(Ie.chains,()=>{var s;const i=r||Ie.activeChain;if(i){const o=(s=Ie.chains.get(i))==null?void 0:s[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:i}=De.getActiveNetworkProps(),s=e==null?void 0:e.find(f=>f.id.toString()===(n==null?void 0:n.toString())),a=t.find(f=>(f==null?void 0:f.namespace)===i)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(f=>f.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Ie.noAdapters=!0),Ie.noAdapters||(Ie.activeChain=a==null?void 0:a.namespace,Ie.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Ie.activeChain&&Xl.set({activeChain:a==null?void 0:a.namespace})),c.forEach(f=>{const l=e==null?void 0:e.filter(u=>u.chainNamespace===f);Q.state.chains.set(f,{namespace:f,networkState:Yr({...e1,caipNetwork:l==null?void 0:l[0]}),accountState:Yr(Ix),caipNetworks:l??[],...r}),this.setRequestedCaipNetworks(l??[],f)})},removeAdapter(t){var e,r;if(Ie.activeChain===t){const n=Array.from(Ie.chains.entries()).find(([i])=>i!==t);if(n){const i=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];i&&this.setActiveCaipNetwork(i)}}Ie.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){Ie.chains.set(t.namespace,{namespace:t.namespace,networkState:{...e1,caipNetwork:n[0]},accountState:Ix,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((n==null?void 0:n.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=Ie.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(i=>i.id===t.id)||n.push(t),Ie.chains.set(t.chainNamespace,{...e,caipNetworks:n}),this.setRequestedCaipNetworks(n,t.chainNamespace)}},removeNetwork(t,e){var n,i,s;const r=Ie.chains.get(t);if(r){const o=((n=Ie.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((i=r.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=r==null?void 0:r.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),Ie.chains.set(t,{...r,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const r=Ie.chains.get(t);r&&(r.networkState={...r.networkState||e1,...e},Ie.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Ie.chains.get(t);if(n){const i={...n.accountState||Ix,...e};Ie.chains.set(t,{...n,accountState:i}),(Ie.chains.size===1||Ie.activeChain===t)&&(e.caipAddress&&(Ie.activeCaipAddress=e.caipAddress),Fe.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Ie.chains.get(t);if(r){const n={...r.networkState||e1,...e};Ie.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&ft.removeConnectorId(r)},setActiveNamespace(t){var n,i;Ie.activeChain=t;const e=t?Ie.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(Ie.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Ie.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),De.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),Xl.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var n,i,s;if(!t)return;Ie.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=Ie.chains.get(t.chainNamespace);Ie.activeChain=t.chainNamespace,Ie.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(n=e==null?void 0:e.accountState)!=null&&n.address?Ie.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Ie.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Ie.activeCaipAddress,t.chainNamespace),e&&Fe.replaceState(e.accountState),YP.resetSend(),Xl.set({activeChain:Ie.activeChain,selectedNetworkId:(s=Ie.activeCaipNetwork)==null?void 0:s.caipNetworkId}),De.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&be.state.enableNetworkSwitch&&!be.state.allowUnsupportedChain&&!Sr.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=Ie.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==Q.state.activeChain,r=(i=Q.getNetworkData(t))==null?void 0:i.caipNetwork,n=Q.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await Q.switchActiveNetwork(n)},async switchActiveNetwork(t){var i;const e=Q.state.chains.get(Q.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Ie.activeCaipNetwork)==null?void 0:o.id)}))&&rr.goBack();const n=this.getNetworkControllerClient(t.chainNamespace);n&&(await n.switchCaipNetwork(t),Rr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Ie.activeChain,r=Ie.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Ie.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var i;let r=Ie.activeChain;if(e&&(r=e),!r)return;const n=(i=Ie.chains.get(r))==null?void 0:i.accountState;if(n)return n[t]},getNetworkProp(t,e){var n;const r=(n=Ie.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Ie.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return Ke.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return Ie.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Ie.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return Ie.activeCaipNetwork},getActiveCaipAddress(){return Ie.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=Ie.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Ie.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!Ie.activeChain)return!0;const e=this.getRequestedCaipNetworks(Ie.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var n;const t=Z$.caipNetworkIdToNumber((n=Ie.activeCaipNetwork)==null?void 0:n.caipNetworkId),e=Ie.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var n,i;const t=((n=Ie.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((i=Ie.activeCaipNetwork)==null?void 0:i.id)||1,r=Vi.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){vn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ie.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Vi.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Ie.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ft.removeConnectorId(e)},async disconnect(t){const e=uY(t);try{YP.resetSend();const r=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));Sr.resetWcConnection();const n=r.filter(i=>i.status==="rejected");if(n.length>0)throw new Error(n.map(i=>i.reason.message).join(", "));De.deleteConnectedSocialProvider(),t?ft.removeConnectorId(t):ft.resetConnectorIds(),Rr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),Rr.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Ie.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(Ie.chains.forEach(i=>{_e.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(n=(r=Ie.chains.get(i))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var e;return t?(e=Q.state.chains.get(t))==null?void 0:e.accountState:Fe.state},getNetworkData(t){var r;const e=t||Ie.activeChain;if(e)return(r=Q.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const r=Q.state.chains.get(t),n=(i=r==null?void 0:r.caipNetworks)==null?void 0:i.find(a=>a.id===e);return n||((s=r==null?void 0:r.networkState)==null?void 0:s.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ft.state.filterByNamespace;return(t?[Ie.chains.get(t)]:Array.from(Ie.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)}},Ege={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},tz=Ke.getBlockchainApiUrl(),ho=Yr({clientId:null,api:new Q_({baseUrl:tz,clientId:null}),supportedChains:{http:[],ws:[]}}),qe={state:ho,async get(t){const{st:e,sv:r}=qe.getSdkProperties(),n=be.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return ho.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=be.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ho.supportedChains.http.length||await qe.getSupportedNetworks()}catch{return!1}return ho.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await qe.get({path:"v1/supported-chains"});return ho.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await qe.isNetworkSupported(e))return{avatar:"",name:""};const n=De.getIdentityFromCacheForAddress(t);if(n)return n;const i=await qe.get({path:`/v1/identity/${t}`,params:{sender:Q.state.activeCaipAddress?Ke.getPlainAddress(Q.state.activeCaipAddress):void 0}});return De.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:i,chainId:s}){var a;return await qe.isNetworkSupported((a=Q.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?qe.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:s},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){var o;return await qe.isNetworkSupported((o=Q.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?qe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await qe.isNetworkSupported((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?qe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await qe.isNetworkSupported((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ho.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:be.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await qe.isNetworkSupported((n=Q.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?qe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:r}=qe.getSdkProperties();if(!await qe.isNetworkSupported((i=Q.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return qe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){var o;if(!await qe.isNetworkSupported((o=Q.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return ho.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Vi.CONVERT_SLIPPAGE_TOLERANCE},projectId:be.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:i}=qe.getSdkProperties();if(!await qe.isNetworkSupported((o=Q.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return qe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){var f;const{st:n,sv:i}=qe.getSdkProperties();if(!await qe.isNetworkSupported((f=Q.state.activeCaipNetwork)==null?void 0:f.caipNetworkId))return qi.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=De.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await qe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return De.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await qe.isNetworkSupported((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?qe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await qe.isNetworkSupported((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?qe.get({path:`/v1/profile/reverse/${t}`,params:{sender:Fe.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await qe.isNetworkSupported((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?qe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var s;return await qe.isNetworkSupported((s=Q.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?ho.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){var a;return await qe.isNetworkSupported((a=Q.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await ho.api.post({path:"/v1/generators/onrampurl",params:{projectId:be.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await qe.isNetworkSupported((e=Q.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await qe.get({path:"/v1/onramp/options"})}catch{return Ege}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var i;try{return await qe.isNetworkSupported((i=Q.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await ho.api.post({path:"/v1/onramp/quote",params:{projectId:be.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await qe.isNetworkSupported((r=Q.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?qe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var i;return await qe.isNetworkSupported((i=Q.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?ho.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:be.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){ho.clientId=t,ho.api=new Q_({baseUrl:tz,clientId:t})}},Nf=Yr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Fe={state:Nf,replaceState(t){t&&Object.assign(Nf,Fd(t))},subscribe(t){return Q.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return Q.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){Q.setAccountProp("status",t,e)},getCaipAddress(t){return Q.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?Ke.getPlainAddress(t):void 0;e===Q.state.activeChain&&(Q.state.activeCaipAddress=t),Q.setAccountProp("caipAddress",t,e),Q.setAccountProp("address",r,e)},setBalance(t,e,r){Q.setAccountProp("balance",t,r),Q.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){Q.setAccountProp("profileName",t,e)},setProfileImage(t,e){Q.setAccountProp("profileImage",t,e)},setUser(t,e){Q.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){Q.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){Q.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){Q.setAccountProp("currentTab",t,Q.state.activeChain)},setTokenBalance(t,e){t&&Q.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){Q.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){Q.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=Q.getAccountProp("addressLabels",r)||new Map;n.set(t,e),Q.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=Q.getAccountProp("addressLabels",e)||new Map;r.delete(t),Q.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){Q.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){Q.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&Q.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){Q.setAccountProp("socialWindow",t?Fd(t):void 0,e)},setFarcasterUrl(t,e){Q.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Nf.balanceLoading=!0;const e=(s=Q.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=Q.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=Q.state.activeCaipAddress,i=n?Ke.getPlainAddress(n):void 0;if(Nf.lastRetry&&!Ke.isAllowedRetry(Nf.lastRetry,30*Vi.ONE_SEC_MS))return Nf.balanceLoading=!1,[];try{if(i&&e&&r){const c=(await qe.getBalance(i,e)).balances.filter(f=>f.quantity.decimals!=="0");return this.setTokenBalance(c,r),Nf.lastRetry=void 0,Nf.balanceLoading=!1,c}}catch(a){Nf.lastRetry=Date.now(),t==null||t(a),qi.showError("Token Balance Unavailable")}finally{Nf.balanceLoading=!1}return[]},resetAccount(t){Q.resetAccount(t)}},Bs=Yr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),vn={state:Bs,subscribe(t){return ks(Bs,()=>t(Bs))},subscribeKey(t,e){return To(Bs,t,e)},async open(t){var i;const e=Fe.state.status==="connected";Sr.state.wcBasic?dt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await dt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await Q.switchActiveNamespace(t.namespace),vn.setLoading(!0,t.namespace)):vn.setLoading(!0),ft.setFilterByNamespace(t==null?void 0:t.namespace);const r=(i=Q.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;Q.state.noAdapters&&!r?Ke.isMobile()?rr.reset("AllWallets"):rr.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?rr.reset(t.view):r?rr.reset("Account"):rr.reset("Connect"),Bs.open=!0,Xl.set({open:!0}),Rr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=be.state.enableEmbedded,e=!!Q.state.activeCaipAddress;Bs.open&&Rr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Bs.open=!1,vn.clearLoading(),t?e?rr.replace("Account"):rr.push("Connect"):Xl.set({open:!1}),Sr.resetUri()},setLoading(t,e){e&&Bs.loadingNamespaceMap.set(e,t),Bs.loading=t,Xl.set({loading:t})},clearLoading(){Bs.loadingNamespaceMap.clear(),Bs.loading=!1},shake(){Bs.shake||(Bs.shake=!0,setTimeout(()=>{Bs.shake=!1},500))}},ZP=2147483648,yge={convertEVMChainIdToCoinType(t){if(t>=ZP)throw new Error("Invalid chainId");return(ZP|t)>>>0}},Wo=Yr({suggestions:[],loading:!1}),rz={state:Wo,subscribe(t){return ks(Wo,()=>t(Wo))},subscribeKey(t,e){return To(Wo,t,e)},async resolveName(t){var e,r;try{return await qe.lookupEnsName(t)}catch(n){const i=n;throw new Error(((r=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await qe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Wo.loading=!0,Wo.suggestions=[];const e=await qe.getEnsNameSuggestions(t);return Wo.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],Wo.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Wo.loading=!1}},async getNamesForAddress(t){try{if(!Q.state.activeCaipNetwork)return[];const r=De.getEnsFromCacheForAddress(t);if(r)return r;const n=await qe.reverseLookupEnsName({address:t});return De.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=Q.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=Fe.state.address,n=ft.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");Wo.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});rr.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Wo.loading=!1}});const s=await Sr.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=yge.convertEVMChainIdToCoinType(Number(o));await qe.registerEnsName({coinType:a,address:r,signature:s,message:i}),Fe.setProfileName(t,e.chainNamespace),rr.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw rr.replace("RegisterAccountName"),new Error(s)}finally{Wo.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,i;const r=t;return((i=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:i.description)||e}},xr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},$f={ConnectorExplorerIds:{[_e.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[_e.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[_e.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[_e.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[_e.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[xr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[xr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[xr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[xr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[xr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[xr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[xr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[xr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[xr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[xr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[xr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[_e.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[_e.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[_e.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[_e.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[_e.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[_e.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[_e.CONNECTOR_ID.INJECTED]:"Browser Wallet",[_e.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[_e.CONNECTOR_ID.COINBASE]:"Coinbase",[_e.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[_e.CONNECTOR_ID.LEDGER]:"Ledger",[_e.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[_e.CONNECTOR_ID.INJECTED]:"INJECTED",[_e.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[_e.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[_e.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},qv={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${xr.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Dm={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${wge()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function wge(){return typeof window<"u"}const vge={createLogger(t,e="error"){const r=wg({level:e}),{logger:n}=UT({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}};function _ge(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function QP(t){return _ge(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const nz="2.26.3";let fm={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${nz}`},lu=class sR extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof sR?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=(()=>r.cause instanceof sR&&r.cause.docsPath||r.docsPath)(),s=(a=fm.getDocsUrl)==null?void 0:a.call(fm,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...fm.version?[`Version: ${fm.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=nz}walk(e){return iz(this,e)}};function iz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?iz(t.cause,e):e?null:t}let sz=class extends lu{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function Age(t,{dir:e,size:r=32}={}){return typeof t=="string"?Nge(t,{dir:e,size:r}):xge(t,{dir:e,size:r})}function Nge(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new sz({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function xge(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new sz({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let Ige=class extends lu{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Sge(t,{size:e}){if(QP(t)>e)throw new Ige({givenSize:QP(t),maxSize:e})}const Rge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tge(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Rge[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Sge(n,{size:e.size}),Age(n,{dir:"right",size:e.size})):n}const Cge=new TextEncoder;function Oge(t,e={}){const r=Cge.encode(t);return Tge(r,e)}class Pge extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Rd=(t,e,r)=>JSON.stringify(t,(n,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,s):s},r),hC=t=>t;class nb extends lu{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${hC(o)}`,e&&`Request body: ${Rd(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class oz extends lu{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${hC(n)}`,`Request body: ${Rd(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class e4 extends lu{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${hC(r)}`,`Request body: ${Rd(e)}`],name:"TimeoutError"})}}const Uge=-1;class fo extends lu{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof oz?e.code:r??Uge}}class Pg extends fo{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Wb extends fo{constructor(e){super(e,{code:Wb.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Wb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Hb extends fo{constructor(e){super(e,{code:Hb.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Hb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class qb extends fo{constructor(e,{method:r}={}){super(e,{code:qb.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(qb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Vb extends fo{constructor(e){super(e,{code:Vb.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Vb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class tg extends fo{constructor(e){super(e,{code:tg.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Kb extends fo{constructor(e){super(e,{code:Kb.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Kb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Jb extends fo{constructor(e){super(e,{code:Jb.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Jb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Xb extends fo{constructor(e){super(e,{code:Xb.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Xb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class rg extends fo{constructor(e){super(e,{code:rg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class _d extends fo{constructor(e,{method:r}={}){super(e,{code:_d.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(_d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ng extends fo{constructor(e){super(e,{code:ng.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Yb extends fo{constructor(e){super(e,{code:Yb.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Yb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Td extends Pg{constructor(e){super(e,{code:Td.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Td,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Zb extends Pg{constructor(e){super(e,{code:Zb.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Zb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Qb extends Pg{constructor(e,{method:r}={}){super(e,{code:Qb.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Qb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class eE extends Pg{constructor(e){super(e,{code:eE.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(eE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class tE extends Pg{constructor(e){super(e,{code:tE.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(tE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class rE extends Pg{constructor(e){super(e,{code:rE.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(rE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Mge extends fo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class dC extends lu{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(dC,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(dC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function Dge(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const Sx=new Map;function kge({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const l=c();o();const u=l.map(({args:h})=>h);u.length!==0&&t(u).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let g=0;g<l.length;g++){const{resolve:m}=l[g];m==null||m([h[g],h])}}).catch(h=>{for(let g=0;g<l.length;g++){const{reject:m}=l[g];m==null||m(h)}})},o=()=>Sx.delete(e),a=()=>c().map(({args:l})=>l),c=()=>Sx.get(e)||[],f=l=>Sx.set(e,[...c(),l]);return{flush:o,async schedule(l){const{promise:u,resolve:h,reject:g}=Dge();return(r==null?void 0:r([...a(),l]))&&s(),c().length>0?(f({args:l,resolve:h,reject:g}),u):(f({args:l,resolve:h,reject:g}),setTimeout(s,n),u)}}}async function az(t){return new Promise(e=>setTimeout(e,t))}const oR=256;let t1=oR,r1;function Lge(t=11){if(!r1||t1+t>oR*2){r1="",t1=0;for(let e=0;e<oR;e++)r1+=(256+Math.random()*256|0).toString(16).substring(1)}return r1.substring(t1,t1+++t)}const n1=new Pge(8192);function Fge(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(n1.get(r))return n1.get(r);const n=t().finally(()=>n1.delete(r));return n1.set(r,n),n}function $ge(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:f})=>{const l=typeof e=="function"?e({count:a,error:f}):e;l&&await az(l),o({count:a+1})};try{const f=await t();i(f)}catch(f){if(a<r&&await n({count:a,error:f}))return c({error:f});s(f)}};o()})}function Bge(t,e={}){return async(r,n={})=>{var u;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:f}=r;if((u=s==null?void 0:s.exclude)!=null&&u.includes(f))throw new _d(new Error("method not supported"),{method:f});if(s!=null&&s.include&&!s.include.includes(f))throw new _d(new Error("method not supported"),{method:f});const l=i?Oge(`${c}.${Rd(r)}`):void 0;return Fge(()=>$ge(async()=>{try{return await t(r)}catch(h){const g=h;switch(g.code){case Wb.code:throw new Wb(g);case Hb.code:throw new Hb(g);case qb.code:throw new qb(g,{method:r.method});case Vb.code:throw new Vb(g);case tg.code:throw new tg(g);case Kb.code:throw new Kb(g);case Jb.code:throw new Jb(g);case Xb.code:throw new Xb(g);case rg.code:throw new rg(g);case _d.code:throw new _d(g,{method:r.method});case ng.code:throw new ng(g);case Yb.code:throw new Yb(g);case Td.code:throw new Td(g);case Zb.code:throw new Zb(g);case Qb.code:throw new Qb(g);case eE.code:throw new eE(g);case tE.code:throw new tE(g);case rE.code:throw new rE(g);case 5e3:throw new Td(g);default:throw h instanceof lu?h:new Mge(g)}}},{delay:({count:h,error:g})=>{var m;if(g&&g instanceof nb){const w=(m=g==null?void 0:g.headers)==null?void 0:m.get("Retry-After");if(w!=null&&w.match(/\d/))return Number.parseInt(w)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>Gge(h)}),{enabled:i,id:l})}}function Gge(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===ng.code||t.code===tg.code:t instanceof nb&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function cz({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const f=Lge();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:Bge(n,{methods:e,retryCount:i,retryDelay:s,uid:f}),value:c}}function t4(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=jge,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:f=4e3,timeout:l,...u})=>{let h=t,g=()=>{};const m=cz({key:r,name:n,async request({method:w,params:N}){let I;const C=async(M=0)=>{const k=h[M]({...u,chain:c,retryCount:0,timeout:l});try{const L=await k.request({method:w,params:N});return g({method:w,params:N,response:L,transport:k,status:"success"}),L}catch(L){if(g({error:L,method:w,params:N,transport:k,status:"error"}),s(L)||M===h.length-1||(I??(I=h.slice(M+1).some($=>{const{include:V,exclude:P}=$({chain:c}).config.methods||{};return V?V.includes(w):P?!P.includes(w):!0})),!I))throw L;return C(M+1)}};return C()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:w=>g=w,transports:h.map(w=>w({chain:c,retryCount:0}))});if(i){const w=typeof i=="object"?i:{};zge({chain:c,interval:w.interval??f,onTransports:N=>h=N,ping:w.ping,sampleCount:w.sampleCount,timeout:w.timeout,transports:h,weights:w.weights})}return m}}function jge(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===rg.code||t.code===Td.code||dC.nodeMessage.test(t.message)||t.code===5e3))}function zge({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:f=.3}=a,l=[],u=async()=>{const h=await Promise.all(o.map(async w=>{const N=w({chain:t,retryCount:0,timeout:s}),I=Date.now();let C,M;try{await(n?n({transport:N}):N.request({method:"net_listening"})),M=1}catch{M=0}finally{C=Date.now()}return{latency:C-I,success:M}}));l.push(h),l.length>i&&l.shift();const g=Math.max(...l.map(w=>Math.max(...w.map(({latency:N})=>N)))),m=o.map((w,N)=>{const I=l.map($=>$[N].latency),M=1-I.reduce(($,V)=>$+V,0)/I.length/g,k=l.map($=>$[N].success),L=k.reduce(($,V)=>$+V,0)/k.length;return L===0?[0,N]:[f*M+c*L,N]}).sort((w,N)=>N[0]-w[0]);r(m.map(([,w])=>o[w])),await az(e),u()};u()}class Wge extends lu{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Hge(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function qge(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const r4=qge();function Vge(t,e={}){return{async request(r){var u;const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:f,signal:l}=a;try{const h=await Hge(async({signal:m})=>{const w={...a,body:Array.isArray(n)?Rd(n.map(M=>({jsonrpc:"2.0",id:M.id??r4.take(),...M}))):Rd({jsonrpc:"2.0",id:n.id??r4.take(),...n}),headers:{"Content-Type":"application/json",...c},method:f||"POST",signal:l||(o>0?m:null)},N=new Request(t,w),I=await(i==null?void 0:i(N,w))??{...w,url:t};return await fetch(I.url??t,I)},{errorInstance:new e4({body:n,url:t}),timeout:o,signal:!0});s&&await s(h);let g;if((u=h.headers.get("Content-Type"))!=null&&u.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(m){if(h.ok)throw m;g={error:g}}}if(!h.ok)throw new nb({body:n,details:Rd(g.error)||h.statusText,headers:h.headers,status:h.status,url:t});return g}catch(h){throw h instanceof nb||h instanceof e4?h:new nb({body:n,cause:h,url:t})}}}}function Rx(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:f,raw:l}=e;return({chain:u,retryCount:h,timeout:g})=>{const{batchSize:m=1e3,wait:w=0}=typeof r=="object"?r:{},N=e.retryCount??h,I=g??e.timeout??1e4,C=t||(u==null?void 0:u.rpcUrls.default.http[0]);if(!C)throw new Wge;const M=Vge(C,{fetchOptions:n,onRequest:a,onResponse:c,timeout:I});return cz({key:i,methods:s,name:o,async request({method:k,params:L}){const $={method:k,params:L},{schedule:V}=kge({id:C,wait:w,shouldSplitBatch(U){return U.length>m},fn:U=>M.request({body:U}),sort:(U,b)=>U.id-b.id}),P=async U=>r?V(U):[await M.request({body:U})],[{error:O,result:F}]=await P($);if(l)return{error:O,result:F};if(O)throw new oz({body:$,error:O,url:C});return F},retryCount:N,retryDelay:f,timeout:I,type:"http"},{fetchOptions:n,url:C})}}const Kge="rpc.walletconnect.org";function Jge(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Tx=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Q0={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===Kge}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:_e.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${_e.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var i,s,o;const n=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return Tx.includes(e)?Jge(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var h,g,m,w,N;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,s,r),c=((w=(m=(g=t==null?void 0:t.rpcUrls)==null?void 0:g.chainDefault)==null?void 0:m.http)==null?void 0:w[0])||o,f=((N=n==null?void 0:n[s])==null?void 0:N.map(I=>I.url))||[],l=[...f,a],u=[...f];return c&&!u.includes(c)&&u.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:$f.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:l},chainDefault:{http:u}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>Q0.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];if(r==null||r.forEach(i=>{n.push(Rx(i.url,i.config))}),Tx.includes(t.caipNetworkId)){const i=this.getDefaultRpcUrl(t,t.caipNetworkId,e);n.push(Rx(i,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}))}return t4(n)},extendWagmiTransports(t,e,r){if(Tx.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return t4([r,Rx(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:_e.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=De.getActiveCaipNetworkId(),r=Q.getAllRequestedCaipNetworks(),n=Array.from(((c=Q.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?n.includes(i):!1,o=r==null?void 0:r.find(f=>f.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}},Vv={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Gs=Yr({providers:{...Vv},providerIds:{...Vv}}),Ot={state:Gs,subscribeKey(t,e){return To(Gs,t,e)},subscribe(t){return ks(Gs,()=>{t(Gs)})},subscribeProviders(t){return ks(Gs.providers,()=>t(Gs.providers))},setProvider(t,e){e&&(Gs.providers[t]=Fd(e))},getProvider(t){return Gs.providers[t]},setProviderId(t,e){e&&(Gs.providerIds[t]=e)},getProviderId(t){if(t)return Gs.providerIds[t]},reset(){Gs.providers={...Vv},Gs.providerIds={...Vv}},resetChain(t){Gs.providers[t]=void 0,Gs.providerIds[t]=void 0}},n4={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ji={set(t,e){xo.isClient&&localStorage.setItem(`${Me.STORAGE_KEY}${t}`,e)},get(t){return xo.isClient?localStorage.getItem(`${Me.STORAGE_KEY}${t}`):null},delete(t,e){xo.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Me.STORAGE_KEY}${t}`))}},i1=30*1e3,xo={checkIfAllowedToTriggerEmail(){const t=ji.get(Me.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<i1){const r=Math.ceil((i1-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=ji.get(Me.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<i1)return Math.ceil((i1-e)/1e3)}return 0},checkIfRequestExists(t){return wn.NOT_SAFE_RPC_METHODS.includes(t.method)||wn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(n4.transactionHash))||(t==null?void 0:t.match(n4.signedMessage)))?Me.RPC_RESPONSE_TYPE_TX:Me.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return wn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Gt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Gt||(Gt={}));var aR;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(aR||(aR={}));const Te=Gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bu=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},Ee=Gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xge=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class lf extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const f=o.path[c];c===o.path.length-1?(a[f]=a[f]||{_errors:[]},a[f]._errors.push(r(o))):a[f]=a[f]||{_errors:[]},a=a[f],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}lf.create=t=>new lf(t);const nE=(t,e)=>{let r;switch(t.code){case Ee.invalid_type:t.received===Te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Gt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${Gt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Gt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${Gt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Gt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ee.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ee.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=e.defaultError,Gt.assertNever(t)}return{message:r}};let fz=nE;function Yge(t){fz=t}function Kv(){return fz}const Jv=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(f=>!!f).slice().reverse();for(const f of c)a=f(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Zge=[];function Pe(t,e){const r=Jv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Kv(),nE].filter(n=>!!n)});t.common.issues.push(r)}class Es{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return at;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Es.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return at;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const at=Object.freeze({status:"aborted"}),lz=t=>({status:"dirty",value:t}),Ls=t=>({status:"valid",value:t}),cR=t=>t.status==="aborted",fR=t=>t.status==="dirty",iE=t=>t.status==="valid",Xv=t=>typeof Promise<"u"&&t instanceof Promise;var Be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Be||(Be={}));class fl{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i4=(t,e)=>{if(iE(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new lf(t.common.issues);return this._error=r,this._error}}};function lt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class pt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Bu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Bu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Es,ctx:{common:e.parent.common,data:e.data,parsedType:Bu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Xv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bu(e)},s=this._parseSync({data:e,path:i.path,parent:i});return i4(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bu(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Xv(i)?i:Promise.resolve(i));return i4(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ee.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new mf({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Yl.create(this,this._def)}nullable(){return Vd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return uf.create(this,this._def)}promise(){return sg.create(this,this._def)}or(e){return cE.create([this,e],this._def)}and(e){return fE.create(this,e,this._def)}transform(e){return new mf({...lt(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new pE({...lt(this._def),innerType:this,defaultValue:r,typeName:He.ZodDefault})}brand(){return new hz({typeName:He.ZodBranded,type:this,...lt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new e_({...lt(this._def),innerType:this,catchValue:r,typeName:He.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return py.create(this,e)}readonly(){return r_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qge=/^c[^\s-]{8,}$/i,eme=/^[a-z][a-z0-9]*$/,tme=/^[0-9A-HJKMNP-TV-Z]{26}$/,rme=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nme=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ime="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cx;const sme=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ome=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ame=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function cme(t,e){return!!((e==="v4"||!e)&&sme.test(t)||(e==="v6"||!e)&&ome.test(t))}class Yc extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const s=this._getOrReturnCtx(e);return Pe(s,{code:Ee.invalid_type,expected:Te.string,received:s.parsedType}),at}const n=new Es;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Pe(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Pe(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")nme.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"email",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Cx||(Cx=new RegExp(ime,"u")),Cx.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")rme.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Qge.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")eme.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")tme.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pe(i,{validation:"url",code:Ee.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?ame(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?cme(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),n.dirty()):Gt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ee.invalid_string,...Be.errToObj(n)})}_addCheck(e){return new Yc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Be.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...Be.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Be.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Be.errToObj(r)})}nonempty(e){return this.min(1,Be.errToObj(e))}trim(){return new Yc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yc.create=t=>{var e;return new Yc({checks:[],typeName:He.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...lt(t)})};function fme(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ch extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const s=this._getOrReturnCtx(e);return Pe(s,{code:Ee.invalid_type,expected:Te.number,received:s.parsedType}),at}let n;const i=new Es;for(const s of this._def.checks)s.kind==="int"?Gt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?fme(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.not_finite,message:s.message}),i.dirty()):Gt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Be.toString(r))}setLimit(e,r,n,i){return new ch({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Be.toString(i)}]})}_addCheck(e){return new ch({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ch.create=t=>new ch({checks:[],typeName:He.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...lt(t)});class fh extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Te.bigint){const s=this._getOrReturnCtx(e);return Pe(s,{code:Ee.invalid_type,expected:Te.bigint,received:s.parsedType}),at}let n;const i=new Es;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Gt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Be.toString(r))}setLimit(e,r,n,i){return new fh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Be.toString(i)}]})}_addCheck(e){return new fh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}fh.create=t=>{var e;return new fh({checks:[],typeName:He.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...lt(t)})};class sE extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const n=this._getOrReturnCtx(e);return Pe(n,{code:Ee.invalid_type,expected:Te.boolean,received:n.parsedType}),at}return Ls(e.data)}}sE.create=t=>new sE({typeName:He.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...lt(t)});class Hd extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const s=this._getOrReturnCtx(e);return Pe(s,{code:Ee.invalid_type,expected:Te.date,received:s.parsedType}),at}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Pe(s,{code:Ee.invalid_date}),at}const n=new Es;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Gt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Be.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Hd.create=t=>new Hd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:He.ZodDate,...lt(t)});class Yv extends pt{_parse(e){if(this._getType(e)!==Te.symbol){const n=this._getOrReturnCtx(e);return Pe(n,{code:Ee.invalid_type,expected:Te.symbol,received:n.parsedType}),at}return Ls(e.data)}}Yv.create=t=>new Yv({typeName:He.ZodSymbol,...lt(t)});class oE extends pt{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:Ee.invalid_type,expected:Te.undefined,received:n.parsedType}),at}return Ls(e.data)}}oE.create=t=>new oE({typeName:He.ZodUndefined,...lt(t)});class aE extends pt{_parse(e){if(this._getType(e)!==Te.null){const n=this._getOrReturnCtx(e);return Pe(n,{code:Ee.invalid_type,expected:Te.null,received:n.parsedType}),at}return Ls(e.data)}}aE.create=t=>new aE({typeName:He.ZodNull,...lt(t)});class ig extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ls(e.data)}}ig.create=t=>new ig({typeName:He.ZodAny,...lt(t)});class Cd extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ls(e.data)}}Cd.create=t=>new Cd({typeName:He.ZodUnknown,...lt(t)});class iu extends pt{_parse(e){const r=this._getOrReturnCtx(e);return Pe(r,{code:Ee.invalid_type,expected:Te.never,received:r.parsedType}),at}}iu.create=t=>new iu({typeName:He.ZodNever,...lt(t)});class Zv extends pt{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:Ee.invalid_type,expected:Te.void,received:n.parsedType}),at}return Ls(e.data)}}Zv.create=t=>new Zv({typeName:He.ZodVoid,...lt(t)});class uf extends pt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Te.array)return Pe(r,{code:Ee.invalid_type,expected:Te.array,received:r.parsedType}),at;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Pe(r,{code:o?Ee.too_big:Ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Pe(r,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Pe(r,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new fl(r,o,r.path,a)))).then(o=>Es.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new fl(r,o,r.path,a)));return Es.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new uf({...this._def,minLength:{value:e,message:Be.toString(r)}})}max(e,r){return new uf({...this._def,maxLength:{value:e,message:Be.toString(r)}})}length(e,r){return new uf({...this._def,exactLength:{value:e,message:Be.toString(r)}})}nonempty(e){return this.min(1,e)}}uf.create=(t,e)=>new uf({type:t,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...lt(e)});function ep(t){if(t instanceof Jr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Yl.create(ep(n))}return new Jr({...t._def,shape:()=>e})}else return t instanceof uf?new uf({...t._def,type:ep(t.element)}):t instanceof Yl?Yl.create(ep(t.unwrap())):t instanceof Vd?Vd.create(ep(t.unwrap())):t instanceof ll?ll.create(t.items.map(e=>ep(e))):t}class Jr extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Gt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Te.object){const f=this._getOrReturnCtx(e);return Pe(f,{code:Ee.invalid_type,expected:Te.object,received:f.parsedType}),at}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof iu&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||a.push(f);const c=[];for(const f of o){const l=s[f],u=i.data[f];c.push({key:{status:"valid",value:f},value:l._parse(new fl(i,u,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof iu){const f=this._def.unknownKeys;if(f==="passthrough")for(const l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(f==="strict")a.length>0&&(Pe(i,{code:Ee.unrecognized_keys,keys:a}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const l of a){const u=i.data[l];c.push({key:{status:"valid",value:l},value:f._parse(new fl(i,u,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const l of c){const u=await l.key;f.push({key:u,value:await l.value,alwaysSet:l.alwaysSet})}return f}).then(f=>Es.mergeObjectSync(n,f)):Es.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Be.errToObj,new Jr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Be.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Jr({...this._def,unknownKeys:"strip"})}passthrough(){return new Jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Jr({...this._def,catchall:e})}pick(e){const r={};return Gt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Jr({...this._def,shape:()=>r})}omit(e){const r={};return Gt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Jr({...this._def,shape:()=>r})}deepPartial(){return ep(this)}partial(e){const r={};return Gt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Jr({...this._def,shape:()=>r})}required(e){const r={};return Gt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Yl;)s=s._def.innerType;r[n]=s}}),new Jr({...this._def,shape:()=>r})}keyof(){return uz(Gt.objectKeys(this.shape))}}Jr.create=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strip",catchall:iu.create(),typeName:He.ZodObject,...lt(e)});Jr.strictCreate=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strict",catchall:iu.create(),typeName:He.ZodObject,...lt(e)});Jr.lazycreate=(t,e)=>new Jr({shape:t,unknownKeys:"strip",catchall:iu.create(),typeName:He.ZodObject,...lt(e)});class cE extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new lf(a.ctx.common.issues));return Pe(r,{code:Ee.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const f={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:f});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new lf(c));return Pe(r,{code:Ee.invalid_union,unionErrors:a}),at}}get options(){return this._def.options}}cE.create=(t,e)=>new cE({options:t,typeName:He.ZodUnion,...lt(e)});const F1=t=>t instanceof uE?F1(t.schema):t instanceof mf?F1(t.innerType()):t instanceof hE?[t.value]:t instanceof lh?t.options:t instanceof dE?Object.keys(t.enum):t instanceof pE?F1(t._def.innerType):t instanceof oE?[void 0]:t instanceof aE?[null]:null;class NA extends pt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return Pe(r,{code:Ee.invalid_type,expected:Te.object,received:r.parsedType}),at;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Pe(r,{code:Ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),at)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=F1(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new NA({typeName:He.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...lt(n)})}}function lR(t,e){const r=Bu(t),n=Bu(e);if(t===e)return{valid:!0,data:t};if(r===Te.object&&n===Te.object){const i=Gt.objectKeys(e),s=Gt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=lR(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Te.array&&n===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=lR(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Te.date&&n===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fE extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(cR(s)||cR(o))return at;const a=lR(s.value,o.value);return a.valid?((fR(s)||fR(o))&&r.dirty(),{status:r.value,value:a.data}):(Pe(n,{code:Ee.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fE.create=(t,e,r)=>new fE({left:t,right:e,typeName:He.ZodIntersection,...lt(r)});class ll extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.array)return Pe(n,{code:Ee.invalid_type,expected:Te.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Pe(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new fl(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Es.mergeArray(r,o)):Es.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ll({...this._def,rest:e})}}ll.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ll({items:t,typeName:He.ZodTuple,rest:null,...lt(e)})};class lE extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return Pe(n,{code:Ee.invalid_type,expected:Te.object,received:n.parsedType}),at;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new fl(n,a,n.path,a)),value:o._parse(new fl(n,n.data[a],n.path,a))});return n.common.async?Es.mergeObjectAsync(r,i):Es.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof pt?new lE({keyType:e,valueType:r,typeName:He.ZodRecord,...lt(n)}):new lE({keyType:Yc.create(),valueType:e,typeName:He.ZodRecord,...lt(r)})}}class Qv extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.map)return Pe(n,{code:Ee.invalid_type,expected:Te.map,received:n.parsedType}),at;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],f)=>({key:i._parse(new fl(n,a,n.path,[f,"key"])),value:s._parse(new fl(n,c,n.path,[f,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const f=await c.key,l=await c.value;if(f.status==="aborted"||l.status==="aborted")return at;(f.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(f.value,l.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const f=c.key,l=c.value;if(f.status==="aborted"||l.status==="aborted")return at;(f.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(f.value,l.value)}return{status:r.value,value:a}}}}Qv.create=(t,e,r)=>new Qv({valueType:e,keyType:t,typeName:He.ZodMap,...lt(r)});class qd extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.set)return Pe(n,{code:Ee.invalid_type,expected:Te.set,received:n.parsedType}),at;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Pe(n,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Pe(n,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const f=new Set;for(const l of c){if(l.status==="aborted")return at;l.status==="dirty"&&r.dirty(),f.add(l.value)}return{status:r.value,value:f}}const a=[...n.data.values()].map((c,f)=>s._parse(new fl(n,c,n.path,f)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new qd({...this._def,minSize:{value:e,message:Be.toString(r)}})}max(e,r){return new qd({...this._def,maxSize:{value:e,message:Be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}qd.create=(t,e)=>new qd({valueType:t,minSize:null,maxSize:null,typeName:He.ZodSet,...lt(e)});class Sp extends pt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.function)return Pe(r,{code:Ee.invalid_type,expected:Te.function,received:r.parsedType}),at;function n(a,c){return Jv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Kv(),nE].filter(f=>!!f),issueData:{code:Ee.invalid_arguments,argumentsError:c}})}function i(a,c){return Jv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Kv(),nE].filter(f=>!!f),issueData:{code:Ee.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof sg){const a=this;return Ls(async function(...c){const f=new lf([]),l=await a._def.args.parseAsync(c,s).catch(g=>{throw f.addIssue(n(c,g)),f}),u=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(u,s).catch(g=>{throw f.addIssue(i(u,g)),f})})}else{const a=this;return Ls(function(...c){const f=a._def.args.safeParse(c,s);if(!f.success)throw new lf([n(c,f.error)]);const l=Reflect.apply(o,this,f.data),u=a._def.returns.safeParse(l,s);if(!u.success)throw new lf([i(l,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Sp({...this._def,args:ll.create(e).rest(Cd.create())})}returns(e){return new Sp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Sp({args:e||ll.create([]).rest(Cd.create()),returns:r||Cd.create(),typeName:He.ZodFunction,...lt(n)})}}class uE extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uE.create=(t,e)=>new uE({getter:t,typeName:He.ZodLazy,...lt(e)});class hE extends pt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Pe(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}hE.create=(t,e)=>new hE({value:t,typeName:He.ZodLiteral,...lt(e)});function uz(t,e){return new lh({values:t,typeName:He.ZodEnum,...lt(e)})}class lh extends pt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{expected:Gt.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),at}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),at}return Ls(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return lh.create(e)}exclude(e){return lh.create(this.options.filter(r=>!e.includes(r)))}}lh.create=uz;class dE extends pt{_parse(e){const r=Gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const i=Gt.objectValues(r);return Pe(n,{expected:Gt.joinValues(i),received:n.parsedType,code:Ee.invalid_type}),at}if(r.indexOf(e.data)===-1){const i=Gt.objectValues(r);return Pe(n,{received:n.data,code:Ee.invalid_enum_value,options:i}),at}return Ls(e.data)}get enum(){return this._def.values}}dE.create=(t,e)=>new dE({values:t,typeName:He.ZodNativeEnum,...lt(e)});class sg extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.promise&&r.common.async===!1)return Pe(r,{code:Ee.invalid_type,expected:Te.promise,received:r.parsedType}),at;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Ls(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sg.create=(t,e)=>new sg({type:t,typeName:He.ZodPromise,...lt(e)});class mf extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Pe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?at:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!iE(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>iE(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Gt.assertNever(i)}}mf.create=(t,e,r)=>new mf({schema:t,typeName:He.ZodEffects,effect:e,...lt(r)});mf.createWithPreprocess=(t,e,r)=>new mf({schema:e,effect:{type:"preprocess",transform:t},typeName:He.ZodEffects,...lt(r)});class Yl extends pt{_parse(e){return this._getType(e)===Te.undefined?Ls(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yl.create=(t,e)=>new Yl({innerType:t,typeName:He.ZodOptional,...lt(e)});class Vd extends pt{_parse(e){return this._getType(e)===Te.null?Ls(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vd.create=(t,e)=>new Vd({innerType:t,typeName:He.ZodNullable,...lt(e)});class pE extends pt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}pE.create=(t,e)=>new pE({innerType:t,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...lt(e)});class e_ extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Xv(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new lf(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new lf(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}e_.create=(t,e)=>new e_({innerType:t,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...lt(e)});class t_ extends pt{_parse(e){if(this._getType(e)!==Te.nan){const n=this._getOrReturnCtx(e);return Pe(n,{code:Ee.invalid_type,expected:Te.nan,received:n.parsedType}),at}return{status:"valid",value:e.data}}}t_.create=t=>new t_({typeName:He.ZodNaN,...lt(t)});const lme=Symbol("zod_brand");class hz extends pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class py extends pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?at:s.status==="dirty"?(r.dirty(),lz(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new py({in:e,out:r,typeName:He.ZodPipeline})}}class r_ extends pt{_parse(e){const r=this._def.innerType._parse(e);return iE(r)&&(r.value=Object.freeze(r.value)),r}}r_.create=(t,e)=>new r_({innerType:t,typeName:He.ZodReadonly,...lt(e)});const dz=(t,e={},r)=>t?ig.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,f=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...f,fatal:c})}}):ig.create(),ume={object:Jr.lazycreate};var He;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(He||(He={}));const hme=(t,e={message:`Input not instance of ${t.name}`})=>dz(r=>r instanceof t,e),pz=Yc.create,gz=ch.create,dme=t_.create,pme=fh.create,mz=sE.create,gme=Hd.create,mme=Yv.create,bme=oE.create,Eme=aE.create,yme=ig.create,wme=Cd.create,vme=iu.create,_me=Zv.create,Ame=uf.create,Nme=Jr.create,xme=Jr.strictCreate,Ime=cE.create,Sme=NA.create,Rme=fE.create,Tme=ll.create,Cme=lE.create,Ome=Qv.create,Pme=qd.create,Ume=Sp.create,Mme=uE.create,Dme=hE.create,kme=lh.create,Lme=dE.create,Fme=sg.create,s4=mf.create,$me=Yl.create,Bme=Vd.create,Gme=mf.createWithPreprocess,jme=py.create,zme=()=>pz().optional(),Wme=()=>gz().optional(),Hme=()=>mz().optional(),qme={string:t=>Yc.create({...t,coerce:!0}),number:t=>ch.create({...t,coerce:!0}),boolean:t=>sE.create({...t,coerce:!0}),bigint:t=>fh.create({...t,coerce:!0}),date:t=>Hd.create({...t,coerce:!0})},Vme=at;var K=Object.freeze({__proto__:null,defaultErrorMap:nE,setErrorMap:Yge,getErrorMap:Kv,makeIssue:Jv,EMPTY_PATH:Zge,addIssueToContext:Pe,ParseStatus:Es,INVALID:at,DIRTY:lz,OK:Ls,isAborted:cR,isDirty:fR,isValid:iE,isAsync:Xv,get util(){return Gt},get objectUtil(){return aR},ZodParsedType:Te,getParsedType:Bu,ZodType:pt,ZodString:Yc,ZodNumber:ch,ZodBigInt:fh,ZodBoolean:sE,ZodDate:Hd,ZodSymbol:Yv,ZodUndefined:oE,ZodNull:aE,ZodAny:ig,ZodUnknown:Cd,ZodNever:iu,ZodVoid:Zv,ZodArray:uf,ZodObject:Jr,ZodUnion:cE,ZodDiscriminatedUnion:NA,ZodIntersection:fE,ZodTuple:ll,ZodRecord:lE,ZodMap:Qv,ZodSet:qd,ZodFunction:Sp,ZodLazy:uE,ZodLiteral:hE,ZodEnum:lh,ZodNativeEnum:dE,ZodPromise:sg,ZodEffects:mf,ZodTransformer:mf,ZodOptional:Yl,ZodNullable:Vd,ZodDefault:pE,ZodCatch:e_,ZodNaN:t_,BRAND:lme,ZodBranded:hz,ZodPipeline:py,ZodReadonly:r_,custom:dz,Schema:pt,ZodSchema:pt,late:ume,get ZodFirstPartyTypeKind(){return He},coerce:qme,any:yme,array:Ame,bigint:pme,boolean:mz,date:gme,discriminatedUnion:Sme,effect:s4,enum:kme,function:Ume,instanceof:hme,intersection:Rme,lazy:Mme,literal:Dme,map:Ome,nan:dme,nativeEnum:Lme,never:vme,null:Eme,nullable:Bme,number:gz,object:Nme,oboolean:Hme,onumber:Wme,optional:$me,ostring:zme,pipeline:jme,preprocess:Gme,promise:Fme,record:Cme,set:Pme,strictObject:xme,string:pz,symbol:mme,transformer:s4,tuple:Tme,undefined:bme,union:Ime,unknown:wme,void:_me,NEVER:Vme,ZodIssueCode:Ee,quotelessJson:Xge,ZodError:lf});const Qr=K.object({message:K.string()});function Ce(t){return K.literal(Me[t])}K.object({accessList:K.array(K.string()),blockHash:K.string().nullable(),blockNumber:K.string().nullable(),chainId:K.string().or(K.number()),from:K.string(),gas:K.string(),hash:K.string(),input:K.string().nullable(),maxFeePerGas:K.string(),maxPriorityFeePerGas:K.string(),nonce:K.string(),r:K.string(),s:K.string(),to:K.string(),transactionIndex:K.string().nullable(),type:K.string(),v:K.string(),value:K.string()});const Kme=K.object({chainId:K.string().or(K.number())}),Jme=K.object({email:K.string().email()}),Xme=K.object({otp:K.string()}),Yme=K.object({uri:K.string()}),Zme=K.object({chainId:K.optional(K.string().or(K.number())),preferredAccountType:K.optional(K.string())}),Qme=K.object({provider:K.enum(["google","github","apple","facebook","x","discord"])}),ebe=K.object({email:K.string().email()}),tbe=K.object({otp:K.string()}),rbe=K.object({otp:K.string()}),nbe=K.object({themeMode:K.optional(K.enum(["light","dark"])),themeVariables:K.optional(K.record(K.string(),K.string().or(K.number()))),w3mThemeVariables:K.optional(K.record(K.string(),K.string()))}),ibe=K.object({metadata:K.object({name:K.string(),description:K.string(),url:K.string(),icons:K.array(K.string())}).optional(),sdkVersion:K.string().optional(),sdkType:K.string().optional(),projectId:K.string()}),sbe=K.object({type:K.string()}),obe=K.object({action:K.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),abe=K.object({url:K.string()}),cbe=K.object({userName:K.string()}),fbe=K.object({email:K.string().optional().nullable(),address:K.string(),chainId:K.string().or(K.number()),accounts:K.array(K.object({address:K.string(),type:K.enum([wn.ACCOUNT_TYPES.EOA,wn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:K.string().optional().nullable()}),lbe=K.object({action:K.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),ube=K.object({email:K.string().email().optional().nullable(),address:K.string(),chainId:K.string().or(K.number()),smartAccountDeployed:K.optional(K.boolean()),accounts:K.array(K.object({address:K.string(),type:K.enum([wn.ACCOUNT_TYPES.EOA,wn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:K.optional(K.string())}),hbe=K.object({uri:K.string()}),dbe=K.object({isConnected:K.boolean()}),pbe=K.object({chainId:K.string().or(K.number())}),gbe=K.object({chainId:K.string().or(K.number())}),mbe=K.object({newEmail:K.string().email()}),bbe=K.object({smartAccountEnabledNetworks:K.array(K.number())});K.object({address:K.string(),isDeployed:K.boolean()});const Ebe=K.object({version:K.string().optional()}),ybe=K.object({type:K.string(),address:K.string()}),wbe=K.any(),vbe=K.object({method:K.literal("eth_accounts")}),_be=K.object({method:K.literal("eth_blockNumber")}),Abe=K.object({method:K.literal("eth_call"),params:K.array(K.any())}),Nbe=K.object({method:K.literal("eth_chainId")}),xbe=K.object({method:K.literal("eth_estimateGas"),params:K.array(K.any())}),Ibe=K.object({method:K.literal("eth_feeHistory"),params:K.array(K.any())}),Sbe=K.object({method:K.literal("eth_gasPrice")}),Rbe=K.object({method:K.literal("eth_getAccount"),params:K.array(K.any())}),Tbe=K.object({method:K.literal("eth_getBalance"),params:K.array(K.any())}),Cbe=K.object({method:K.literal("eth_getBlockByHash"),params:K.array(K.any())}),Obe=K.object({method:K.literal("eth_getBlockByNumber"),params:K.array(K.any())}),Pbe=K.object({method:K.literal("eth_getBlockReceipts"),params:K.array(K.any())}),Ube=K.object({method:K.literal("eth_getBlockTransactionCountByHash"),params:K.array(K.any())}),Mbe=K.object({method:K.literal("eth_getBlockTransactionCountByNumber"),params:K.array(K.any())}),Dbe=K.object({method:K.literal("eth_getCode"),params:K.array(K.any())}),kbe=K.object({method:K.literal("eth_getFilterChanges"),params:K.array(K.any())}),Lbe=K.object({method:K.literal("eth_getFilterLogs"),params:K.array(K.any())}),Fbe=K.object({method:K.literal("eth_getLogs"),params:K.array(K.any())}),$be=K.object({method:K.literal("eth_getProof"),params:K.array(K.any())}),Bbe=K.object({method:K.literal("eth_getStorageAt"),params:K.array(K.any())}),Gbe=K.object({method:K.literal("eth_getTransactionByBlockHashAndIndex"),params:K.array(K.any())}),jbe=K.object({method:K.literal("eth_getTransactionByBlockNumberAndIndex"),params:K.array(K.any())}),zbe=K.object({method:K.literal("eth_getTransactionByHash"),params:K.array(K.any())}),Wbe=K.object({method:K.literal("eth_getTransactionCount"),params:K.array(K.any())}),Hbe=K.object({method:K.literal("eth_getTransactionReceipt"),params:K.array(K.any())}),qbe=K.object({method:K.literal("eth_getUncleCountByBlockHash"),params:K.array(K.any())}),Vbe=K.object({method:K.literal("eth_getUncleCountByBlockNumber"),params:K.array(K.any())}),Kbe=K.object({method:K.literal("eth_maxPriorityFeePerGas")}),Jbe=K.object({method:K.literal("eth_newBlockFilter")}),Xbe=K.object({method:K.literal("eth_newFilter"),params:K.array(K.any())}),Ybe=K.object({method:K.literal("eth_newPendingTransactionFilter")}),Zbe=K.object({method:K.literal("eth_sendRawTransaction"),params:K.array(K.any())}),Qbe=K.object({method:K.literal("eth_syncing"),params:K.array(K.any())}),eEe=K.object({method:K.literal("eth_uninstallFilter"),params:K.array(K.any())}),o4=K.object({method:K.literal("personal_sign"),params:K.array(K.any())}),tEe=K.object({method:K.literal("eth_signTypedData_v4"),params:K.array(K.any())}),rEe=K.object({method:K.literal("eth_sendTransaction"),params:K.array(K.any())}),nEe=K.object({method:K.literal("solana_signMessage"),params:K.object({message:K.string(),pubkey:K.string()})}),iEe=K.object({method:K.literal("solana_signTransaction"),params:K.object({transaction:K.string()})}),sEe=K.object({method:K.literal("solana_signAllTransactions"),params:K.object({transactions:K.array(K.string())})}),oEe=K.object({method:K.literal("solana_signAndSendTransaction"),params:K.object({transaction:K.string(),options:K.object({skipPreflight:K.boolean().optional(),preflightCommitment:K.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:K.number().optional(),minContextSlot:K.number().optional()}).optional()})}),aEe=K.object({method:K.literal("wallet_sendCalls"),params:K.array(K.object({chainId:K.string().or(K.number()).optional(),from:K.string().optional(),version:K.string().optional(),capabilities:K.any().optional(),calls:K.array(K.object({to:K.string().startsWith("0x"),data:K.string().startsWith("0x").optional(),value:K.string().optional()}))}))}),cEe=K.object({method:K.literal("wallet_getCallsStatus"),params:K.array(K.string())}),fEe=K.object({method:K.literal("wallet_getCapabilities")}),lEe=K.object({method:K.literal("wallet_grantPermissions"),params:K.array(K.any())}),uEe=K.object({method:K.literal("wallet_revokePermissions"),params:K.any()}),hEe=K.object({method:K.literal("wallet_getAssets"),params:K.any()}),a4=K.object({token:K.string()}),Oe=K.object({id:K.string().optional()}),lm={appEvent:Oe.extend({type:Ce("APP_SWITCH_NETWORK"),payload:Kme}).or(Oe.extend({type:Ce("APP_CONNECT_EMAIL"),payload:Jme})).or(Oe.extend({type:Ce("APP_CONNECT_DEVICE")})).or(Oe.extend({type:Ce("APP_CONNECT_OTP"),payload:Xme})).or(Oe.extend({type:Ce("APP_CONNECT_SOCIAL"),payload:Yme})).or(Oe.extend({type:Ce("APP_GET_FARCASTER_URI")})).or(Oe.extend({type:Ce("APP_CONNECT_FARCASTER")})).or(Oe.extend({type:Ce("APP_GET_USER"),payload:K.optional(Zme)})).or(Oe.extend({type:Ce("APP_GET_SOCIAL_REDIRECT_URI"),payload:Qme})).or(Oe.extend({type:Ce("APP_SIGN_OUT")})).or(Oe.extend({type:Ce("APP_IS_CONNECTED"),payload:K.optional(a4)})).or(Oe.extend({type:Ce("APP_GET_CHAIN_ID")})).or(Oe.extend({type:Ce("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Oe.extend({type:Ce("APP_INIT_SMART_ACCOUNT")})).or(Oe.extend({type:Ce("APP_SET_PREFERRED_ACCOUNT"),payload:sbe})).or(Oe.extend({type:Ce("APP_RPC_REQUEST"),payload:o4.or(hEe).or(vbe).or(_be).or(Abe).or(Nbe).or(xbe).or(Ibe).or(Sbe).or(Rbe).or(Tbe).or(Cbe).or(Obe).or(Pbe).or(Ube).or(Mbe).or(Dbe).or(kbe).or(Lbe).or(Fbe).or($be).or(Bbe).or(Gbe).or(jbe).or(zbe).or(Wbe).or(Hbe).or(qbe).or(Vbe).or(Kbe).or(Jbe).or(Xbe).or(Ybe).or(Zbe).or(Qbe).or(eEe).or(o4).or(tEe).or(rEe).or(nEe).or(iEe).or(sEe).or(oEe).or(cEe).or(aEe).or(fEe).or(lEe).or(uEe)})).or(Oe.extend({type:Ce("APP_UPDATE_EMAIL"),payload:ebe})).or(Oe.extend({type:Ce("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:tbe})).or(Oe.extend({type:Ce("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:rbe})).or(Oe.extend({type:Ce("APP_SYNC_THEME"),payload:nbe})).or(Oe.extend({type:Ce("APP_SYNC_DAPP_DATA"),payload:ibe})).or(Oe.extend({type:Ce("APP_RELOAD")})),frameEvent:Oe.extend({type:Ce("FRAME_SWITCH_NETWORK_ERROR"),payload:Qr}).or(Oe.extend({type:Ce("FRAME_SWITCH_NETWORK_SUCCESS"),payload:gbe})).or(Oe.extend({type:Ce("FRAME_CONNECT_EMAIL_SUCCESS"),payload:obe})).or(Oe.extend({type:Ce("FRAME_CONNECT_EMAIL_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:abe})).or(Oe.extend({type:Ce("FRAME_GET_FARCASTER_URI_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:cbe})).or(Oe.extend({type:Ce("FRAME_CONNECT_FARCASTER_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_CONNECT_OTP_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_CONNECT_OTP_SUCCESS")})).or(Oe.extend({type:Ce("FRAME_CONNECT_DEVICE_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Oe.extend({type:Ce("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:fbe})).or(Oe.extend({type:Ce("FRAME_CONNECT_SOCIAL_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_GET_USER_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_GET_USER_SUCCESS"),payload:ube})).or(Oe.extend({type:Ce("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:hbe})).or(Oe.extend({type:Ce("FRAME_SIGN_OUT_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_SIGN_OUT_SUCCESS")})).or(Oe.extend({type:Ce("FRAME_IS_CONNECTED_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_IS_CONNECTED_SUCCESS"),payload:dbe})).or(Oe.extend({type:Ce("FRAME_GET_CHAIN_ID_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_GET_CHAIN_ID_SUCCESS"),payload:pbe})).or(Oe.extend({type:Ce("FRAME_RPC_REQUEST_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_RPC_REQUEST_SUCCESS"),payload:wbe})).or(Oe.extend({type:Ce("FRAME_SESSION_UPDATE"),payload:a4})).or(Oe.extend({type:Ce("FRAME_UPDATE_EMAIL_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_UPDATE_EMAIL_SUCCESS"),payload:lbe})).or(Oe.extend({type:Ce("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Oe.extend({type:Ce("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:mbe})).or(Oe.extend({type:Ce("FRAME_SYNC_THEME_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_SYNC_THEME_SUCCESS")})).or(Oe.extend({type:Ce("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Oe.extend({type:Ce("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:bbe})).or(Oe.extend({type:Ce("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:ybe})).or(Oe.extend({type:Ce("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_READY"),payload:Ebe})).or(Oe.extend({type:Ce("FRAME_RELOAD_ERROR"),payload:Qr})).or(Oe.extend({type:Ce("FRAME_RELOAD_SUCCESS")}))};function Ox(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class dEe{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=_e.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:f}){if(!Ox(Me.FRAME_EVENT_KEY,f))return;const l=lm.frameEvent.parse(f);l.id===s&&(o(l),window.removeEventListener("message",c))}xo.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{xo.isClient&&window.addEventListener("message",({data:o})=>{if(!Ox(Me.FRAME_EVENT_KEY,o))return;const a=lm.frameEvent.parse(o);s(a)})},onAppEvent:s=>{xo.isClient&&window.addEventListener("message",({data:o})=>{if(!Ox(Me.APP_EVENT_KEY,o))return;const a=lm.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(xo.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");lm.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(xo.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");lm.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),r&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),xo.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${dge}?projectId=${e}&chainId=${n}&version=${gge}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class pEe{constructor(e){var s;const r=wg({level:pge}),{logger:n,chunkLoggerController:i}=UT({opts:r});this.logger=ws(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class gEe{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i}){this.openRpcRequests=[],n&&(this.w3mLogger=new pEe(e)),this.w3mFrame=new dEe({projectId:e,isAppClient:!0,chainId:r,enableLogger:n}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(o=>{o.type===Me.FRAME_READY&&(this.initPromise=void 0,s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!ji.get(Me.EMAIL_LOGIN_USED_KEY)}getEmail(){return ji.get(Me.EMAIL)}getUsername(){return ji.get(Me.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:Me.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{xo.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const n=await this.appEvent({type:Me.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:Me.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:Me.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:Me.APP_IS_CONNECTED});return r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:Me.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:Me.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:Me.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:Me.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:Me.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:Me.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:Me.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:Me.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:Me.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:Me.APP_GET_USER,payload:{...e,chainId:n}});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async getUser(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:Me.APP_GET_USER,payload:{...e,chainId:n}});return this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const n=await this.appEvent({type:Me.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:Me.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:Me.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const n=await this.appEvent({type:Me.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{const r=await this.appEvent({type:Me.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,n,i,s;try{if(wn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const o=await this.appEvent({type:Me.APP_RPC_REQUEST,payload:e});return(n=this.rpcSuccessHandler)==null||n.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Me.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Me.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Me.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Me.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Me.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Me.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Me.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:wn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Me.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===Me.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:n})=>{wn.SAFE_RPC_METHODS.includes(n)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function n(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=n(e.type);return[Me.APP_CONNECT_EMAIL,Me.APP_CONNECT_DEVICE,Me.APP_CONNECT_OTP,Me.APP_CONNECT_SOCIAL,Me.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(s)&&(r=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,c)=>{var u,h,g;const f=Math.random().toString(36).substring(7);if((g=(u=this.w3mLogger)==null?void 0:(h=u.logger).info)==null||g.call(h,{event:e,id:f},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:f}),s==="RPC_REQUEST"){const m=e;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function l(m,w){var N,I,C;m.id===f&&((I=w==null?void 0:(N=w.logger).info)==null||I.call(N,{framEvent:m,id:f},"Received frame response"),m.type===`@w3m-frame/${s}_SUCCESS`?(r&&clearTimeout(r),"payload"in m&&a(m.payload),a(void 0)):m.type===`@w3m-frame/${s}_ERROR`&&(r&&clearTimeout(r),"payload"in m&&c(new Error(((C=m.payload)==null?void 0:C.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(f,m=>l(m,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){ji.set(Me.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ji.set(Me.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ji.set(Me.EMAIL,e),ji.set(Me.EMAIL_LOGIN_USED_KEY,"true"),ji.delete(Me.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ji.delete(Me.EMAIL_LOGIN_USED_KEY),ji.delete(Me.EMAIL),ji.delete(Me.LAST_USED_CHAIN_KEY),ji.delete(Me.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ji.set(Me.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ji.get(Me.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){ji.set(Me.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class ib{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i}){return ib.instance||(ib.instance=new gEe({projectId:e,chainId:r,enableLogger:n,onTimeout:i})),ib.instance}}const mEe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},uR={filterOutDuplicatesByRDNS(t){const e=be.state.enableEIP6963?ft.state.connectors:[],r=De.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&Ke.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=ft.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=De.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ft.state,r=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!r[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=be.state.features)==null?void 0:c.connectMethodsOrder),n=e||ft.state.connectors;if(r)return r;const{injected:i,announced:s}=$1.getConnectorsByType(n,dt.state.recommended,dt.state.featured),o=i.filter($1.showConnector),a=s.filter($1.showConnector);return o.length||a.length?["wallet","email","social"]:mEe.DEFAULT_CONNECT_METHOD_ORDER}},$1={getConnectorsByType(t,e,r){const{customWallets:n}=be.state,i=De.getRecentWallets(),s=uR.filterOutDuplicateWallets(e),o=uR.filterOutDuplicateWallets(r),a=t.filter(u=>u.type==="MULTI_CHAIN"),c=t.filter(u=>u.type==="ANNOUNCED"),f=t.filter(u=>u.type==="INJECTED"),l=t.filter(u=>u.type==="EXTERNAL");return{custom:n,recent:i,external:l,multiChain:a,announced:c,injected:f,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,r=!!e&&dt.state.excludedWallets.some(s=>s.rdns===e),n=!!t.name&&dt.state.excludedWallets.some(s=>qv.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!Ke.isMobile()&&t.name==="Browser Wallet"||!e&&!Sr.checkInstalled()||r||n)||t.type==="ANNOUNCED"&&(r||n))},getIsConnectedWithWC(){return Array.from(Q.state.chains.values()).some(r=>ft.getConnectorId(r.namespace)===_e.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(f=>(f=be.state.features)==null?void 0:f.connectorTypeOrder)()??[]}){const l=$1.getIsConnectedWithWC(),g=[{type:"walletConnect",isEnabled:be.state.enableWalletConnect&&!l},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(I=>I.isEnabled),m=new Set(g.map(I=>I.type)),w=c.filter(I=>m.has(I)).map(I=>({type:I,isEnabled:!0})),N=g.filter(({type:I})=>!w.some(({type:M})=>M===I));return Array.from(new Set([...w,...N].map(({type:I})=>I)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const B1=globalThis,pC=B1.ShadowRoot&&(B1.ShadyCSS===void 0||B1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gC=Symbol(),c4=new WeakMap;let bz=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==gC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(pC&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=c4.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&c4.set(r,e))}return e}toString(){return this.cssText}};const Qo=t=>new bz(typeof t=="string"?t:t+"",void 0,gC),Rp=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new bz(r,t,gC)},bEe=(t,e)=>{if(pC)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=B1.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},f4=pC?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Qo(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:EEe,defineProperty:yEe,getOwnPropertyDescriptor:wEe,getOwnPropertyNames:vEe,getOwnPropertySymbols:_Ee,getPrototypeOf:AEe}=Object,Yu=globalThis,l4=Yu.trustedTypes,NEe=l4?l4.emptyScript:"",Px=Yu.reactiveElementPolyfillSupport,sb=(t,e)=>t,hR={toAttribute(t,e){switch(e){case Boolean:t=t?NEe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},Ez=(t,e)=>!EEe(t,e),u4={attribute:!0,type:String,converter:hR,reflect:!1,useDefault:!1,hasChanged:Ez};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Yu.litPropertyMetadata??(Yu.litPropertyMetadata=new WeakMap);let tp=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=u4){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&yEe(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=wEe(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??u4}static _$Ei(){if(this.hasOwnProperty(sb("elementProperties")))return;const e=AEe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(sb("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(sb("properties"))){const r=this.properties,n=[...vEe(r),..._Ee(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(f4(i))}else e!==void 0&&r.push(f4(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return bEe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:hR).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var s,o;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=n.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:hR;this._$Em=i,this[i]=c.fromAttribute(r,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,r,n){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(n??(n=s.getPropertyOptions(e)),!((n.hasChanged??Ez)(o,r)||n.useDefault&&n.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};tp.elementStyles=[],tp.shadowRootOptions={mode:"open"},tp[sb("elementProperties")]=new Map,tp[sb("finalized")]=new Map,Px==null||Px({ReactiveElement:tp}),(Yu.reactiveElementVersions??(Yu.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ob=globalThis,n_=ob.trustedTypes,h4=n_?n_.createPolicy("lit-html",{createHTML:t=>t}):void 0,yz="$lit$",Gu=`lit$${Math.random().toFixed(9).slice(2)}$`,wz="?"+Gu,xEe=`<${wz}>`,Kd=document,gE=()=>Kd.createComment(""),mE=t=>t===null||typeof t!="object"&&typeof t!="function",mC=Array.isArray,IEe=t=>mC(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Ux=`[ 	
\f\r]`,um=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,d4=/-->/g,p4=/>/g,nd=RegExp(`>|${Ux}(?:([^\\s"'>=/]+)(${Ux}*=${Ux}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g4=/'/g,m4=/"/g,vz=/^(?:script|style|textarea|title)$/i,_z=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),$ke=_z(1),Bke=_z(2),og=Symbol.for("lit-noChange"),Ri=Symbol.for("lit-nothing"),b4=new WeakMap,Ad=Kd.createTreeWalker(Kd,129);function Az(t,e){if(!mC(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return h4!==void 0?h4.createHTML(e):e}const SEe=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=um;for(let a=0;a<r;a++){const c=t[a];let f,l,u=-1,h=0;for(;h<c.length&&(o.lastIndex=h,l=o.exec(c),l!==null);)h=o.lastIndex,o===um?l[1]==="!--"?o=d4:l[1]!==void 0?o=p4:l[2]!==void 0?(vz.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=nd):l[3]!==void 0&&(o=nd):o===nd?l[0]===">"?(o=i??um,u=-1):l[1]===void 0?u=-2:(u=o.lastIndex-l[2].length,f=l[1],o=l[3]===void 0?nd:l[3]==='"'?m4:g4):o===m4||o===g4?o=nd:o===d4||o===p4?o=um:(o=nd,i=void 0);const g=o===nd&&t[a+1].startsWith("/>")?" ":"";s+=o===um?c+xEe:u>=0?(n.push(f),c.slice(0,u)+yz+c.slice(u)+Gu+g):c+Gu+(u===-2?a:g)}return[Az(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let dR=class Nz{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[f,l]=SEe(e,r);if(this.el=Nz.createElement(f,n),Ad.currentNode=this.el.content,r===2||r===3){const u=this.el.content.firstChild;u.replaceWith(...u.childNodes)}for(;(i=Ad.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const u of i.getAttributeNames())if(u.endsWith(yz)){const h=l[o++],g=i.getAttribute(u).split(Gu),m=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:m[2],strings:g,ctor:m[1]==="."?TEe:m[1]==="?"?CEe:m[1]==="@"?OEe:xA}),i.removeAttribute(u)}else u.startsWith(Gu)&&(c.push({type:6,index:s}),i.removeAttribute(u));if(vz.test(i.tagName)){const u=i.textContent.split(Gu),h=u.length-1;if(h>0){i.textContent=n_?n_.emptyScript:"";for(let g=0;g<h;g++)i.append(u[g],gE()),Ad.nextNode(),c.push({type:2,index:++s});i.append(u[h],gE())}}}else if(i.nodeType===8)if(i.data===wz)c.push({type:2,index:s});else{let u=-1;for(;(u=i.data.indexOf(Gu,u+1))!==-1;)c.push({type:7,index:s}),u+=Gu.length-1}s++}}static createElement(e,r){const n=Kd.createElement("template");return n.innerHTML=e,n}};function ag(t,e,r=t,n){var o,a;if(e===og)return e;let i=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const s=mE(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=ag(t,i._$AS(t,e.values),i,n)),e}class REe{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??Kd).importNode(r,!0);Ad.currentNode=i;let s=Ad.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let f;c.type===2?f=new gy(s,s.nextSibling,this,e):c.type===1?f=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(f=new PEe(s,this,e)),this._$AV.push(f),c=n[++a]}o!==(c==null?void 0:c.index)&&(s=Ad.nextNode(),o++)}return Ad.currentNode=Kd,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class gy{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Ri,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=ag(this,e,r),mE(e)?e===Ri||e==null||e===""?(this._$AH!==Ri&&this._$AR(),this._$AH=Ri):e!==this._$AH&&e!==og&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):IEe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ri&&mE(this._$AH)?this._$AA.nextSibling.data=e:this.T(Kd.createTextNode(e)),this._$AH=e}$(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=dR.createElement(Az(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const o=new REe(i,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=b4.get(e.strings);return r===void 0&&b4.set(e.strings,r=new dR(e)),r}k(e){mC(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new gy(this.O(gE()),this.O(gE()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class xA{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Ri,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ri}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=ag(this,e,r,0),o=!mE(e)||e!==this._$AH&&e!==og,o&&(this._$AH=e);else{const a=e;let c,f;for(e=s[0],c=0;c<s.length-1;c++)f=ag(this,a[n+c],r,c),f===og&&(f=this._$AH[c]),o||(o=!mE(f)||f!==this._$AH[c]),f===Ri?e=Ri:e!==Ri&&(e+=(f??"")+s[c+1]),this._$AH[c]=f}o&&!i&&this.j(e)}j(e){e===Ri?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class TEe extends xA{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ri?void 0:e}}class CEe extends xA{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ri)}}class OEe extends xA{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=ag(this,e,r,0)??Ri)===og)return;const n=this._$AH,i=e===Ri&&n!==Ri||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Ri&&(n===Ri||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}let PEe=class{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ag(this,e)}};const Mx=ob.litHtmlPolyfillSupport;Mx==null||Mx(dR,gy),(ob.litHtmlVersions??(ob.litHtmlVersions=[])).push("3.3.0");const UEe=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new gy(e.insertBefore(gE(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Od=globalThis;class G1 extends tp{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=UEe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return og}}var OF;G1._$litElement$=!0,G1.finalized=!0,(OF=Od.litElementHydrateSupport)==null||OF.call(Od,{LitElement:G1});const Dx=Od.litElementPolyfillSupport;Dx==null||Dx({LitElement:G1});(Od.litElementVersions??(Od.litElementVersions=[])).push("4.2.0");let ab,Zu,Qu;function jke(t,e){ab=document.createElement("style"),Zu=document.createElement("style"),Qu=document.createElement("style"),ab.textContent=Tp(t).core.cssText,Zu.textContent=Tp(t).dark.cssText,Qu.textContent=Tp(t).light.cssText,document.head.appendChild(ab),document.head.appendChild(Zu),document.head.appendChild(Qu),xz(e)}function xz(t){Zu&&Qu&&(t==="light"?(Zu.removeAttribute("media"),Qu.media="enabled"):(Qu.removeAttribute("media"),Zu.media="enabled"))}function MEe(t){ab&&Zu&&Qu&&(ab.textContent=Tp(t).core.cssText,Zu.textContent=Tp(t).dark.cssText,Qu.textContent=Tp(t).light.cssText)}function Tp(t){return{core:Rp`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Qo(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Qo((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Qo((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Qo((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Qo((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Rp`
      :root {
        --w3m-color-mix: ${Qo((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Qo(Wl(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Qo(Wl(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Rp`
      :root {
        --w3m-color-mix: ${Qo((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Qo(Wl(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Qo(Wl(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const zke=Rp`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Wke=Rp`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Hke=Rp`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function DEe(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function E4(t){return DEe(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Iz="2.26.3";let hm={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Iz}`};class cg extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof cg?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=(()=>r.cause instanceof cg&&r.cause.docsPath||r.docsPath)(),s=(a=hm.getDocsUrl)==null?void 0:a.call(hm,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...hm.version?[`Version: ${hm.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Iz}walk(e){return Sz(this,e)}}function Sz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Sz(t.cause,e):e?null:t}class Rz extends cg{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function bC(t,{dir:e,size:r=32}={}){return typeof t=="string"?kEe(t,{dir:e,size:r}):LEe(t,{dir:e,size:r})}function kEe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Rz({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function LEe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Rz({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class FEe extends cg{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class $Ee extends cg{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Tz(t,{size:e}){if(E4(t)>e)throw new $Ee({givenSize:E4(t),maxSize:e})}const BEe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function y4(t,e={}){return typeof t=="number"||typeof t=="bigint"?jEe(t,e):typeof t=="string"?WEe(t,e):typeof t=="boolean"?GEe(t,e):Cz(t,e)}function GEe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Tz(r,{size:e.size}),bC(r,{size:e.size})):r}function Cz(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=BEe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Tz(n,{size:e.size}),bC(n,{dir:"right",size:e.size})):n}function jEe(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new FEe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?bC(a,{size:n}):a}const zEe=new TextEncoder;function WEe(t,e={}){const r=zEe.encode(t);return Cz(r,e)}function HEe(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Ku={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},qEe=HEe({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0});function my(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const w4=my({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),v4=my({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});my({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});my({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});my({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const VEe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},EC={getMethodsByChainNamespace(t){return VEe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const f=`${o}:${s}`,l=n[o];switch(l.chains.push(f),f){case w4.caipNetworkId:l.chains.push(w4.deprecatedCaipNetworkId);break;case v4.caipNetworkId:l.chains.push(v4.deprecatedCaipNetworkId);break}return l!=null&&l.rpcMap&&c&&(l.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var n;const e=await rz.resolveName(t);return((n=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class yC{constructor({provider:e,caipNetworks:r,namespace:n}){this.id=_e.CONNECTOR_ID.WALLET_CONNECT,this.name=$f.ConnectorNamesMap[_e.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=$f.ConnectorImageIds[_e.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=r,this.provider=e,this.chain=n}get chains(){return this.caipNetworks}async connectWalletConnect(){if(!await this.authenticate()){const r=be.state.universalProviderConfigOverride,n=EC.createNamespaces(this.caipNetworks,r);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return rb.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:KEe})}}const KEe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Oz{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:_e.CONNECTOR_ID.AUTH,type:"AUTH",name:_e.CONNECTOR_NAMES.AUTH,provider:e,imageId:$f.ConnectorImageIds[_e.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){Fe.setStatus(e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i;await s.switchNetwork(r.caipNetworkId);const o=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:be.state.defaultAccountTypes[r.chainNamespace]});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof yC);if(!e)throw new Error("WalletConnectConnector not found");return e}}class JEe extends Oz{setUniversalProvider(e){this.addConnector(new yC({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const r=this.provider,n=((a=(o=(s=(i=r==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,f]=c.split(":");return f}).filter((c,f,l)=>l.indexOf(c)===f))||[];return Promise.resolve({accounts:n.map(c=>Ke.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,f;if(!(e.caipNetwork&&Vi.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Fe.state.balanceLoading&&e.chainId===((c=Q.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Fe.state.balance||"0.00",symbol:Fe.state.balanceSymbol||""};const i=(await Fe.fetchTokenBalance()).find(l=>{var u,h;return l.chainId===`${(u=e.caipNetwork)==null?void 0:u.chainNamespace}:${e.chainId}`&&l.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=Q.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===_e.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:fG.encode(new TextEncoder().encode(n)),pubkey:i}},(a=Q.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},(c=Q.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,f;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===_e.CHAIN.EVM)try{await((i=n.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:y4(r.id)}]}))}catch(l){if(l.code===Ku.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||l.code===Ku.ERROR_INVALID_CHAIN_ID||l.code===Ku.ERROR_CODE_DEFAULT||((o=(s=l==null?void 0:l.data)==null?void 0:s.originalError)==null?void 0:o.code)===Ku.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((f=n.provider)==null?void 0:f.request({method:"wallet_addEthereumChain",params:[{chainId:y4(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class XEe{constructor(e){var r;this.hasSwitchedToPreferredAccountTypeOnConnect=!1,this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=n=>{var i,s;if(n){const o=(i=Q.getNetworkData(n))==null?void 0:i.caipNetwork;return o||((s=Q.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n))==null?void 0:s[0])}return Q.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>Q.getRequestedCaipNetworks(n),this.getActiveChainNamespace=()=>Q.state.activeChain,this.setRequestedCaipNetworks=(n,i)=>{Q.setRequestedCaipNetworks(n,i)},this.getApprovedCaipNetworkIds=()=>Q.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>Q.state.activeChain===n||!n?Q.state.activeCaipAddress:Q.getAccountProp("caipAddress",n),this.setClientId=n=>{qe.setClientId(n)},this.getProvider=n=>Ot.getProvider(n),this.getProviderType=n=>Ot.getProviderId(n),this.getPreferredAccountType=()=>Fe.state.preferredAccountType,this.setCaipAddress=(n,i)=>{Fe.setCaipAddress(n,i)},this.setBalance=(n,i,s)=>{Fe.setBalance(n,i,s)},this.setProfileName=(n,i)=>{Fe.setProfileName(n,i)},this.setProfileImage=(n,i)=>{Fe.setProfileImage(n,i)},this.setUser=(n,i)=>{Fe.setUser(n,i),be.state.enableEmbedded&&vn.close()},this.resetAccount=n=>{Fe.resetAccount(n)},this.setCaipNetwork=n=>{Q.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,i)=>{Q.setChainNetworkData(i,{caipNetwork:n})},this.setAllAccounts=(n,i)=>{Fe.setAllAccounts(n,i),be.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,i)=>{Fe.setStatus(n,i),ft.isConnected()?De.setConnectionStatus("connected"):De.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>Q.getAccountProp("address",n),this.setConnectors=n=>{const i=[...ft.getConnectors(),...n];ft.setConnectors(i)},this.fetchIdentity=n=>qe.fetchIdentity(n),this.getReownName=n=>rz.getNamesForAddress(n),this.getConnectors=()=>ft.getConnectors(),this.getConnectorImage=n=>tB.getConnectorImage(n),this.setConnectedWalletInfo=(n,i)=>{const s=Ot.getProviderId(i),o=n?{...n,type:s}:void 0;Fe.setConnectedWalletInfo(o,i)},this.getIsConnectedState=()=>!!Q.state.activeCaipAddress,this.addAddressLabel=(n,i,s)=>{Fe.addAddressLabel(n,i,s)},this.removeAddressLabel=(n,i)=>{Fe.removeAddressLabel(n,i)},this.getAddress=n=>Q.state.activeChain===n||!n?Fe.state.address:Q.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>Q.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{Q.resetNetwork(n)},this.addConnector=n=>{ft.addConnector(n)},this.resetWcConnection=()=>{Sr.resetWcConnection()},this.setAddressExplorerUrl=(n,i)=>{Fe.setAddressExplorerUrl(n,i)},this.setSmartAccountDeployed=(n,i)=>{Fe.setSmartAccountDeployed(n,i)},this.setSmartAccountEnabledNetworks=(n,i)=>{Q.setSmartAccountEnabledNetworks(n,i)},this.setPreferredAccountType=(n,i)=>{Fe.setPreferredAccountType(n,i)},this.setEIP6963Enabled=n=>{be.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set((r=this.caipNetworks)==null?void 0:r.map(n=>n.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),Xl.set({initialized:!0})}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,Rr.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(i=>i.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&os.setThemeMode(e.themeMode),e.themeVariables&&os.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");Q.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&Q.setActiveCaipNetwork(r)}initializeConnectionController(e){Sr.setWcBasic(e.basic??!1)}initializeConnectorController(){ft.initialize(this.chainNamespaces)}initializeOptionsController(e){var i;be.setDebug(e.debug!==!1),be.setEnableWalletConnect(e.enableWalletConnect!==!1),be.setEnableWalletGuide(e.enableWalletGuide!==!1),be.setEnableWallets(e.enableWallets!==!1),be.setEIP6963Enabled(e.enableEIP6963!==!1),be.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),be.setEnableAuthLogger(e.enableAuthLogger!==!1),be.setCustomRpcUrls(e.customRpcUrls),be.setSdkVersion(e.sdkVersion),be.setProjectId(e.projectId),be.setEnableEmbedded(e.enableEmbedded),be.setAllWallets(e.allWallets),be.setIncludeWalletIds(e.includeWalletIds),be.setExcludeWalletIds(e.excludeWalletIds),be.setFeaturedWalletIds(e.featuredWalletIds),be.setTokens(e.tokens),be.setTermsConditionsUrl(e.termsConditionsUrl),be.setPrivacyPolicyUrl(e.privacyPolicyUrl),be.setCustomWallets(e.customWallets),be.setFeatures(e.features),be.setAllowUnsupportedChain(e.allowUnsupportedChain),be.setDefaultAccountTypes(e.defaultAccountTypes),be.setUniversalProviderConfigOverride(e.universalProviderConfigOverride);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),be.setMetadata(e.metadata),be.setDisableAppend(e.disableAppend),be.setEnableEmbedded(e.enableEmbedded),be.setSIWX(e.siwx),!e.projectId){Ym.open(Dm.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(s=>s.namespace===_e.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");be.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,i;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=Q0.getUnsupportedNetwork(`${r}:${e}`);Q.setActiveCaipNetwork(n)}}getDefaultNetwork(){return Q0.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return Q0.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return Q0.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return r?Q0.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=Q.state.activeChain,r=this.getAdapter(e),n=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),De.setConnectedNamespaces([...Q.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ft.setConnectorId(xr.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:i,chain:s,caipNetwork:o})=>{var g,m,w,N,I,C,M;const a=Q.state.activeChain,c=s||a,f=this.getAdapter(c);if(s&&s!==a&&!o){const k=(g=this.caipNetworks)==null?void 0:g.find(L=>L.chainNamespace===s);k&&this.setCaipNetwork(k)}if(!f)throw new Error("Adapter not found");const l=this.getCaipNetwork(c),u=await f.connect({id:e,info:r,type:n,provider:i,chainId:(o==null?void 0:o.id)||(l==null?void 0:l.id),rpcUrl:((N=(w=(m=o==null?void 0:o.rpcUrls)==null?void 0:m.default)==null?void 0:w.http)==null?void 0:N[0])||((M=(C=(I=l==null?void 0:l.rpcUrls)==null?void 0:I.default)==null?void 0:C.http)==null?void 0:M[0])});if(!u)return;De.addConnectedNamespace(c),this.syncProvider({...u,chainNamespace:c}),await this.syncAccount({...u,chainNamespace:c});const{accounts:h}=await f.getAccounts({namespace:c,id:e});this.setAllAccounts(h,c)},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{var a;const s=Q.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),De.addConnectedNamespace(s))},disconnect:async e=>{const r=e||Q.state.activeChain,n=this.getAdapter(r),i=Ot.getProvider(r),s=Ot.getProviderId(r);await(n==null?void 0:n.disconnect({provider:i,providerType:s})),De.removeConnectedNamespace(r),Ot.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.hasSwitchedToPreferredAccountTypeOnConnect=!1},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(Q.state.activeChain),n=await(r==null?void 0:r.signMessage({message:e,address:Fe.state.address,provider:Ot.getProvider(Q.state.activeChain)}));return(n==null?void 0:n.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===_e.CHAIN.EVM){const r=this.getAdapter(Q.state.activeChain),n=Ot.getProvider(Q.state.activeChain),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===_e.CHAIN.EVM){const r=this.getAdapter(Q.state.activeChain),n=Ot.getProvider(Q.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(r==null?void 0:r.estimateGas({...e,provider:n,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=this.getAdapter(Q.state.activeChain),r=await(e==null?void 0:e.getProfile({address:Fe.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(Q.state.activeChain),n=this.getCaipNetwork();if(!n)return!1;const i=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:n}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const r=this.getAdapter(Q.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),s=Ot.getProvider(Q.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(r==null?void 0:r.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,r)=>{const n=this.getAdapter(Q.state.activeChain);return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(Q.state.activeChain);return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(Q.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(Q.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(Q.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(Q.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Sr.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,n,i,s,o;if(Ot.getProviderId(Q.state.activeChain)===xr.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Ot.getProvider(r),s=Ot.getProviderId(r);if(e.chainNamespace===Q.state.activeChain){const o=this.getAdapter(r);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===xr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Rl.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===n);return i?(r[n]=i,r[n].namespace=n,r[n].construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.caipNetworks})):r[n]=new JEe({namespace:n,networks:this.caipNetworks}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=De.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(De.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{var f;const o=(f=this.caipNetworks)==null?void 0:f.find(l=>l.id===s||l.caipNetworkId===s),a=Q.state.activeChain===e,c=Q.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:s,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const i=Fe.state.address,s=Q.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=Q.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=Q.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=Q.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var r,n,i;await this.getUniversalProvider(),this.universalProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null||i.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=ft.getConnectorId(e);switch(this.setStatus("connecting",e),r){case _e.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case _e.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const r=this.getAdapter(e),n=ft.getConnectorId(e),i=this.getCaipNetwork(e),s=ft.getConnectors(e).find(f=>f.id===n);try{if(!r||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const f=await(r==null?void 0:r.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(f){const l=await(r==null?void 0:r.getAccounts({namespace:e,id:s.id}));l&&l.accounts.length>0?this.setAllAccounts(l.accounts,e):this.setAllAccounts([Ke.createAccount(e,f.address,"eoa")],e),this.syncProvider({...f,chainNamespace:e}),await this.syncAccount({...f,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var a,c,f,l,u;const n=this.getAdapter(r),i=((l=(f=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:f[r])==null?void 0:l.accounts)||[],s=(u=Q.state.activeCaipNetwork)==null?void 0:u.id,o=i.find(h=>{const{chainId:g}=Rl.parseCaipAddress(h);return g===(s==null?void 0:s.toString())})||i[0];if(o){const h=Rl.validateCaipAddress(o),{chainId:g,address:m}=Rl.parseCaipAddress(h);if(Ot.setProviderId(r,xr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&Q.state.activeCaipNetwork&&(n==null?void 0:n.namespace)!==_e.CHAIN.EVM){const w=n==null?void 0:n.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:Q.state.activeCaipNetwork});Ot.setProvider(r,w)}else Ot.setProvider(r,this.universalProvider);ft.setConnectorId(_e.CONNECTOR_ID.WALLET_CONNECT,r),De.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:m,chainId:g,chainNamespace:r})}else this.setStatus("disconnected",r);await Q.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var n,i,s,o,a;const r=(a=(o=(s=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:f}=Rl.parseCaipAddress(c);return f}).filter((c,f,l)=>l.indexOf(c)===f);r&&this.setAllAccounts(r.map(c=>Ke.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){Ot.setProviderId(i,e),Ot.setProvider(i,r),ft.setConnectorId(n,i)}async syncAccount(e){var u,h,g,m,w,N;const r=e.chainNamespace===Q.state.activeChain,n=Q.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=De.getActiveNetworkProps(),c=s||a,f=((u=Q.state.activeCaipNetwork)==null?void 0:u.name)===_e.UNSUPPORTED_NETWORK_NAME,l=Q.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(f&&!l)&&c){let I=(h=this.caipNetworks)==null?void 0:h.find(k=>k.id.toString()===c.toString()),C=(g=this.caipNetworks)==null?void 0:g.find(k=>k.chainNamespace===o);if(!l&&!I&&!C){const k=this.getApprovedCaipNetworkIds()||[],L=k.find(V=>{var P;return((P=Rl.parseCaipNetworkId(V))==null?void 0:P.chainId)===c.toString()}),$=k.find(V=>{var P;return((P=Rl.parseCaipNetworkId(V))==null?void 0:P.chainNamespace)===o});I=(m=this.caipNetworks)==null?void 0:m.find(V=>V.caipNetworkId===L),C=(w=this.caipNetworks)==null?void 0:w.find(V=>V.caipNetworkId===$||"deprecatedCaipNetworkId"in V&&V.deprecatedCaipNetworkId===$)}const M=I||C;(M==null?void 0:M.chainNamespace)===Q.state.activeChain?be.state.enableNetworkSwitch&&!be.state.allowUnsupportedChain&&((N=Q.state.activeCaipNetwork)==null?void 0:N.name)===_e.UNSUPPORTED_NETWORK_NAME?Q.showUnsupportedChainUI():this.setCaipNetwork(M):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),qv.isLowerCaseMatch(i,Fe.state.address)||this.syncAccountInfo(i,M==null?void 0:M.id,o),r?await this.syncBalance({address:i,chainId:M==null?void 0:M.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n==null?void 0:n.id,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var i;const r=ft.getConnectorId(e),n=Ot.getProviderId(e);if(n===xr.CONNECTOR_TYPE_ANNOUNCED||n===xr.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>o.id===r);if(s){const{info:o,name:a,imageUrl:c}=s,f=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:f,...o},e)}}}else if(n===xr.CONNECTOR_TYPE_WALLET_CONNECT){const s=Ot.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(r)if(r===_e.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===_e.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!Z$.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(n=>{var i;return n.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const i=this.getAdapter(n);if(i){const s=await i.getBalance({address:e,chainId:r,caipNetwork:this.getCaipNetwork(n),tokens:this.options.tokens});this.setBalance(s.balance,s.symbol,n)}}async initializeUniversalAdapter(){var n,i,s,o,a,c,f,l,u,h;const e=vge.createLogger((g,...m)=>{g&&this.handleAlertError(g),console.error(...m)}),r={projectId:(n=this.options)==null?void 0:n.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(f=this.options)==null?void 0:f.metadata.url:"",icons:(l=this.options)!=null&&l.metadata?(u=this.options)==null?void 0:u.metadata.icons:[""]},logger:e};be.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await uge.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Sr.setUri(e)}),this.universalProvider.on("connect",Sr.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Sr.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{var i;const r=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(n==null?void 0:n.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(EC.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&Ke.isCaipAddress(n[0])&&this.syncAccount(Rl.parseCaipAddress(n[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ke.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Rr.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Dm.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Dm.ALERT_ERRORS[o];a&&(Ym.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&Sr.setUri(e.uri),await vn.open(e)}async close(){await this.injectModalUi(),vn.close()}setLoading(e,r){vn.setLoading(e,r)}async disconnect(e){await Sr.disconnect(e)}getError(){return""}getChainId(){var e;return(e=Q.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){var n;const r=(n=this.caipNetworks)==null?void 0:n.find(i=>i.id===e.id);if(!r){Ym.open(Dm.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await Q.switchActiveNetwork(r)}getWalletProvider(){return Q.state.activeChain?Ot.state.providers[Q.state.activeChain]:null}getWalletProviderType(){return Ot.getProviderId(Q.state.activeChain)}subscribeProviders(e){return Ot.subscribeProviders(e)}getThemeMode(){return os.state.themeMode}getThemeVariables(){return os.state.themeVariables}setThemeMode(e){os.setThemeMode(e),xz(os.state.themeMode)}setTermsConditionsUrl(e){be.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){be.setPrivacyPolicyUrl(e)}setThemeVariables(e){os.setThemeVariables(e),MEe(os.state.themeVariables)}subscribeTheme(e){return os.subscribe(e)}getWalletInfo(){return Fe.state.connectedWalletInfo}getAccount(e){const r=ft.getAuthConnector(e),n=Q.getAccountData(e);if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:Ke.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user,authProvider:n.socialProvider||"email",accountType:n.preferredAccountType,isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?Q.subscribeChainProp("accountState",n,r):Q.subscribe(n),ft.subscribe(n)}subscribeNetwork(e){return Q.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return Fe.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Fe.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){Q.subscribeKey("activeCaipNetwork",e)}getState(){return Xl.state}subscribeState(e){return Xl.subscribe(e)}showErrorMessage(e){qi.showError(e)}showSuccessMessage(e){qi.showSuccess(e)}getEvent(){return{...Rr.state}}subscribeEvents(e){return Rr.subscribe(e)}replace(e){rr.replace(e)}redirect(e){rr.push(e)}popTransactionStack(e){rr.popTransactionStack(e)}isOpen(){return vn.state.open}isTransactionStackEmpty(){return rr.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=rr.state.transactionStack[rr.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){be.setFeatures(e)}updateOptions(e){const n={...be.state||{},...e};be.setOptions(n)}setConnectMethodsOrder(e){be.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){be.setWalletFeaturesOrder(e)}setCollapseWallets(e){be.setCollapseWallets(e)}setSocialsOrder(e){be.setSocialsOrder(e)}getConnectMethodsOrder(){return uR.getConnectOrderMethod(be.state.features,ft.getConnectors())}removeAdapter(e){var s;const r=this.getIsConnectedState(),n=this.getAdapter(e);if(!n||!this.chainAdapters||r)return;const i=(s=this.caipNetworks)==null?void 0:s.filter(o=>o.chainNamespace!==e);Q.removeAdapter(e),ft.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(o=>o!==e),this.caipNetworks=i,n.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,r){const n=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!n)return;const i=this.extendCaipNetworks({...this.options,networks:r});this.caipNetworks=[...this.caipNetworks||[],...i],this.createAdapter(e),this.initChainAdapter(n),Q.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},i)}addNetwork(e,r){var i;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);Q.addNetwork(n),this.caipNetworks&&!((i=this.caipNetworks)!=null&&i.find(s=>s.id===n.id))&&this.caipNetworks.push(n)}removeNetwork(e,r){var s;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!((s=this.caipNetworks)==null?void 0:s.find(o=>o.id===r)))throw new Error(`Network with ID ${r} not found`);if(!this.caipNetworks)return;const i=this.caipNetworks.filter(o=>o.chainNamespace===e&&o.id!==r);if(!(i!=null&&i.length))throw new Error("Cannot remove last network for a namespace");Q.removeNetwork(e,r),this.caipNetworks=[...i]}}let _4=!1;class YEe extends XEe{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{xo.checkIfRequestExists(r)?xo.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(wn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(wn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,n)=>{const i=xo.checkIfRequestIsSafe(n),s=Fe.state.address,o=Q.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const r=Q.state.activeChain;ft.getConnectorId(r)===_e.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var c;const n=Q.state.activeChain,i=n===_e.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`;this.setSmartAccountDeployed(!!r.smartAccountDeployed,n);const s=be.state.defaultAccountTypes[n];if(!(!!r.preferredAccountType&&qv.isLowerCaseMatch(r.preferredAccountType,s))&&!this.hasSwitchedToPreferredAccountTypeOnConnect){this.hasSwitchedToPreferredAccountTypeOnConnect=!0;const{success:f}=await Sr.setPreferredAccountType(s).then(()=>({success:!1})).catch(l=>(console.error("setPreferredAccountType error:",l),{success:!1}));if(f)return}else this.hasSwitchedToPreferredAccountTypeOnConnect=!0;qv.isLowerCaseMatch(r.address,Fe.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:n}),this.setCaipAddress(i,n),this.setUser({...Fe.state.user||{},email:r.email},n),this.setPreferredAccountType(r.preferredAccountType||s,n);const a=(c=r.accounts)==null?void 0:c.map(f=>Ke.createAccount(n,f.address,f.type||be.state.defaultAccountTypes[n]));this.setAllAccounts(a||[Ke.createAccount(n,r.address,r.preferredAccountType||s)],n),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,n)}),e.onSocialConnected(({userName:r})=>{this.setUser({...Fe.state.user||{},username:r},Q.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,Q.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:n})=>{r&&this.setPreferredAccountType(n,Q.state.activeChain)})}async syncAuthConnector(e,r){var l,u,h,g;const n=_e.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!n)return;this.setLoading(!0,r);const i=e.getLoginEmailUsed();this.setLoading(i,r),i&&this.setStatus("connecting",r);const s=e.getEmail(),o=e.getUsername();this.setUser({...((l=Fe.state)==null?void 0:l.user)||{},username:o,email:s},Q.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=os.getSnapshot(),f=be.getSnapshot();e.syncDappData({metadata:f.metadata,sdkVersion:f.sdkVersion,projectId:f.projectId,sdkType:f.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Wl(c.themeVariables,c.themeMode)}),r&&n&&(a&&((u=this.connectionControllerClient)!=null&&u.connectExternal)?(await((g=this.connectionControllerClient)==null?void 0:g.connectExternal({id:_e.CONNECTOR_ID.AUTH,info:{name:_e.CONNECTOR_ID.AUTH},type:xr.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=Q.state.activeCaipNetwork)==null?void 0:h.id,chain:r})),this.setStatus("connected",r)):ft.getConnectorId(r)===_e.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),De.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!Ke.isTelegram())return;const n=De.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;Fe.setSocialProvider(n,e),await((r=this.authProvider)==null?void 0:r.init());const o=ft.getAuthConnector();n&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Sr.connectExternal(o,o.chain),De.setConnectedSocialProvider(n),De.removeTelegramSocialProvider(),Rr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var o,a,c,f,l,u,h,g,m,w,N;if(!_e.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?Vi.DEFAULT_FEATURES.email:(f=(c=this.options)==null?void 0:c.features)==null?void 0:f.email,i=(u=(l=this.options)==null?void 0:l.features)!=null&&u.socials?((m=(g=(h=this.options)==null?void 0:h.features)==null?void 0:g.socials)==null?void 0:m.length)>0:Vi.DEFAULT_FEATURES.socials,s=n||i;!this.authProvider&&((w=this.options)!=null&&w.projectId)&&s&&(this.authProvider=ib.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(N=this.getCaipNetwork(e))==null?void 0:N.caipNetworkId,onTimeout:()=>{Ym.open(Dm.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(I=>{var C;I.open||(C=this.authProvider)==null||C.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,i;this.createAuthProvider(e),this.authProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||i.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&dt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const r=Q.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===Q.state.activeChain&&i){const a=this.getAdapter(n),c=Ot.getProvider(n),f=Ot.getProviderId(n);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:f})),this.setCaipNetwork(e)}else{const c=Ot.getProviderId(r)===xr.CONNECTOR_TYPE_AUTH,f=Ot.getProviderId(n),l=f===xr.CONNECTOR_TYPE_AUTH,u=_e.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if((c||l)&&u)try{Q.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:_e.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:xr.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const g=this.getAdapter(n);await(g==null?void 0:g.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:f}))}else f===xr.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var o;const i=`${n}:${r}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(n!==_e.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,n),this.setProfileImage(c,n),!a){const f=this.getAdapter(n),l=await(f==null?void 0:f.getProfile({address:e,chainId:Number(r)}));l!=null&&l.profileName?(this.setProfileName(l.profileName,n),l.profileImage&&this.setProfileImage(l.profileImage,n)):(await this.syncReownName(e,n),this.setProfileImage(null,n))}}catch{await this.syncReownName(e,n),r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=Ot.getProviderId(e);if(r===xr.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=De.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!_4&&Ke.isClient()){const e={...Vi.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(na(()=>import("./embedded-wallet-0b59fc3b.js"),["./embedded-wallet-0b59fc3b.js","./if-defined-96d3bfce.js","./index-7f11c979.js","./index-fb26cdeb.js","./index-35dbf8be.js","./index-ee50f025.js","./index-29d24cfd.js","./index-d1865302.js","./index-b56d9112.js","./index-0d463b08.js"],import.meta.url)),e.email&&r.push(na(()=>import("./email-c6e9f322.js"),["./email-c6e9f322.js","./if-defined-96d3bfce.js","./index-0d463b08.js","./index-ee50f025.js","./index-b56d9112.js","./index-35dbf8be.js","./index-3bf2d909.js","./index-29d24cfd.js"],import.meta.url)),e.socials&&r.push(na(()=>import("./socials-26063c08.js"),["./socials-26063c08.js","./if-defined-96d3bfce.js","./index-29b5e35b.js","./index-35dbf8be.js","./index-ee50f025.js","./index-2acc82b3.js","./index-b56d9112.js","./index-0d463b08.js","./index-188f666a.js","./index-fb26cdeb.js","./index-c3137d0d.js"],import.meta.url)),e.swaps&&r.push(na(()=>import("./swaps-5f7e2dce.js"),["./swaps-5f7e2dce.js","./if-defined-96d3bfce.js","./index-35dbf8be.js","./index-ee50f025.js","./index-c0efaba4.js","./index-e9bfe539.js","./index-3ce779da.js","./index-fb26cdeb.js","./index-b56d9112.js","./index-c3137d0d.js","./index-29d24cfd.js"],import.meta.url)),e.send&&r.push(na(()=>import("./send-68b584ba.js"),["./send-68b584ba.js","./if-defined-96d3bfce.js","./index-35dbf8be.js","./index-ee50f025.js","./index-b56d9112.js","./index-0d463b08.js","./index-3ce779da.js","./index-fb26cdeb.js","./index-29d24cfd.js","./index-29f6669d.js"],import.meta.url)),e.receive&&r.push(na(()=>import("./receive-1bbf2a0b.js"),["./receive-1bbf2a0b.js","./if-defined-96d3bfce.js","./index-6c6d8b91.js","./index-fb26cdeb.js","./index-188f666a.js"],import.meta.url)),e.onramp&&r.push(na(()=>import("./onramp-86d1957c.js"),["./onramp-86d1957c.js","./if-defined-96d3bfce.js","./index-38f7c4b2.js","./index-c3137d0d.js","./index-b56d9112.js","./index-fb26cdeb.js","./index-ee50f025.js","./index-f23d220a.js","./index-29b5e35b.js","./index-35dbf8be.js","./index-0d463b08.js","./index-29d24cfd.js"],import.meta.url)),e.history&&r.push(na(()=>import("./transactions-eb184a1f.js"),["./transactions-eb184a1f.js","./if-defined-96d3bfce.js","./index-3d159fe5.js","./index-38f7c4b2.js","./index-c3137d0d.js","./index-b56d9112.js","./index-0d463b08.js","./index-fb26cdeb.js"],import.meta.url))),await Promise.all([...r,na(()=>import("./index-ac5a87b6.js"),["./index-ac5a87b6.js","./if-defined-96d3bfce.js","./index-fb26cdeb.js","./index-ee50f025.js","./index-29f6669d.js","./index-b56d9112.js","./index-3f830d02.js","./index-e9bfe539.js","./index-d1865302.js","./index-f23d220a.js","./index-35dbf8be.js","./index-3d159fe5.js","./index-38f7c4b2.js","./index-c3137d0d.js","./index-0d463b08.js","./index-c0efaba4.js","./index-29d24cfd.js","./index-3bf2d909.js","./index-29b5e35b.js","./index-2acc82b3.js","./index-7f11c979.js","./index-6c6d8b91.js","./index-188f666a.js"],import.meta.url),na(()=>import("./w3m-modal-fc90bfaa.js"),["./w3m-modal-fc90bfaa.js","./if-defined-96d3bfce.js","./index-d1865302.js","./index-fb26cdeb.js","./index-b56d9112.js","./index-ee50f025.js","./index-e9bfe539.js","./index-3f830d02.js"],import.meta.url)]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!be.state.disableAppend&&!be.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}_4=!0}}}function Pz(t){const e=mt((t==null?void 0:t.namespace)||Q.state.activeChain),r=mt(Q.state.chains),n=mt({allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0});function i(a,c){var u;const f=c?ft.getAuthConnector(c):void 0,l=c?(u=a.get(c))==null?void 0:u.accountState:Fe.state;n.value.allAccounts=(l==null?void 0:l.allAccounts)||[],n.value.address=Ke.getPlainAddress(l==null?void 0:l.caipAddress),n.value.caipAddress=l==null?void 0:l.caipAddress,n.value.status=l==null?void 0:l.status,n.value.isConnected=!!(l!=null&&l.caipAddress),n.value.embeddedWalletInfo=f?{user:l==null?void 0:l.user,authProvider:(l==null?void 0:l.socialProvider)??"email",accountType:l==null?void 0:l.preferredAccountType,isSmartAccountDeployed:!!(l!=null&&l.smartAccountDeployed)}:void 0}const s=Q.subscribeKey("activeChain",a=>{e.value=(t==null?void 0:t.namespace)||a,i(r.value,e.value)}),o=Q.subscribe(a=>{r.value=a.chains,i(r.value,e.value)});return _h(()=>{i(r.value,e.value)}),i0(()=>{o(),s()}),n}let Cu;function ZEe(t){t&&(Cu=t)}function dm(t){const e=mt(Ot.state.providers[t]),r=mt(Ot.state.providerIds[t]),n=Ot.subscribe(i=>{e.value=i.providers[t],r.value=i.providerIds[t]});return i0(()=>{n==null||n()}),au({walletProvider:e,walletProviderType:r})}function QEe(){if(!Cu)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await(Cu==null?void 0:Cu.open(r))}async function e(){await(Cu==null?void 0:Cu.close())}return au({open:t,close:e})}const eye="1.7.2";let s1;function tye(t){return s1||(s1=new YEe({...t,sdkVersion:Ke.generateSdkVersion(t.adapters??[],"html",eye)}),ZEe(s1)),s1}var wC={exports:{}};wC.exports;(function(t){(function(e,r){function n(y,d){if(!y)throw new Error(d||"Assertion failed")}function i(y,d){y.super_=d;var p=function(){};p.prototype=d.prototype,y.prototype=new p,y.prototype.constructor=y}function s(y,d,p){if(s.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((d==="le"||d==="be")&&(p=d,d=10),this._init(y||0,d||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=HT.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,p){return d.cmp(p)>0?d:p},s.min=function(d,p){return d.cmp(p)<0?d:p},s.prototype._init=function(d,p,E){if(typeof d=="number")return this._initNumber(d,p,E);if(typeof d=="object")return this._initArray(d,p,E);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),d=d.toString().replace(/\s+/g,"");var x=0;d[0]==="-"&&(x++,this.negative=1),x<d.length&&(p===16?this._parseHex(d,x,E):(this._parseBase(d,p,x),E==="le"&&this._initArray(this.toArray(),p,E)))},s.prototype._initNumber=function(d,p,E){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),p,E)},s.prototype._initArray=function(d,p,E){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var R,S,v=0;if(E==="be")for(x=d.length-1,R=0;x>=0;x-=3)S=d[x]|d[x-1]<<8|d[x-2]<<16,this.words[R]|=S<<v&67108863,this.words[R+1]=S>>>26-v&67108863,v+=24,v>=26&&(v-=26,R++);else if(E==="le")for(x=0,R=0;x<d.length;x+=3)S=d[x]|d[x+1]<<8|d[x+2]<<16,this.words[R]|=S<<v&67108863,this.words[R+1]=S>>>26-v&67108863,v+=24,v>=26&&(v-=26,R++);return this._strip()};function a(y,d){var p=y.charCodeAt(d);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+y)}function c(y,d,p){var E=a(y,p);return p-1>=d&&(E|=a(y,p-1)<<4),E}s.prototype._parseHex=function(d,p,E){this.length=Math.ceil((d.length-p)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var R=0,S=0,v;if(E==="be")for(x=d.length-1;x>=p;x-=2)v=c(d,p,x)<<R,this.words[S]|=v&67108863,R>=18?(R-=18,S+=1,this.words[S]|=v>>>26):R+=8;else{var A=d.length-p;for(x=A%2===0?p+1:p;x<d.length;x+=2)v=c(d,p,x)<<R,this.words[S]|=v&67108863,R>=18?(R-=18,S+=1,this.words[S]|=v>>>26):R+=8}this._strip()};function f(y,d,p,E){for(var x=0,R=0,S=Math.min(y.length,p),v=d;v<S;v++){var A=y.charCodeAt(v)-48;x*=E,A>=49?R=A-49+10:A>=17?R=A-17+10:R=A,n(A>=0&&R<E,"Invalid character"),x+=R}return x}s.prototype._parseBase=function(d,p,E){this.words=[0],this.length=1;for(var x=0,R=1;R<=67108863;R*=p)x++;x--,R=R/p|0;for(var S=d.length-E,v=S%x,A=Math.min(S,S-v)+E,_=0,D=E;D<A;D+=x)_=f(d,D,D+x,p),this.imuln(R),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(v!==0){var G=1;for(_=f(d,D,d.length,p),D=0;D<v;D++)G*=p;this.imuln(G),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red};function l(y,d){y.words=d.words,y.length=d.length,y.negative=d.negative,y.red=d.red}if(s.prototype._move=function(d){l(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,p){d=d||10,p=p|0||1;var E;if(d===16||d==="hex"){E="";for(var x=0,R=0,S=0;S<this.length;S++){var v=this.words[S],A=((v<<x|R)&16777215).toString(16);R=v>>>24-x&16777215,x+=2,x>=26&&(x-=26,S--),R!==0||S!==this.length-1?E=h[6-A.length]+A+E:E=A+E}for(R!==0&&(E=R.toString(16)+E);E.length%p!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(d===(d|0)&&d>=2&&d<=36){var _=g[d],D=m[d];E="";var G=this.clone();for(G.negative=0;!G.isZero();){var T=G.modrn(D).toString(d);G=G.idivn(D),G.isZero()?E=T+E:E=h[_-T.length]+T+E}for(this.isZero()&&(E="0"+E);E.length%p!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,p){return this.toArrayLike(o,d,p)}),s.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)};var w=function(d,p){return d.allocUnsafe?d.allocUnsafe(p):new d(p)};s.prototype.toArrayLike=function(d,p,E){this._strip();var x=this.byteLength(),R=E||Math.max(1,x);n(x<=R,"byte array longer than desired length"),n(R>0,"Requested array length <= 0");var S=w(d,R),v=p==="le"?"LE":"BE";return this["_toArrayLike"+v](S,x),S},s.prototype._toArrayLikeLE=function(d,p){for(var E=0,x=0,R=0,S=0;R<this.length;R++){var v=this.words[R]<<S|x;d[E++]=v&255,E<d.length&&(d[E++]=v>>8&255),E<d.length&&(d[E++]=v>>16&255),S===6?(E<d.length&&(d[E++]=v>>24&255),x=0,S=0):(x=v>>>24,S+=2)}if(E<d.length)for(d[E++]=x;E<d.length;)d[E++]=0},s.prototype._toArrayLikeBE=function(d,p){for(var E=d.length-1,x=0,R=0,S=0;R<this.length;R++){var v=this.words[R]<<S|x;d[E--]=v&255,E>=0&&(d[E--]=v>>8&255),E>=0&&(d[E--]=v>>16&255),S===6?(E>=0&&(d[E--]=v>>24&255),x=0,S=0):(x=v>>>24,S+=2)}if(E>=0)for(d[E--]=x;E>=0;)d[E--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var p=d,E=0;return p>=4096&&(E+=13,p>>>=13),p>=64&&(E+=7,p>>>=7),p>=8&&(E+=4,p>>>=4),p>=2&&(E+=2,p>>>=2),E+p},s.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,E=0;return p&8191||(E+=13,p>>>=13),p&127||(E+=7,p>>>=7),p&15||(E+=4,p>>>=4),p&3||(E+=2,p>>>=2),p&1||E++,E},s.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return(this.length-1)*26+p};function N(y){for(var d=new Array(y.bitLength()),p=0;p<d.length;p++){var E=p/26|0,x=p%26;d[p]=y.words[E]>>>x&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var E=this._zeroBits(this.words[p]);if(d+=E,E!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var p;this.length>d.length?p=d:p=this;for(var E=0;E<p.length;E++)this.words[E]=this.words[E]&d.words[E];return this.length=p.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var p,E;this.length>d.length?(p=this,E=d):(p=d,E=this);for(var x=0;x<E.length;x++)this.words[x]=p.words[x]^E.words[x];if(this!==p)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=p.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var p=Math.ceil(d/26)|0,E=d%26;this._expand(p),E>0&&p--;for(var x=0;x<p;x++)this.words[x]=~this.words[x]&67108863;return E>0&&(this.words[x]=~this.words[x]&67108863>>26-E),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,p){n(typeof d=="number"&&d>=0);var E=d/26|0,x=d%26;return this._expand(E+1),p?this.words[E]=this.words[E]|1<<x:this.words[E]=this.words[E]&~(1<<x),this._strip()},s.prototype.iadd=function(d){var p;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();var E,x;this.length>d.length?(E=this,x=d):(E=d,x=this);for(var R=0,S=0;S<x.length;S++)p=(E.words[S]|0)+(x.words[S]|0)+R,this.words[S]=p&67108863,R=p>>>26;for(;R!==0&&S<E.length;S++)p=(E.words[S]|0)+R,this.words[S]=p&67108863,R=p>>>26;if(this.length=E.length,R!==0)this.words[this.length]=R,this.length++;else if(E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this},s.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var E=this.cmp(d);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,R;E>0?(x=this,R=d):(x=d,R=this);for(var S=0,v=0;v<R.length;v++)p=(x.words[v]|0)-(R.words[v]|0)+S,S=p>>26,this.words[v]=p&67108863;for(;S!==0&&v<x.length;v++)p=(x.words[v]|0)+S,S=p>>26,this.words[v]=p&67108863;if(S===0&&v<x.length&&x!==this)for(;v<x.length;v++)this.words[v]=x.words[v];return this.length=Math.max(this.length,v),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function I(y,d,p){p.negative=d.negative^y.negative;var E=y.length+d.length|0;p.length=E,E=E-1|0;var x=y.words[0]|0,R=d.words[0]|0,S=x*R,v=S&67108863,A=S/67108864|0;p.words[0]=v;for(var _=1;_<E;_++){for(var D=A>>>26,G=A&67108863,T=Math.min(_,d.length-1),z=Math.max(0,_-y.length+1);z<=T;z++){var j=_-z|0;x=y.words[j]|0,R=d.words[z]|0,S=x*R+G,D+=S/67108864|0,G=S&67108863}p.words[_]=G|0,A=D|0}return A!==0?p.words[_]=A|0:p.length--,p._strip()}var C=function(d,p,E){var x=d.words,R=p.words,S=E.words,v=0,A,_,D,G=x[0]|0,T=G&8191,z=G>>>13,j=x[1]|0,X=j&8191,Y=j>>>13,ne=x[2]|0,ce=ne&8191,le=ne>>>13,q=x[3]|0,B=q&8191,J=q>>>13,he=x[4]|0,se=he&8191,oe=he>>>13,pe=x[5]|0,W=pe&8191,H=pe>>>13,Z=x[6]|0,ue=Z&8191,fe=Z>>>13,de=x[7]|0,ee=de&8191,re=de>>>13,we=x[8]|0,Ae=we&8191,Re=we>>>13,Ge=x[9]|0,Ve=Ge&8191,ke=Ge>>>13,Rt=R[0]|0,zt=Rt&8191,Le=Rt>>>13,gt=R[1]|0,Wt=gt&8191,Xe=gt>>>13,ir=R[2]|0,sr=ir&8191,Ye=ir>>>13,or=R[3]|0,ar=or&8191,Ze=or>>>13,cr=R[4]|0,fr=cr&8191,Qe=cr>>>13,lr=R[5]|0,ur=lr&8191,et=lr>>>13,hr=R[6]|0,dr=hr&8191,tt=hr>>>13,pr=R[7]|0,gr=pr&8191,rt=pr>>>13,mr=R[8]|0,br=mr&8191,nt=mr>>>13,Er=R[9]|0,Yt=Er&8191,Zt=Er>>>13;E.negative=d.negative^p.negative,E.length=19,A=Math.imul(T,zt),_=Math.imul(T,Le),_=_+Math.imul(z,zt)|0,D=Math.imul(z,Le);var ko=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(ko>>>26)|0,ko&=67108863,A=Math.imul(X,zt),_=Math.imul(X,Le),_=_+Math.imul(Y,zt)|0,D=Math.imul(Y,Le),A=A+Math.imul(T,Wt)|0,_=_+Math.imul(T,Xe)|0,_=_+Math.imul(z,Wt)|0,D=D+Math.imul(z,Xe)|0;var Lo=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,A=Math.imul(ce,zt),_=Math.imul(ce,Le),_=_+Math.imul(le,zt)|0,D=Math.imul(le,Le),A=A+Math.imul(X,Wt)|0,_=_+Math.imul(X,Xe)|0,_=_+Math.imul(Y,Wt)|0,D=D+Math.imul(Y,Xe)|0,A=A+Math.imul(T,sr)|0,_=_+Math.imul(T,Ye)|0,_=_+Math.imul(z,sr)|0,D=D+Math.imul(z,Ye)|0;var Fo=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,A=Math.imul(B,zt),_=Math.imul(B,Le),_=_+Math.imul(J,zt)|0,D=Math.imul(J,Le),A=A+Math.imul(ce,Wt)|0,_=_+Math.imul(ce,Xe)|0,_=_+Math.imul(le,Wt)|0,D=D+Math.imul(le,Xe)|0,A=A+Math.imul(X,sr)|0,_=_+Math.imul(X,Ye)|0,_=_+Math.imul(Y,sr)|0,D=D+Math.imul(Y,Ye)|0,A=A+Math.imul(T,ar)|0,_=_+Math.imul(T,Ze)|0,_=_+Math.imul(z,ar)|0,D=D+Math.imul(z,Ze)|0;var $o=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+($o>>>26)|0,$o&=67108863,A=Math.imul(se,zt),_=Math.imul(se,Le),_=_+Math.imul(oe,zt)|0,D=Math.imul(oe,Le),A=A+Math.imul(B,Wt)|0,_=_+Math.imul(B,Xe)|0,_=_+Math.imul(J,Wt)|0,D=D+Math.imul(J,Xe)|0,A=A+Math.imul(ce,sr)|0,_=_+Math.imul(ce,Ye)|0,_=_+Math.imul(le,sr)|0,D=D+Math.imul(le,Ye)|0,A=A+Math.imul(X,ar)|0,_=_+Math.imul(X,Ze)|0,_=_+Math.imul(Y,ar)|0,D=D+Math.imul(Y,Ze)|0,A=A+Math.imul(T,fr)|0,_=_+Math.imul(T,Qe)|0,_=_+Math.imul(z,fr)|0,D=D+Math.imul(z,Qe)|0;var Bo=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,A=Math.imul(W,zt),_=Math.imul(W,Le),_=_+Math.imul(H,zt)|0,D=Math.imul(H,Le),A=A+Math.imul(se,Wt)|0,_=_+Math.imul(se,Xe)|0,_=_+Math.imul(oe,Wt)|0,D=D+Math.imul(oe,Xe)|0,A=A+Math.imul(B,sr)|0,_=_+Math.imul(B,Ye)|0,_=_+Math.imul(J,sr)|0,D=D+Math.imul(J,Ye)|0,A=A+Math.imul(ce,ar)|0,_=_+Math.imul(ce,Ze)|0,_=_+Math.imul(le,ar)|0,D=D+Math.imul(le,Ze)|0,A=A+Math.imul(X,fr)|0,_=_+Math.imul(X,Qe)|0,_=_+Math.imul(Y,fr)|0,D=D+Math.imul(Y,Qe)|0,A=A+Math.imul(T,ur)|0,_=_+Math.imul(T,et)|0,_=_+Math.imul(z,ur)|0,D=D+Math.imul(z,et)|0;var kh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(kh>>>26)|0,kh&=67108863,A=Math.imul(ue,zt),_=Math.imul(ue,Le),_=_+Math.imul(fe,zt)|0,D=Math.imul(fe,Le),A=A+Math.imul(W,Wt)|0,_=_+Math.imul(W,Xe)|0,_=_+Math.imul(H,Wt)|0,D=D+Math.imul(H,Xe)|0,A=A+Math.imul(se,sr)|0,_=_+Math.imul(se,Ye)|0,_=_+Math.imul(oe,sr)|0,D=D+Math.imul(oe,Ye)|0,A=A+Math.imul(B,ar)|0,_=_+Math.imul(B,Ze)|0,_=_+Math.imul(J,ar)|0,D=D+Math.imul(J,Ze)|0,A=A+Math.imul(ce,fr)|0,_=_+Math.imul(ce,Qe)|0,_=_+Math.imul(le,fr)|0,D=D+Math.imul(le,Qe)|0,A=A+Math.imul(X,ur)|0,_=_+Math.imul(X,et)|0,_=_+Math.imul(Y,ur)|0,D=D+Math.imul(Y,et)|0,A=A+Math.imul(T,dr)|0,_=_+Math.imul(T,tt)|0,_=_+Math.imul(z,dr)|0,D=D+Math.imul(z,tt)|0;var Lh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Lh>>>26)|0,Lh&=67108863,A=Math.imul(ee,zt),_=Math.imul(ee,Le),_=_+Math.imul(re,zt)|0,D=Math.imul(re,Le),A=A+Math.imul(ue,Wt)|0,_=_+Math.imul(ue,Xe)|0,_=_+Math.imul(fe,Wt)|0,D=D+Math.imul(fe,Xe)|0,A=A+Math.imul(W,sr)|0,_=_+Math.imul(W,Ye)|0,_=_+Math.imul(H,sr)|0,D=D+Math.imul(H,Ye)|0,A=A+Math.imul(se,ar)|0,_=_+Math.imul(se,Ze)|0,_=_+Math.imul(oe,ar)|0,D=D+Math.imul(oe,Ze)|0,A=A+Math.imul(B,fr)|0,_=_+Math.imul(B,Qe)|0,_=_+Math.imul(J,fr)|0,D=D+Math.imul(J,Qe)|0,A=A+Math.imul(ce,ur)|0,_=_+Math.imul(ce,et)|0,_=_+Math.imul(le,ur)|0,D=D+Math.imul(le,et)|0,A=A+Math.imul(X,dr)|0,_=_+Math.imul(X,tt)|0,_=_+Math.imul(Y,dr)|0,D=D+Math.imul(Y,tt)|0,A=A+Math.imul(T,gr)|0,_=_+Math.imul(T,rt)|0,_=_+Math.imul(z,gr)|0,D=D+Math.imul(z,rt)|0;var Fh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Fh>>>26)|0,Fh&=67108863,A=Math.imul(Ae,zt),_=Math.imul(Ae,Le),_=_+Math.imul(Re,zt)|0,D=Math.imul(Re,Le),A=A+Math.imul(ee,Wt)|0,_=_+Math.imul(ee,Xe)|0,_=_+Math.imul(re,Wt)|0,D=D+Math.imul(re,Xe)|0,A=A+Math.imul(ue,sr)|0,_=_+Math.imul(ue,Ye)|0,_=_+Math.imul(fe,sr)|0,D=D+Math.imul(fe,Ye)|0,A=A+Math.imul(W,ar)|0,_=_+Math.imul(W,Ze)|0,_=_+Math.imul(H,ar)|0,D=D+Math.imul(H,Ze)|0,A=A+Math.imul(se,fr)|0,_=_+Math.imul(se,Qe)|0,_=_+Math.imul(oe,fr)|0,D=D+Math.imul(oe,Qe)|0,A=A+Math.imul(B,ur)|0,_=_+Math.imul(B,et)|0,_=_+Math.imul(J,ur)|0,D=D+Math.imul(J,et)|0,A=A+Math.imul(ce,dr)|0,_=_+Math.imul(ce,tt)|0,_=_+Math.imul(le,dr)|0,D=D+Math.imul(le,tt)|0,A=A+Math.imul(X,gr)|0,_=_+Math.imul(X,rt)|0,_=_+Math.imul(Y,gr)|0,D=D+Math.imul(Y,rt)|0,A=A+Math.imul(T,br)|0,_=_+Math.imul(T,nt)|0,_=_+Math.imul(z,br)|0,D=D+Math.imul(z,nt)|0;var $h=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+($h>>>26)|0,$h&=67108863,A=Math.imul(Ve,zt),_=Math.imul(Ve,Le),_=_+Math.imul(ke,zt)|0,D=Math.imul(ke,Le),A=A+Math.imul(Ae,Wt)|0,_=_+Math.imul(Ae,Xe)|0,_=_+Math.imul(Re,Wt)|0,D=D+Math.imul(Re,Xe)|0,A=A+Math.imul(ee,sr)|0,_=_+Math.imul(ee,Ye)|0,_=_+Math.imul(re,sr)|0,D=D+Math.imul(re,Ye)|0,A=A+Math.imul(ue,ar)|0,_=_+Math.imul(ue,Ze)|0,_=_+Math.imul(fe,ar)|0,D=D+Math.imul(fe,Ze)|0,A=A+Math.imul(W,fr)|0,_=_+Math.imul(W,Qe)|0,_=_+Math.imul(H,fr)|0,D=D+Math.imul(H,Qe)|0,A=A+Math.imul(se,ur)|0,_=_+Math.imul(se,et)|0,_=_+Math.imul(oe,ur)|0,D=D+Math.imul(oe,et)|0,A=A+Math.imul(B,dr)|0,_=_+Math.imul(B,tt)|0,_=_+Math.imul(J,dr)|0,D=D+Math.imul(J,tt)|0,A=A+Math.imul(ce,gr)|0,_=_+Math.imul(ce,rt)|0,_=_+Math.imul(le,gr)|0,D=D+Math.imul(le,rt)|0,A=A+Math.imul(X,br)|0,_=_+Math.imul(X,nt)|0,_=_+Math.imul(Y,br)|0,D=D+Math.imul(Y,nt)|0,A=A+Math.imul(T,Yt)|0,_=_+Math.imul(T,Zt)|0,_=_+Math.imul(z,Yt)|0,D=D+Math.imul(z,Zt)|0;var Bh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Bh>>>26)|0,Bh&=67108863,A=Math.imul(Ve,Wt),_=Math.imul(Ve,Xe),_=_+Math.imul(ke,Wt)|0,D=Math.imul(ke,Xe),A=A+Math.imul(Ae,sr)|0,_=_+Math.imul(Ae,Ye)|0,_=_+Math.imul(Re,sr)|0,D=D+Math.imul(Re,Ye)|0,A=A+Math.imul(ee,ar)|0,_=_+Math.imul(ee,Ze)|0,_=_+Math.imul(re,ar)|0,D=D+Math.imul(re,Ze)|0,A=A+Math.imul(ue,fr)|0,_=_+Math.imul(ue,Qe)|0,_=_+Math.imul(fe,fr)|0,D=D+Math.imul(fe,Qe)|0,A=A+Math.imul(W,ur)|0,_=_+Math.imul(W,et)|0,_=_+Math.imul(H,ur)|0,D=D+Math.imul(H,et)|0,A=A+Math.imul(se,dr)|0,_=_+Math.imul(se,tt)|0,_=_+Math.imul(oe,dr)|0,D=D+Math.imul(oe,tt)|0,A=A+Math.imul(B,gr)|0,_=_+Math.imul(B,rt)|0,_=_+Math.imul(J,gr)|0,D=D+Math.imul(J,rt)|0,A=A+Math.imul(ce,br)|0,_=_+Math.imul(ce,nt)|0,_=_+Math.imul(le,br)|0,D=D+Math.imul(le,nt)|0,A=A+Math.imul(X,Yt)|0,_=_+Math.imul(X,Zt)|0,_=_+Math.imul(Y,Yt)|0,D=D+Math.imul(Y,Zt)|0;var Gh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Gh>>>26)|0,Gh&=67108863,A=Math.imul(Ve,sr),_=Math.imul(Ve,Ye),_=_+Math.imul(ke,sr)|0,D=Math.imul(ke,Ye),A=A+Math.imul(Ae,ar)|0,_=_+Math.imul(Ae,Ze)|0,_=_+Math.imul(Re,ar)|0,D=D+Math.imul(Re,Ze)|0,A=A+Math.imul(ee,fr)|0,_=_+Math.imul(ee,Qe)|0,_=_+Math.imul(re,fr)|0,D=D+Math.imul(re,Qe)|0,A=A+Math.imul(ue,ur)|0,_=_+Math.imul(ue,et)|0,_=_+Math.imul(fe,ur)|0,D=D+Math.imul(fe,et)|0,A=A+Math.imul(W,dr)|0,_=_+Math.imul(W,tt)|0,_=_+Math.imul(H,dr)|0,D=D+Math.imul(H,tt)|0,A=A+Math.imul(se,gr)|0,_=_+Math.imul(se,rt)|0,_=_+Math.imul(oe,gr)|0,D=D+Math.imul(oe,rt)|0,A=A+Math.imul(B,br)|0,_=_+Math.imul(B,nt)|0,_=_+Math.imul(J,br)|0,D=D+Math.imul(J,nt)|0,A=A+Math.imul(ce,Yt)|0,_=_+Math.imul(ce,Zt)|0,_=_+Math.imul(le,Yt)|0,D=D+Math.imul(le,Zt)|0;var jh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(jh>>>26)|0,jh&=67108863,A=Math.imul(Ve,ar),_=Math.imul(Ve,Ze),_=_+Math.imul(ke,ar)|0,D=Math.imul(ke,Ze),A=A+Math.imul(Ae,fr)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(Re,fr)|0,D=D+Math.imul(Re,Qe)|0,A=A+Math.imul(ee,ur)|0,_=_+Math.imul(ee,et)|0,_=_+Math.imul(re,ur)|0,D=D+Math.imul(re,et)|0,A=A+Math.imul(ue,dr)|0,_=_+Math.imul(ue,tt)|0,_=_+Math.imul(fe,dr)|0,D=D+Math.imul(fe,tt)|0,A=A+Math.imul(W,gr)|0,_=_+Math.imul(W,rt)|0,_=_+Math.imul(H,gr)|0,D=D+Math.imul(H,rt)|0,A=A+Math.imul(se,br)|0,_=_+Math.imul(se,nt)|0,_=_+Math.imul(oe,br)|0,D=D+Math.imul(oe,nt)|0,A=A+Math.imul(B,Yt)|0,_=_+Math.imul(B,Zt)|0,_=_+Math.imul(J,Yt)|0,D=D+Math.imul(J,Zt)|0;var zh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(zh>>>26)|0,zh&=67108863,A=Math.imul(Ve,fr),_=Math.imul(Ve,Qe),_=_+Math.imul(ke,fr)|0,D=Math.imul(ke,Qe),A=A+Math.imul(Ae,ur)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(Re,ur)|0,D=D+Math.imul(Re,et)|0,A=A+Math.imul(ee,dr)|0,_=_+Math.imul(ee,tt)|0,_=_+Math.imul(re,dr)|0,D=D+Math.imul(re,tt)|0,A=A+Math.imul(ue,gr)|0,_=_+Math.imul(ue,rt)|0,_=_+Math.imul(fe,gr)|0,D=D+Math.imul(fe,rt)|0,A=A+Math.imul(W,br)|0,_=_+Math.imul(W,nt)|0,_=_+Math.imul(H,br)|0,D=D+Math.imul(H,nt)|0,A=A+Math.imul(se,Yt)|0,_=_+Math.imul(se,Zt)|0,_=_+Math.imul(oe,Yt)|0,D=D+Math.imul(oe,Zt)|0;var Wh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Wh>>>26)|0,Wh&=67108863,A=Math.imul(Ve,ur),_=Math.imul(Ve,et),_=_+Math.imul(ke,ur)|0,D=Math.imul(ke,et),A=A+Math.imul(Ae,dr)|0,_=_+Math.imul(Ae,tt)|0,_=_+Math.imul(Re,dr)|0,D=D+Math.imul(Re,tt)|0,A=A+Math.imul(ee,gr)|0,_=_+Math.imul(ee,rt)|0,_=_+Math.imul(re,gr)|0,D=D+Math.imul(re,rt)|0,A=A+Math.imul(ue,br)|0,_=_+Math.imul(ue,nt)|0,_=_+Math.imul(fe,br)|0,D=D+Math.imul(fe,nt)|0,A=A+Math.imul(W,Yt)|0,_=_+Math.imul(W,Zt)|0,_=_+Math.imul(H,Yt)|0,D=D+Math.imul(H,Zt)|0;var Hh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Hh>>>26)|0,Hh&=67108863,A=Math.imul(Ve,dr),_=Math.imul(Ve,tt),_=_+Math.imul(ke,dr)|0,D=Math.imul(ke,tt),A=A+Math.imul(Ae,gr)|0,_=_+Math.imul(Ae,rt)|0,_=_+Math.imul(Re,gr)|0,D=D+Math.imul(Re,rt)|0,A=A+Math.imul(ee,br)|0,_=_+Math.imul(ee,nt)|0,_=_+Math.imul(re,br)|0,D=D+Math.imul(re,nt)|0,A=A+Math.imul(ue,Yt)|0,_=_+Math.imul(ue,Zt)|0,_=_+Math.imul(fe,Yt)|0,D=D+Math.imul(fe,Zt)|0;var qh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(qh>>>26)|0,qh&=67108863,A=Math.imul(Ve,gr),_=Math.imul(Ve,rt),_=_+Math.imul(ke,gr)|0,D=Math.imul(ke,rt),A=A+Math.imul(Ae,br)|0,_=_+Math.imul(Ae,nt)|0,_=_+Math.imul(Re,br)|0,D=D+Math.imul(Re,nt)|0,A=A+Math.imul(ee,Yt)|0,_=_+Math.imul(ee,Zt)|0,_=_+Math.imul(re,Yt)|0,D=D+Math.imul(re,Zt)|0;var Vh=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(Vh>>>26)|0,Vh&=67108863,A=Math.imul(Ve,br),_=Math.imul(Ve,nt),_=_+Math.imul(ke,br)|0,D=Math.imul(ke,nt),A=A+Math.imul(Ae,Yt)|0,_=_+Math.imul(Ae,Zt)|0,_=_+Math.imul(Re,Yt)|0,D=D+Math.imul(Re,Zt)|0;var mN=(v+A|0)+((_&8191)<<13)|0;v=(D+(_>>>13)|0)+(mN>>>26)|0,mN&=67108863,A=Math.imul(Ve,Yt),_=Math.imul(Ve,Zt),_=_+Math.imul(ke,Yt)|0,D=Math.imul(ke,Zt);var bN=(v+A|0)+((_&8191)<<13)|0;return v=(D+(_>>>13)|0)+(bN>>>26)|0,bN&=67108863,S[0]=ko,S[1]=Lo,S[2]=Fo,S[3]=$o,S[4]=Bo,S[5]=kh,S[6]=Lh,S[7]=Fh,S[8]=$h,S[9]=Bh,S[10]=Gh,S[11]=jh,S[12]=zh,S[13]=Wh,S[14]=Hh,S[15]=qh,S[16]=Vh,S[17]=mN,S[18]=bN,v!==0&&(S[19]=v,E.length++),E};Math.imul||(C=I);function M(y,d,p){p.negative=d.negative^y.negative,p.length=y.length+d.length;for(var E=0,x=0,R=0;R<p.length-1;R++){var S=x;x=0;for(var v=E&67108863,A=Math.min(R,d.length-1),_=Math.max(0,R-y.length+1);_<=A;_++){var D=R-_,G=y.words[D]|0,T=d.words[_]|0,z=G*T,j=z&67108863;S=S+(z/67108864|0)|0,j=j+v|0,v=j&67108863,S=S+(j>>>26)|0,x+=S>>>26,S&=67108863}p.words[R]=v,E=S,S=x}return E!==0?p.words[R]=E:p.length--,p._strip()}function k(y,d,p){return M(y,d,p)}s.prototype.mulTo=function(d,p){var E,x=this.length+d.length;return this.length===10&&d.length===10?E=C(this,d,p):x<63?E=I(this,d,p):x<1024?E=M(this,d,p):E=k(this,d,p),E},s.prototype.mul=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),this.mulTo(d,p)},s.prototype.mulf=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),k(this,d,p)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var p=d<0;p&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var E=0,x=0;x<this.length;x++){var R=(this.words[x]|0)*d,S=(R&67108863)+(E&67108863);E>>=26,E+=R/67108864|0,E+=S>>>26,this.words[x]=S&67108863}return E!==0&&(this.words[x]=E,this.length++),p?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var p=N(d);if(p.length===0)return new s(1);for(var E=this,x=0;x<p.length&&p[x]===0;x++,E=E.sqr());if(++x<p.length)for(var R=E.sqr();x<p.length;x++,R=R.sqr())p[x]!==0&&(E=E.mul(R));return E},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var p=d%26,E=(d-p)/26,x=67108863>>>26-p<<26-p,R;if(p!==0){var S=0;for(R=0;R<this.length;R++){var v=this.words[R]&x,A=(this.words[R]|0)-v<<p;this.words[R]=A|S,S=v>>>26-p}S&&(this.words[R]=S,this.length++)}if(E!==0){for(R=this.length-1;R>=0;R--)this.words[R+E]=this.words[R];for(R=0;R<E;R++)this.words[R]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,p,E){n(typeof d=="number"&&d>=0);var x;p?x=(p-p%26)/26:x=0;var R=d%26,S=Math.min((d-R)/26,this.length),v=67108863^67108863>>>R<<R,A=E;if(x-=S,x=Math.max(0,x),A){for(var _=0;_<S;_++)A.words[_]=this.words[_];A.length=S}if(S!==0)if(this.length>S)for(this.length-=S,_=0;_<this.length;_++)this.words[_]=this.words[_+S];else this.words[0]=0,this.length=1;var D=0;for(_=this.length-1;_>=0&&(D!==0||_>=x);_--){var G=this.words[_]|0;this.words[_]=D<<26-R|G>>>R,D=G&v}return A&&D!==0&&(A.words[A.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,p,E){return n(this.negative===0),this.iushrn(d,p,E)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,E=(d-p)/26,x=1<<p;if(this.length<=E)return!1;var R=this.words[E];return!!(R&x)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,E=(d-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(p!==0&&E++,this.length=Math.min(E,this.length),p!==0){var x=67108863^67108863>>>p<<p;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,p,E){var x=d.length+E,R;this._expand(x);var S,v=0;for(R=0;R<d.length;R++){S=(this.words[R+E]|0)+v;var A=(d.words[R]|0)*p;S-=A&67108863,v=(S>>26)-(A/67108864|0),this.words[R+E]=S&67108863}for(;R<this.length-E;R++)S=(this.words[R+E]|0)+v,v=S>>26,this.words[R+E]=S&67108863;if(v===0)return this._strip();for(n(v===-1),v=0,R=0;R<this.length;R++)S=-(this.words[R]|0)+v,v=S>>26,this.words[R]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,p){var E=this.length-d.length,x=this.clone(),R=d,S=R.words[R.length-1]|0,v=this._countBits(S);E=26-v,E!==0&&(R=R.ushln(E),x.iushln(E),S=R.words[R.length-1]|0);var A=x.length-R.length,_;if(p!=="mod"){_=new s(null),_.length=A+1,_.words=new Array(_.length);for(var D=0;D<_.length;D++)_.words[D]=0}var G=x.clone()._ishlnsubmul(R,1,A);G.negative===0&&(x=G,_&&(_.words[A]=1));for(var T=A-1;T>=0;T--){var z=(x.words[R.length+T]|0)*67108864+(x.words[R.length+T-1]|0);for(z=Math.min(z/S|0,67108863),x._ishlnsubmul(R,z,T);x.negative!==0;)z--,x.negative=0,x._ishlnsubmul(R,1,T),x.isZero()||(x.negative^=1);_&&(_.words[T]=z)}return _&&_._strip(),x._strip(),p!=="div"&&E!==0&&x.iushrn(E),{div:_||null,mod:x}},s.prototype.divmod=function(d,p,E){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,R,S;return this.negative!==0&&d.negative===0?(S=this.neg().divmod(d,p),p!=="mod"&&(x=S.div.neg()),p!=="div"&&(R=S.mod.neg(),E&&R.negative!==0&&R.iadd(d)),{div:x,mod:R}):this.negative===0&&d.negative!==0?(S=this.divmod(d.neg(),p),p!=="mod"&&(x=S.div.neg()),{div:x,mod:S.mod}):this.negative&d.negative?(S=this.neg().divmod(d.neg(),p),p!=="div"&&(R=S.mod.neg(),E&&R.negative!==0&&R.isub(d)),{div:S.div,mod:R}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,p)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var E=p.div.negative!==0?p.mod.isub(d):p.mod,x=d.ushrn(1),R=d.andln(1),S=E.cmp(x);return S<0||R===1&&S===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var E=(1<<26)%d,x=0,R=this.length-1;R>=0;R--)x=(E*x+(this.words[R]|0))%d;return p?-x:x},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var E=0,x=this.length-1;x>=0;x--){var R=(this.words[x]|0)+E*67108864;this.words[x]=R/d|0,E=R%d}return this._strip(),p?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var p=this,E=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var x=new s(1),R=new s(0),S=new s(0),v=new s(1),A=0;p.isEven()&&E.isEven();)p.iushrn(1),E.iushrn(1),++A;for(var _=E.clone(),D=p.clone();!p.isZero();){for(var G=0,T=1;!(p.words[0]&T)&&G<26;++G,T<<=1);if(G>0)for(p.iushrn(G);G-- >0;)(x.isOdd()||R.isOdd())&&(x.iadd(_),R.isub(D)),x.iushrn(1),R.iushrn(1);for(var z=0,j=1;!(E.words[0]&j)&&z<26;++z,j<<=1);if(z>0)for(E.iushrn(z);z-- >0;)(S.isOdd()||v.isOdd())&&(S.iadd(_),v.isub(D)),S.iushrn(1),v.iushrn(1);p.cmp(E)>=0?(p.isub(E),x.isub(S),R.isub(v)):(E.isub(p),S.isub(x),v.isub(R))}return{a:S,b:v,gcd:E.iushln(A)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var p=this,E=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var x=new s(1),R=new s(0),S=E.clone();p.cmpn(1)>0&&E.cmpn(1)>0;){for(var v=0,A=1;!(p.words[0]&A)&&v<26;++v,A<<=1);if(v>0)for(p.iushrn(v);v-- >0;)x.isOdd()&&x.iadd(S),x.iushrn(1);for(var _=0,D=1;!(E.words[0]&D)&&_<26;++_,D<<=1);if(_>0)for(E.iushrn(_);_-- >0;)R.isOdd()&&R.iadd(S),R.iushrn(1);p.cmp(E)>=0?(p.isub(E),x.isub(R)):(E.isub(p),R.isub(x))}var G;return p.cmpn(1)===0?G=x:G=R,G.cmpn(0)<0&&G.iadd(d),G},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),E=d.clone();p.negative=0,E.negative=0;for(var x=0;p.isEven()&&E.isEven();x++)p.iushrn(1),E.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;E.isEven();)E.iushrn(1);var R=p.cmp(E);if(R<0){var S=p;p=E,E=S}else if(R===0||E.cmpn(1)===0)break;p.isub(E)}while(!0);return E.iushln(x)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var p=d%26,E=(d-p)/26,x=1<<p;if(this.length<=E)return this._expand(E+1),this.words[E]|=x,this;for(var R=x,S=E;R!==0&&S<this.length;S++){var v=this.words[S]|0;v+=R,R=v>>>26,v&=67108863,this.words[S]=v}return R!==0&&(this.words[S]=R,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var p=d<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var E;if(this.length>1)E=1;else{p&&(d=-d),n(d<=67108863,"Number is too big");var x=this.words[0]|0;E=x===d?0:x<d?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,E=this.length-1;E>=0;E--){var x=this.words[E]|0,R=d.words[E]|0;if(x!==R){x<R?p=-1:x>R&&(p=1);break}}return p},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new U(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var L={k256:null,p224:null,p192:null,p25519:null};function $(y,d){this.name=y,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},$.prototype.ireduce=function(d){var p=d,E;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),E=p.bitLength();while(E>this.n);var x=E<this.n?-1:p.ucmp(this.p);return x===0?(p.words[0]=0,p.length=1):x>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},$.prototype.split=function(d,p){d.iushrn(this.n,0,p)},$.prototype.imulK=function(d){return d.imul(this.k)};function V(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,$),V.prototype.split=function(d,p){for(var E=4194303,x=Math.min(d.length,9),R=0;R<x;R++)p.words[R]=d.words[R];if(p.length=x,d.length<=9){d.words[0]=0,d.length=1;return}var S=d.words[9];for(p.words[p.length++]=S&E,R=10;R<d.length;R++){var v=d.words[R]|0;d.words[R-10]=(v&E)<<4|S>>>22,S=v}S>>>=22,d.words[R-10]=S,S===0&&d.length>10?d.length-=10:d.length-=9},V.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,E=0;E<d.length;E++){var x=d.words[E]|0;p+=x*977,d.words[E]=p&67108863,p=x*64+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function P(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(P,$);function O(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(O,$);function F(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,$),F.prototype.imulK=function(d){for(var p=0,E=0;E<d.length;E++){var x=(d.words[E]|0)*19+p,R=x&67108863;x>>>=26,d.words[E]=R,p=x}return p!==0&&(d.words[d.length++]=p),d},s._prime=function(d){if(L[d])return L[d];var p;if(d==="k256")p=new V;else if(d==="p224")p=new P;else if(d==="p192")p=new O;else if(d==="p25519")p=new F;else throw new Error("Unknown prime "+d);return L[d]=p,p};function U(y){if(typeof y=="string"){var d=s._prime(y);this.m=d.p,this.prime=d}else n(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}U.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},U.prototype._verify2=function(d,p){n((d.negative|p.negative)===0,"red works only with positives"),n(d.red&&d.red===p.red,"red works only with red numbers")},U.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(l(d,d.umod(this.m)._forceRed(this)),d)},U.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},U.prototype.add=function(d,p){this._verify2(d,p);var E=d.add(p);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},U.prototype.iadd=function(d,p){this._verify2(d,p);var E=d.iadd(p);return E.cmp(this.m)>=0&&E.isub(this.m),E},U.prototype.sub=function(d,p){this._verify2(d,p);var E=d.sub(p);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},U.prototype.isub=function(d,p){this._verify2(d,p);var E=d.isub(p);return E.cmpn(0)<0&&E.iadd(this.m),E},U.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},U.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},U.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},U.prototype.isqr=function(d){return this.imul(d,d.clone())},U.prototype.sqr=function(d){return this.mul(d,d)},U.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(d,E)}for(var x=this.m.subn(1),R=0;!x.isZero()&&x.andln(1)===0;)R++,x.iushrn(1);n(!x.isZero());var S=new s(1).toRed(this),v=S.redNeg(),A=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new s(2*_*_).toRed(this);this.pow(_,A).cmp(v)!==0;)_.redIAdd(v);for(var D=this.pow(_,x),G=this.pow(d,x.addn(1).iushrn(1)),T=this.pow(d,x),z=R;T.cmp(S)!==0;){for(var j=T,X=0;j.cmp(S)!==0;X++)j=j.redSqr();n(X<z);var Y=this.pow(D,new s(1).iushln(z-X-1));G=G.redMul(Y),D=Y.redSqr(),T=T.redMul(D),z=X}return G},U.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},U.prototype.pow=function(d,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var E=4,x=new Array(1<<E);x[0]=new s(1).toRed(this),x[1]=d;for(var R=2;R<x.length;R++)x[R]=this.mul(x[R-1],d);var S=x[0],v=0,A=0,_=p.bitLength()%26;for(_===0&&(_=26),R=p.length-1;R>=0;R--){for(var D=p.words[R],G=_-1;G>=0;G--){var T=D>>G&1;if(S!==x[0]&&(S=this.sqr(S)),T===0&&v===0){A=0;continue}v<<=1,v|=T,A++,!(A!==E&&(R!==0||G!==0))&&(S=this.mul(S,x[v]),A=0,v=0)}_=26}return S},U.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},U.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},s.mont=function(d){return new b(d)};function b(y){U.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(b,U),b.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},b.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},b.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var E=d.imul(p),x=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=E.isub(x).iushrn(this.shift),S=R;return R.cmp(this.m)>=0?S=R.isub(this.m):R.cmpn(0)<0&&(S=R.iadd(this.m)),S._forceRed(this)},b.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new s(0)._forceRed(this);var E=d.mul(p),x=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=E.isub(x).iushrn(this.shift),S=R;return R.cmp(this.m)>=0?S=R.isub(this.m):R.cmpn(0)<0&&(S=R.iadd(this.m)),S._forceRed(this)},b.prototype.invm=function(d){var p=this.imod(d._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,yn)})(wC);var rye=wC.exports;const te=va(rye),nye="logger/5.8.0";let A4=!1,N4=!1;const j1={debug:1,default:2,info:2,warning:3,error:4,off:5};let x4=j1.default,kx=null;function iye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const I4=iye();var pR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(pR||(pR={}));var ec;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ec||(ec={}));const S4="0123456789abcdef";let wr=class Nn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();j1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(x4>j1[n])&&console.log.apply(console,r)}debug(...e){this._log(Nn.levels.DEBUG,e)}info(...e){this._log(Nn.levels.INFO,e)}warn(...e){this._log(Nn.levels.WARNING,e)}makeError(e,r,n){if(N4)return this.makeError("censored error",r,{});r||(r=Nn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=S4[f[u]>>4],l+=S4[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ec.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ec.CALL_EXCEPTION:case ec.INSUFFICIENT_FUNDS:case ec.MISSING_NEW:case ec.NONCE_EXPIRED:case ec.REPLACEMENT_UNDERPRICED:case ec.TRANSACTION_REPLACED:case ec.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Nn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){I4&&this.throwError("platform missing String.prototype.normalize",Nn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:I4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Nn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Nn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Nn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return kx||(kx=new Nn(nye)),kx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),A4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}N4=!!e,A4=!!r}static setLogLevel(e){const r=j1[e.toLowerCase()];if(r==null){Nn.globalLogger().warn("invalid log level - "+e);return}x4=r}static from(e){return new Nn(e)}};wr.errors=ec;wr.levels=pR;const sye="bytes/5.8.0",Zl=new wr(sye);function Uz(t){return!!t.toHexString}function cb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return cb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function R4(t){return typeof t=="number"&&t==t&&t%1===0}function vC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!R4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!R4(r)||r<0||r>=256)return!1}return!0}function Qf(t,e){if(e||(e={}),typeof t=="number"){Zl.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),cb(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Uz(t)&&(t=t.toHexString()),jf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Zl.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return cb(new Uint8Array(n))}return vC(t)?cb(new Uint8Array(t)):Zl.throwArgumentError("invalid arrayify value","value",t)}function Cp(t){const e=t.map(i=>Qf(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),cb(n)}function jf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Lx="0123456789abcdef";function gi(t,e){if(e||(e={}),typeof t=="number"){Zl.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Lx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Uz(t))return t.toHexString();if(jf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Zl.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(vC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Lx[(i&240)>>4]+Lx[i&15]}return r}return Zl.throwArgumentError("invalid hexlify value","value",t)}function oye(t,e,r){return typeof t!="string"?t=gi(t):(!jf(t)||t.length%2)&&Zl.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function aye(t){let e="0x";return t.forEach(r=>{e+=gi(r).substring(2)}),e}function Mz(t,e){for(typeof t!="string"?t=gi(t):jf(t)||Zl.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Zl.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const cye="bignumber/5.8.0";var gR=te.BN;const Ol=new wr(cye),Fx={},T4=9007199254740991;let C4=!1,ao=class Wa{constructor(e,r){e!==Fx&&Ol.throwError("cannot call constructor directly; use BigNumber.from",wr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return js(wt(this).fromTwos(e))}toTwos(e){return js(wt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Wa.from(this._hex.substring(1)):this}add(e){return js(wt(this).add(wt(e)))}sub(e){return js(wt(this).sub(wt(e)))}div(e){return Wa.from(e).isZero()&&Ho("division-by-zero","div"),js(wt(this).div(wt(e)))}mul(e){return js(wt(this).mul(wt(e)))}mod(e){const r=wt(e);return r.isNeg()&&Ho("division-by-zero","mod"),js(wt(this).umod(r))}pow(e){const r=wt(e);return r.isNeg()&&Ho("negative-power","pow"),js(wt(this).pow(r))}and(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&Ho("unbound-bitwise-result","and"),js(wt(this).and(r))}or(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&Ho("unbound-bitwise-result","or"),js(wt(this).or(r))}xor(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&Ho("unbound-bitwise-result","xor"),js(wt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ho("negative-width","mask"),js(wt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ho("negative-width","shl"),js(wt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ho("negative-width","shr"),js(wt(this).shrn(e))}eq(e){return wt(this).eq(wt(e))}lt(e){return wt(this).lt(wt(e))}lte(e){return wt(this).lte(wt(e))}gt(e){return wt(this).gt(wt(e))}gte(e){return wt(this).gte(wt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return wt(this).isZero()}toNumber(){try{return wt(this).toNumber()}catch{Ho("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ol.throwError("this platform does not support BigInt",wr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?C4||(C4=!0,Ol.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ol.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",wr.errors.UNEXPECTED_ARGUMENT,{}):Ol.throwError("BigNumber.toString does not accept parameters",wr.errors.UNEXPECTED_ARGUMENT,{})),wt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Wa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Wa(Fx,bE(e)):e.match(/^-?[0-9]+$/)?new Wa(Fx,bE(new gR(e))):Ol.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ho("underflow","BigNumber.from",e),(e>=T4||e<=-T4)&&Ho("overflow","BigNumber.from",e),Wa.from(String(e));const r=e;if(typeof r=="bigint")return Wa.from(r.toString());if(vC(r))return Wa.from(gi(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Wa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(jf(n)||n[0]==="-"&&jf(n.substring(1))))return Wa.from(n)}return Ol.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function bE(t){if(typeof t!="string")return bE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ol.throwArgumentError("invalid hex","value",t),t=bE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function js(t){return ao.from(bE(t))}function wt(t){const e=ao.from(t).toHexString();return e[0]==="-"?new gR("-"+e.substring(3),16):new gR(e.substring(2),16)}function Ho(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ol.throwError(t,wr.errors.NUMERIC_FAULT,n)}const fye="logger/5.8.0";let O4=!1,P4=!1;const z1={debug:1,default:2,info:2,warning:3,error:4,off:5};let U4=z1.default,$x=null;function lye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const M4=lye();var mR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(mR||(mR={}));var tc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(tc||(tc={}));const D4="0123456789abcdef";let _C=class xn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();z1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(U4>z1[n])&&console.log.apply(console,r)}debug(...e){this._log(xn.levels.DEBUG,e)}info(...e){this._log(xn.levels.INFO,e)}warn(...e){this._log(xn.levels.WARNING,e)}makeError(e,r,n){if(P4)return this.makeError("censored error",r,{});r||(r=xn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=D4[f[u]>>4],l+=D4[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case tc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case tc.CALL_EXCEPTION:case tc.INSUFFICIENT_FUNDS:case tc.MISSING_NEW:case tc.NONCE_EXPIRED:case tc.REPLACEMENT_UNDERPRICED:case tc.TRANSACTION_REPLACED:case tc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,xn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){M4&&this.throwError("platform missing String.prototype.normalize",xn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:M4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,xn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,xn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",xn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return $x||($x=new xn(fye)),$x}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),O4){if(!e)return;this.globalLogger().throwError("error censorship permanent",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P4=!!e,O4=!!r}static setLogLevel(e){const r=z1[e.toLowerCase()];if(r==null){xn.globalLogger().warn("invalid log level - "+e);return}U4=r}static from(e){return new xn(e)}};_C.errors=tc;_C.levels=mR;const uye="properties/5.8.0";var hye=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const i_=new _C(uye);function ae(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Ki(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function on(t){return hye(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Dz(t,e){(!t||typeof t!="object")&&i_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||i_.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function yi(t){const e={};for(const r in t)e[r]=t[r];return e}const dye={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function kz(t){if(t==null||dye[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!kz(n))return!1}return!0}return i_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function pye(t){if(kz(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>su(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ae(e,r,su(n))}return e}return i_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function su(t){return pye(t)}let Oo=class{constructor(e){for(const r in e)this[r]=su(e[r])}};const by="abi/5.8.0",Ut=new wr(by),Jd={};let k4={calldata:!0,memory:!0,storage:!0},gye={calldata:!0,memory:!0};function o1(t,e){if(t==="bytes"||t==="string"){if(k4[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&gye[e])return!0;return(k4[e]||e==="payable")&&Ut.throwArgumentError("invalid modifier","name",e),!1}function mye(t,e){let r=t;function n(a){Ut.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=op(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),o1(o.type,o.name)&&(o.name=""),o.type=op(o.type);let f=o;o=o.parent,o||n(a),delete f.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),o1(o.type,o.name)&&(o.name=""),o.type=op(o.type);let l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&o.type!==""&&(o.type=op(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):o1(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Ut.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):o1(o.type,o.name)&&(o.name=""),s.type=op(s.type),s}function W1(t,e){for(let r in e)ae(t,r,e[r])}const Bt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),bye=new RegExp(/^(.*)\[([0-9]*)\]$/);let el=class Ou{constructor(e,r){e!==Jd&&Ut.throwError("use fromString",wr.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),W1(this,r);let n=this.type.match(bye);n?W1(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Ou.fromObject({type:n[1],components:this.components}),baseType:"array"}):W1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Bt.sighash),Bt[e]||Ut.throwArgumentError("invalid format type","format",e),e===Bt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Bt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Bt.full?", ":",")+")"):r+=this.type,e!==Bt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Bt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Ou.fromString(e,r):Ou.fromObject(e)}static fromObject(e){return Ou.isParamType(e)?e:new Ou(Jd,{name:e.name||null,type:op(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ou.fromObject):null})}static fromString(e,r){function n(i){return Ou.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(mye(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function EE(t,e){return yye(t).map(r=>el.fromString(r,e))}let IA=class km{constructor(e,r){e!==Jd&&Ut.throwError("use a static from method",wr.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),W1(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return km.isFragment(e)?e:typeof e=="string"?km.fromString(e):km.fromObject(e)}static fromObject(e){if(km.isFragment(e))return e;switch(e.type){case"function":return o_.fromObject(e);case"event":return bR.fromObject(e);case"constructor":return s_.fromObject(e);case"error":return F4.fromObject(e);case"fallback":case"receive":return null}return Ut.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?bR.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?o_.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?s_.fromString(e.trim()):e.split(" ")[0]==="error"?F4.fromString(e.substring(5).trim()):Ut.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},bR=class rp extends IA{format(e){if(e||(e=Bt.sighash),Bt[e]||Ut.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?rp.fromString(e):rp.fromObject(e)}static fromObject(e){if(rp.isEventFragment(e))return e;e.type!=="event"&&Ut.throwArgumentError("invalid event object","value",e);const r={name:yE(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(el.fromObject):[],type:"event"};return new rp(Jd,r)}static fromString(e){let r=e.match(wE);r||Ut.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ut.warn("unknown modifier: "+i)}}),rp.fromObject({name:r[1].trim(),anonymous:n,inputs:EE(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function Lz(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ut.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ut.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ao.from(r[1]),r[0]):t}function Fz(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function $z(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ut.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ut.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ut.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ut.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ut.throwArgumentError("unable to determine stateMutability","value",t),e}let s_=class np extends IA{format(e){if(e||(e=Bt.sighash),Bt[e]||Ut.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Bt.sighash&&Ut.throwError("cannot format a constructor for sighash",wr.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?np.fromString(e):np.fromObject(e)}static fromObject(e){if(np.isConstructorFragment(e))return e;e.type!=="constructor"&&Ut.throwArgumentError("invalid constructor object","value",e);let r=$z(e);r.constant&&Ut.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(el.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ao.from(e.gas):null};return new np(Jd,n)}static fromString(e){let r={type:"constructor"};e=Lz(e,r);let n=e.match(wE);return(!n||n[1].trim()!=="constructor")&&Ut.throwArgumentError("invalid constructor string","value",e),r.inputs=EE(n[2].trim(),!1),Fz(n[3].trim(),r),np.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},o_=class ip extends s_{format(e){if(e||(e=Bt.sighash),Bt[e]||Ut.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?ip.fromString(e):ip.fromObject(e)}static fromObject(e){if(ip.isFunctionFragment(e))return e;e.type!=="function"&&Ut.throwArgumentError("invalid function object","value",e);let r=$z(e);const n={type:e.type,name:yE(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(el.fromObject):[],outputs:e.outputs?e.outputs.map(el.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ao.from(e.gas):null};return new ip(Jd,n)}static fromString(e){let r={type:"function"};e=Lz(e,r);let n=e.split(" returns ");n.length>2&&Ut.throwArgumentError("invalid function string","value",e);let i=n[0].match(wE);if(i||Ut.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&yE(r.name),r.inputs=EE(i[2],!1),Fz(i[3].trim(),r),n.length>1){let s=n[1].match(wE);(s[1].trim()!=""||s[3].trim()!="")&&Ut.throwArgumentError("unexpected tokens","value",e),r.outputs=EE(s[2],!1)}else r.outputs=[];return ip.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function L4(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ut.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let F4=class sp extends IA{format(e){if(e||(e=Bt.sighash),Bt[e]||Ut.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?sp.fromString(e):sp.fromObject(e)}static fromObject(e){if(sp.isErrorFragment(e))return e;e.type!=="error"&&Ut.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:yE(e.name),inputs:e.inputs?e.inputs.map(el.fromObject):[]};return L4(new sp(Jd,r))}static fromString(e){let r={type:"error"},n=e.match(wE);return n||Ut.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&yE(r.name),r.inputs=EE(n[2],!1),L4(sp.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function op(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Eye=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function yE(t){return(!t||!t.match(Eye))&&Ut.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const wE=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function yye(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ut.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const AC=new wr(by);function wye(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}let uu=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){AC.throwArgumentError(e,this.localName,r)}},ER=class{constructor(e){ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return aye(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Cp(e._data))}writeBytes(e){let r=Qf(e);const n=r.length%this.wordSize;return n&&(r=Cp([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Qf(ao.from(e));return r.length>this.wordSize&&AC.throwError("value out-of-bounds",wr.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Cp([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},vye=class yR{constructor(e,r,n,i){ae(this,"_data",Qf(e)),ae(this,"wordSize",r||32),ae(this,"_coerceFunc",n),ae(this,"allowLoose",i),this._offset=0}get data(){return gi(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):yR.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:AC.throwError("data out-of-bounds",wr.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new yR(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ao.from(this.readBytes(this.wordSize))}};const _ye="logger/5.8.0";let $4=!1,B4=!1;const H1={debug:1,default:2,info:2,warning:3,error:4,off:5};let G4=H1.default,Bx=null;function Aye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const j4=Aye();var wR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(wR||(wR={}));var rc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(rc||(rc={}));const z4="0123456789abcdef";let zf=class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();H1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(G4>H1[n])&&console.log.apply(console,r)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,r,n){if(B4)return this.makeError("censored error",r,{});r||(r=In.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=z4[f[u]>>4],l+=z4[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case rc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case rc.CALL_EXCEPTION:case rc.INSUFFICIENT_FUNDS:case rc.MISSING_NEW:case rc.NONCE_EXPIRED:case rc.REPLACEMENT_UNDERPRICED:case rc.TRANSACTION_REPLACED:case rc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){j4&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:j4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Bx||(Bx=new In(_ye)),Bx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$4){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}B4=!!e,$4=!!r}static setLogLevel(e){const r=H1[e.toLowerCase()];if(r==null){In.globalLogger().warn("invalid log level - "+e);return}G4=r}static from(e){return new In(e)}};zf.errors=rc;zf.levels=wR;const Nye="bytes/5.8.0",Pd=new zf(Nye);function Bz(t){return!!t.toHexString}function q1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return q1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function W4(t){return typeof t=="number"&&t==t&&t%1===0}function NC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!W4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!W4(r)||r<0||r>=256)return!1}return!0}function xC(t,e){if(e||(e={}),typeof t=="number"){Pd.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),q1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bz(t)&&(t=t.toHexString()),fg(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Pd.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return q1(new Uint8Array(n))}return NC(t)?q1(new Uint8Array(t)):Pd.throwArgumentError("invalid arrayify value","value",t)}function xye(t){let e=xC(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function fg(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Gx="0123456789abcdef";function Gz(t,e){if(e||(e={}),typeof t=="number"){Pd.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Gx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bz(t))return t.toHexString();if(fg(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Pd.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(NC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Gx[(i&240)>>4]+Gx[i&15]}return r}return Pd.throwArgumentError("invalid hexlify value","value",t)}function Iye(t,e,r){return typeof t!="string"?t=Gz(t):(!fg(t)||t.length%2)&&Pd.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}const Sye="bignumber/5.8.0";var a_=te.BN;const Pl=new zf(Sye),jx={},H4=9007199254740991;let q4=!1,IC=class Ha{constructor(e,r){e!==jx&&Pl.throwError("cannot call constructor directly; use BigNumber.from",zf.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return zs(vt(this).fromTwos(e))}toTwos(e){return zs(vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ha.from(this._hex.substring(1)):this}add(e){return zs(vt(this).add(vt(e)))}sub(e){return zs(vt(this).sub(vt(e)))}div(e){return Ha.from(e).isZero()&&qo("division-by-zero","div"),zs(vt(this).div(vt(e)))}mul(e){return zs(vt(this).mul(vt(e)))}mod(e){const r=vt(e);return r.isNeg()&&qo("division-by-zero","mod"),zs(vt(this).umod(r))}pow(e){const r=vt(e);return r.isNeg()&&qo("negative-power","pow"),zs(vt(this).pow(r))}and(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&qo("unbound-bitwise-result","and"),zs(vt(this).and(r))}or(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&qo("unbound-bitwise-result","or"),zs(vt(this).or(r))}xor(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&qo("unbound-bitwise-result","xor"),zs(vt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&qo("negative-width","mask"),zs(vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&qo("negative-width","shl"),zs(vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&qo("negative-width","shr"),zs(vt(this).shrn(e))}eq(e){return vt(this).eq(vt(e))}lt(e){return vt(this).lt(vt(e))}lte(e){return vt(this).lte(vt(e))}gt(e){return vt(this).gt(vt(e))}gte(e){return vt(this).gte(vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return vt(this).isZero()}toNumber(){try{return vt(this).toNumber()}catch{qo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Pl.throwError("this platform does not support BigInt",zf.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?q4||(q4=!0,Pl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Pl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",zf.errors.UNEXPECTED_ARGUMENT,{}):Pl.throwError("BigNumber.toString does not accept parameters",zf.errors.UNEXPECTED_ARGUMENT,{})),vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ha)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ha(jx,vE(e)):e.match(/^-?[0-9]+$/)?new Ha(jx,vE(new a_(e))):Pl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&qo("underflow","BigNumber.from",e),(e>=H4||e<=-H4)&&qo("overflow","BigNumber.from",e),Ha.from(String(e));const r=e;if(typeof r=="bigint")return Ha.from(r.toString());if(NC(r))return Ha.from(Gz(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ha.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(fg(n)||n[0]==="-"&&fg(n.substring(1))))return Ha.from(n)}return Pl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function vE(t){if(typeof t!="string")return vE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Pl.throwArgumentError("invalid hex","value",t),t=vE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function zs(t){return IC.from(vE(t))}function vt(t){const e=IC.from(t).toHexString();return e[0]==="-"?new a_("-"+e.substring(3),16):new a_(e.substring(2),16)}function qo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Pl.throwError(t,zf.errors.NUMERIC_FAULT,n)}function Rye(t){return new a_(t,36).toString(16)}var jz={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=yn:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],u=[4,1024,262144,67108864],h=[1,256,65536,16777216],g=[6,1536,393216,100663296],m=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],N=[224,256,384,512],I=[128,256],C=["hex","buffer","arrayBuffer","array","digest"],M={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var k=function(T,z,j){return function(X){return new _(T,z,T).update(X)[j]()}},L=function(T,z,j){return function(X,Y){return new _(T,z,Y).update(X)[j]()}},$=function(T,z,j){return function(X,Y,ne,ce){return d["cshake"+T].update(X,Y,ne,ce)[j]()}},V=function(T,z,j){return function(X,Y,ne,ce){return d["kmac"+T].update(X,Y,ne,ce)[j]()}},P=function(T,z,j,X){for(var Y=0;Y<C.length;++Y){var ne=C[Y];T[ne]=z(j,X,ne)}return T},O=function(T,z){var j=k(T,z,"hex");return j.create=function(){return new _(T,z,T)},j.update=function(X){return j.create().update(X)},P(j,k,T,z)},F=function(T,z){var j=L(T,z,"hex");return j.create=function(X){return new _(T,z,X)},j.update=function(X,Y){return j.create(Y).update(X)},P(j,L,T,z)},U=function(T,z){var j=M[T],X=$(T,z,"hex");return X.create=function(Y,ne,ce){return!ne&&!ce?d["shake"+T].create(Y):new _(T,z,Y).bytepad([ne,ce],j)},X.update=function(Y,ne,ce,le){return X.create(ne,ce,le).update(Y)},P(X,$,T,z)},b=function(T,z){var j=M[T],X=V(T,z,"hex");return X.create=function(Y,ne,ce){return new D(T,z,ne).bytepad(["KMAC",ce],j).bytepad([Y],j)},X.update=function(Y,ne,ce,le){return X.create(Y,ce,le).update(ne)},P(X,V,T,z)},y=[{name:"keccak",padding:h,bits:N,createMethod:O},{name:"sha3",padding:g,bits:N,createMethod:O},{name:"shake",padding:l,bits:I,createMethod:F},{name:"cshake",padding:u,bits:I,createMethod:U},{name:"kmac",padding:u,bits:I,createMethod:b}],d={},p=[],E=0;E<y.length;++E)for(var x=y[E],R=x.bits,S=0;S<R.length;++S){var v=x.name+"_"+R[S];if(p.push(v),d[v]=x.createMethod(R[S],x.padding),x.name!=="sha3"){var A=x.name+R[S];p.push(A),d[A]=d[v]}}function _(T,z,j){this.blocks=[],this.s=[],this.padding=z,this.outputBits=j,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=j>>5,this.extraBytes=(j&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}_.prototype.update=function(T){if(this.finalized)throw new Error(r);var z,j=typeof T;if(j!=="string"){if(j==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);z=!0}for(var X=this.blocks,Y=this.byteCount,ne=T.length,ce=this.blockCount,le=0,q=this.s,B,J;le<ne;){if(this.reset)for(this.reset=!1,X[0]=this.block,B=1;B<ce+1;++B)X[B]=0;if(z)for(B=this.start;le<ne&&B<Y;++le)X[B>>2]|=T[le]<<m[B++&3];else for(B=this.start;le<ne&&B<Y;++le)J=T.charCodeAt(le),J<128?X[B>>2]|=J<<m[B++&3]:J<2048?(X[B>>2]|=(192|J>>6)<<m[B++&3],X[B>>2]|=(128|J&63)<<m[B++&3]):J<55296||J>=57344?(X[B>>2]|=(224|J>>12)<<m[B++&3],X[B>>2]|=(128|J>>6&63)<<m[B++&3],X[B>>2]|=(128|J&63)<<m[B++&3]):(J=65536+((J&1023)<<10|T.charCodeAt(++le)&1023),X[B>>2]|=(240|J>>18)<<m[B++&3],X[B>>2]|=(128|J>>12&63)<<m[B++&3],X[B>>2]|=(128|J>>6&63)<<m[B++&3],X[B>>2]|=(128|J&63)<<m[B++&3]);if(this.lastByteIndex=B,B>=Y){for(this.start=B-Y,this.block=X[ce],B=0;B<ce;++B)q[B]^=X[B];G(q),this.reset=!0}else this.start=B}return this},_.prototype.encode=function(T,z){var j=T&255,X=1,Y=[j];for(T=T>>8,j=T&255;j>0;)Y.unshift(j),T=T>>8,j=T&255,++X;return z?Y.push(X):Y.unshift(X),this.update(Y),Y.length},_.prototype.encodeString=function(T){var z,j=typeof T;if(j!=="string"){if(j==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);z=!0}var X=0,Y=T.length;if(z)X=Y;else for(var ne=0;ne<T.length;++ne){var ce=T.charCodeAt(ne);ce<128?X+=1:ce<2048?X+=2:ce<55296||ce>=57344?X+=3:(ce=65536+((ce&1023)<<10|T.charCodeAt(++ne)&1023),X+=4)}return X+=this.encode(X*8),this.update(T),X},_.prototype.bytepad=function(T,z){for(var j=this.encode(z),X=0;X<T.length;++X)j+=this.encodeString(T[X]);var Y=z-j%z,ne=[];return ne.length=Y,this.update(ne),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,z=this.lastByteIndex,j=this.blockCount,X=this.s;if(T[z>>2]|=this.padding[z&3],this.lastByteIndex===this.byteCount)for(T[0]=T[j],z=1;z<j+1;++z)T[z]=0;for(T[j-1]|=2147483648,z=0;z<j;++z)X[z]^=T[z];G(X)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var T=this.blockCount,z=this.s,j=this.outputBlocks,X=this.extraBytes,Y=0,ne=0,ce="",le;ne<j;){for(Y=0;Y<T&&ne<j;++Y,++ne)le=z[Y],ce+=f[le>>4&15]+f[le&15]+f[le>>12&15]+f[le>>8&15]+f[le>>20&15]+f[le>>16&15]+f[le>>28&15]+f[le>>24&15];ne%T===0&&(G(z),Y=0)}return X&&(le=z[Y],ce+=f[le>>4&15]+f[le&15],X>1&&(ce+=f[le>>12&15]+f[le>>8&15]),X>2&&(ce+=f[le>>20&15]+f[le>>16&15])),ce},_.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,z=this.s,j=this.outputBlocks,X=this.extraBytes,Y=0,ne=0,ce=this.outputBits>>3,le;X?le=new ArrayBuffer(j+1<<2):le=new ArrayBuffer(ce);for(var q=new Uint32Array(le);ne<j;){for(Y=0;Y<T&&ne<j;++Y,++ne)q[ne]=z[Y];ne%T===0&&G(z)}return X&&(q[Y]=z[Y],le=le.slice(0,ce)),le},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var T=this.blockCount,z=this.s,j=this.outputBlocks,X=this.extraBytes,Y=0,ne=0,ce=[],le,q;ne<j;){for(Y=0;Y<T&&ne<j;++Y,++ne)le=ne<<2,q=z[Y],ce[le]=q&255,ce[le+1]=q>>8&255,ce[le+2]=q>>16&255,ce[le+3]=q>>24&255;ne%T===0&&G(z)}return X&&(le=ne<<2,q=z[Y],ce[le]=q&255,X>1&&(ce[le+1]=q>>8&255),X>2&&(ce[le+2]=q>>16&255)),ce};function D(T,z,j){_.call(this,T,z,j)}D.prototype=new _,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var G=function(T){var z,j,X,Y,ne,ce,le,q,B,J,he,se,oe,pe,W,H,Z,ue,fe,de,ee,re,we,Ae,Re,Ge,Ve,ke,Rt,zt,Le,gt,Wt,Xe,ir,sr,Ye,or,ar,Ze,cr,fr,Qe,lr,ur,et,hr,dr,tt,pr,gr,rt,mr,br,nt,Er,Yt,Zt,ko,Lo,Fo,$o,Bo;for(X=0;X<48;X+=2)Y=T[0]^T[10]^T[20]^T[30]^T[40],ne=T[1]^T[11]^T[21]^T[31]^T[41],ce=T[2]^T[12]^T[22]^T[32]^T[42],le=T[3]^T[13]^T[23]^T[33]^T[43],q=T[4]^T[14]^T[24]^T[34]^T[44],B=T[5]^T[15]^T[25]^T[35]^T[45],J=T[6]^T[16]^T[26]^T[36]^T[46],he=T[7]^T[17]^T[27]^T[37]^T[47],se=T[8]^T[18]^T[28]^T[38]^T[48],oe=T[9]^T[19]^T[29]^T[39]^T[49],z=se^(ce<<1|le>>>31),j=oe^(le<<1|ce>>>31),T[0]^=z,T[1]^=j,T[10]^=z,T[11]^=j,T[20]^=z,T[21]^=j,T[30]^=z,T[31]^=j,T[40]^=z,T[41]^=j,z=Y^(q<<1|B>>>31),j=ne^(B<<1|q>>>31),T[2]^=z,T[3]^=j,T[12]^=z,T[13]^=j,T[22]^=z,T[23]^=j,T[32]^=z,T[33]^=j,T[42]^=z,T[43]^=j,z=ce^(J<<1|he>>>31),j=le^(he<<1|J>>>31),T[4]^=z,T[5]^=j,T[14]^=z,T[15]^=j,T[24]^=z,T[25]^=j,T[34]^=z,T[35]^=j,T[44]^=z,T[45]^=j,z=q^(se<<1|oe>>>31),j=B^(oe<<1|se>>>31),T[6]^=z,T[7]^=j,T[16]^=z,T[17]^=j,T[26]^=z,T[27]^=j,T[36]^=z,T[37]^=j,T[46]^=z,T[47]^=j,z=J^(Y<<1|ne>>>31),j=he^(ne<<1|Y>>>31),T[8]^=z,T[9]^=j,T[18]^=z,T[19]^=j,T[28]^=z,T[29]^=j,T[38]^=z,T[39]^=j,T[48]^=z,T[49]^=j,pe=T[0],W=T[1],et=T[11]<<4|T[10]>>>28,hr=T[10]<<4|T[11]>>>28,ke=T[20]<<3|T[21]>>>29,Rt=T[21]<<3|T[20]>>>29,Lo=T[31]<<9|T[30]>>>23,Fo=T[30]<<9|T[31]>>>23,fr=T[40]<<18|T[41]>>>14,Qe=T[41]<<18|T[40]>>>14,Xe=T[2]<<1|T[3]>>>31,ir=T[3]<<1|T[2]>>>31,H=T[13]<<12|T[12]>>>20,Z=T[12]<<12|T[13]>>>20,dr=T[22]<<10|T[23]>>>22,tt=T[23]<<10|T[22]>>>22,zt=T[33]<<13|T[32]>>>19,Le=T[32]<<13|T[33]>>>19,$o=T[42]<<2|T[43]>>>30,Bo=T[43]<<2|T[42]>>>30,br=T[5]<<30|T[4]>>>2,nt=T[4]<<30|T[5]>>>2,sr=T[14]<<6|T[15]>>>26,Ye=T[15]<<6|T[14]>>>26,ue=T[25]<<11|T[24]>>>21,fe=T[24]<<11|T[25]>>>21,pr=T[34]<<15|T[35]>>>17,gr=T[35]<<15|T[34]>>>17,gt=T[45]<<29|T[44]>>>3,Wt=T[44]<<29|T[45]>>>3,Ae=T[6]<<28|T[7]>>>4,Re=T[7]<<28|T[6]>>>4,Er=T[17]<<23|T[16]>>>9,Yt=T[16]<<23|T[17]>>>9,or=T[26]<<25|T[27]>>>7,ar=T[27]<<25|T[26]>>>7,de=T[36]<<21|T[37]>>>11,ee=T[37]<<21|T[36]>>>11,rt=T[47]<<24|T[46]>>>8,mr=T[46]<<24|T[47]>>>8,lr=T[8]<<27|T[9]>>>5,ur=T[9]<<27|T[8]>>>5,Ge=T[18]<<20|T[19]>>>12,Ve=T[19]<<20|T[18]>>>12,Zt=T[29]<<7|T[28]>>>25,ko=T[28]<<7|T[29]>>>25,Ze=T[38]<<8|T[39]>>>24,cr=T[39]<<8|T[38]>>>24,re=T[48]<<14|T[49]>>>18,we=T[49]<<14|T[48]>>>18,T[0]=pe^~H&ue,T[1]=W^~Z&fe,T[10]=Ae^~Ge&ke,T[11]=Re^~Ve&Rt,T[20]=Xe^~sr&or,T[21]=ir^~Ye&ar,T[30]=lr^~et&dr,T[31]=ur^~hr&tt,T[40]=br^~Er&Zt,T[41]=nt^~Yt&ko,T[2]=H^~ue&de,T[3]=Z^~fe&ee,T[12]=Ge^~ke&zt,T[13]=Ve^~Rt&Le,T[22]=sr^~or&Ze,T[23]=Ye^~ar&cr,T[32]=et^~dr&pr,T[33]=hr^~tt&gr,T[42]=Er^~Zt&Lo,T[43]=Yt^~ko&Fo,T[4]=ue^~de&re,T[5]=fe^~ee&we,T[14]=ke^~zt&gt,T[15]=Rt^~Le&Wt,T[24]=or^~Ze&fr,T[25]=ar^~cr&Qe,T[34]=dr^~pr&rt,T[35]=tt^~gr&mr,T[44]=Zt^~Lo&$o,T[45]=ko^~Fo&Bo,T[6]=de^~re&pe,T[7]=ee^~we&W,T[16]=zt^~gt&Ae,T[17]=Le^~Wt&Re,T[26]=Ze^~fr&Xe,T[27]=cr^~Qe&ir,T[36]=pr^~rt&lr,T[37]=gr^~mr&ur,T[46]=Lo^~$o&br,T[47]=Fo^~Bo&nt,T[8]=re^~pe&H,T[9]=we^~W&Z,T[18]=gt^~Ae&Ge,T[19]=Wt^~Re&Ve,T[28]=fr^~Xe&sr,T[29]=Qe^~ir&Ye,T[38]=rt^~lr&et,T[39]=mr^~ur&hr,T[48]=$o^~br&Er,T[49]=Bo^~nt&Yt,T[0]^=w[X],T[1]^=w[X+1]};if(a)t.exports=d;else for(E=0;E<p.length;++E)i[p[E]]=d[p[E]]})()})(jz);var Tye=jz.exports;const Ug=va(Tye),Cye="logger/5.8.0";let V4=!1,K4=!1;const V1={debug:1,default:2,info:2,warning:3,error:4,off:5};let J4=V1.default,zx=null;function Oye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const X4=Oye();var vR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(vR||(vR={}));var nc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(nc||(nc={}));const Y4="0123456789abcdef";let SC=class Sn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();V1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(J4>V1[n])&&console.log.apply(console,r)}debug(...e){this._log(Sn.levels.DEBUG,e)}info(...e){this._log(Sn.levels.INFO,e)}warn(...e){this._log(Sn.levels.WARNING,e)}makeError(e,r,n){if(K4)return this.makeError("censored error",r,{});r||(r=Sn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=Y4[f[u]>>4],l+=Y4[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case nc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case nc.CALL_EXCEPTION:case nc.INSUFFICIENT_FUNDS:case nc.MISSING_NEW:case nc.NONCE_EXPIRED:case nc.REPLACEMENT_UNDERPRICED:case nc.TRANSACTION_REPLACED:case nc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Sn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){X4&&this.throwError("platform missing String.prototype.normalize",Sn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:X4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Sn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Sn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Sn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return zx||(zx=new Sn(Cye)),zx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),V4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}K4=!!e,V4=!!r}static setLogLevel(e){const r=V1[e.toLowerCase()];if(r==null){Sn.globalLogger().warn("invalid log level - "+e);return}J4=r}static from(e){return new Sn(e)}};SC.errors=nc;SC.levels=vR;const Pye="bytes/5.8.0",Wx=new SC(Pye);function Uye(t){return!!t.toHexString}function K1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return K1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Z4(t){return typeof t=="number"&&t==t&&t%1===0}function Mye(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Z4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Z4(r)||r<0||r>=256)return!1}return!0}function Dye(t,e){if(e||(e={}),typeof t=="number"){Wx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),K1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Uye(t)&&(t=t.toHexString()),kye(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Wx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return K1(new Uint8Array(n))}return Mye(t)?K1(new Uint8Array(t)):Wx.throwArgumentError("invalid arrayify value","value",t)}function kye(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Ht(t){return"0x"+Ug.keccak_256(Dye(t))}const Lye="logger/5.8.0";let Q4=!1,e9=!1;const J1={debug:1,default:2,info:2,warning:3,error:4,off:5};let t9=J1.default,Hx=null;function Fye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const r9=Fye();var _R;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(_R||(_R={}));var ic;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ic||(ic={}));const n9="0123456789abcdef";let ca=class Rn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();J1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(t9>J1[n])&&console.log.apply(console,r)}debug(...e){this._log(Rn.levels.DEBUG,e)}info(...e){this._log(Rn.levels.INFO,e)}warn(...e){this._log(Rn.levels.WARNING,e)}makeError(e,r,n){if(e9)return this.makeError("censored error",r,{});r||(r=Rn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=n9[f[u]>>4],l+=n9[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ic.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ic.CALL_EXCEPTION:case ic.INSUFFICIENT_FUNDS:case ic.MISSING_NEW:case ic.NONCE_EXPIRED:case ic.REPLACEMENT_UNDERPRICED:case ic.TRANSACTION_REPLACED:case ic.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Rn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){r9&&this.throwError("platform missing String.prototype.normalize",Rn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:r9})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Rn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Rn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Rn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Hx||(Hx=new Rn(Lye)),Hx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Q4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}e9=!!e,Q4=!!r}static setLogLevel(e){const r=J1[e.toLowerCase()];if(r==null){Rn.globalLogger().warn("invalid log level - "+e);return}t9=r}static from(e){return new Rn(e)}};ca.errors=ic;ca.levels=_R;const $ye="bytes/5.8.0",Op=new ca($ye);function zz(t){return!!t.toHexString}function X1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return X1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Bye(t){return TC(t)&&!(t.length%2)||RC(t)}function i9(t){return typeof t=="number"&&t==t&&t%1===0}function RC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!i9(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!i9(r)||r<0||r>=256)return!1}return!0}function Wz(t,e){if(e||(e={}),typeof t=="number"){Op.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),X1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),zz(t)&&(t=t.toHexString()),TC(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Op.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return X1(new Uint8Array(n))}return RC(t)?X1(new Uint8Array(t)):Op.throwArgumentError("invalid arrayify value","value",t)}function TC(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const qx="0123456789abcdef";function Y1(t,e){if(e||(e={}),typeof t=="number"){Op.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=qx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),zz(t))return t.toHexString();if(TC(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Op.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(RC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=qx[(i&240)>>4]+qx[i&15]}return r}return Op.throwArgumentError("invalid hexlify value","value",t)}const Gye="rlp/5.8.0",Cf=new ca(Gye);function s9(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function o9(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Hz(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Hz(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=s9(n.length);return i.unshift(247+i.length),i.concat(n)}Bye(t)||Cf.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Wz(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=s9(e.length);return r.unshift(183+r.length),r.concat(e)}function lg(t){return Y1(Hz(t))}function a9(t,e,r,n){const i=[];for(;r<e+1+n;){const s=qz(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Cf.throwError("child data too short",ca.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function qz(t,e){if(t.length===0&&Cf.throwError("data too short",ca.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Cf.throwError("data short segment too short",ca.errors.BUFFER_OVERRUN,{});const n=o9(t,e+1,r);return e+1+r+n>t.length&&Cf.throwError("data long segment too short",ca.errors.BUFFER_OVERRUN,{}),a9(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Cf.throwError("data array too short",ca.errors.BUFFER_OVERRUN,{}),a9(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Cf.throwError("data array too short",ca.errors.BUFFER_OVERRUN,{});const n=o9(t,e+1,r);e+1+r+n>t.length&&Cf.throwError("data array too short",ca.errors.BUFFER_OVERRUN,{});const i=Y1(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Cf.throwError("data too short",ca.errors.BUFFER_OVERRUN,{});const n=Y1(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Y1(t[e])}}function CC(t){const e=Wz(t),r=qz(e,0);return r.consumed!==e.length&&Cf.throwArgumentError("invalid rlp data","data",t),r.result}const jye="address/5.8.0",bp=new zf(jye);function c9(t){fg(t,20)||bp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=xC(Ht(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const zye=9007199254740991;function Wye(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const OC={};for(let t=0;t<10;t++)OC[String(t)]=String(t);for(let t=0;t<26;t++)OC[String.fromCharCode(65+t)]=String(10+t);const f9=Math.floor(Wye(zye));function Hye(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>OC[n]).join("");for(;e.length>=f9;){let n=e.substring(0,f9);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Xt(t){let e=null;if(typeof t!="string"&&bp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=c9(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&bp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Hye(t)&&bp.throwArgumentError("bad icap checksum","address",t),e=Rye(t.substring(4));e.length<40;)e="0"+e;e=c9("0x"+e)}else bp.throwArgumentError("invalid address","address",t);return e}function Vz(t){let e=null;try{e=Xt(t.from)}catch{bp.throwArgumentError("missing from address","transaction",t)}const r=xye(xC(IC.from(t.nonce).toHexString()));return Xt(Iye(Ht(lg([e,r])),12))}let qye=class extends uu{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Xt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Xt(Mz(e.readValue().toHexString(),20))}},Vye=class extends uu{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const Ep=new wr(by);function Kz(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(f=>{const l=f.localName;return l||Ep.throwError("cannot encode object for signature with missing names",wr.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]&&Ep.throwError("cannot encode object for signature with duplicate names",wr.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]=!0,r[l]})}else Ep.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Ep.throwArgumentError("types/value length mismatch","tuple",r);let i=new ER(t.wordSize),s=new ER(t.wordSize),o=[];e.forEach((c,f)=>{let l=n[f];if(c.dynamic){let u=s.length;c.encode(s,l);let h=i.writeUpdatableValue();o.push(g=>{h(g+u)})}else c.encode(i,l)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Jz(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(f){if(f.code===wr.errors.BUFFER_OVERRUN)throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===wr.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}let Kye=class extends uu{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Ep.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Kz(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Ep.throwError("insufficient data length",wr.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Vye(this.coder));return e.coerce(this.name,Jz(e,n))}},Jye=class extends uu{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},Xz=class extends uu{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Qf(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},Xye=class extends Xz{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,gi(super.decode(e)))}},Yye=class extends uu{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Qf(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,gi(e.readBytes(this.size)))}},Zye=class extends uu{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const Qye=ao.from(-1),e1e=ao.from(0),t1e=ao.from(1),r1e=ao.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");let n1e=class extends uu{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ao.from(r),i=r1e.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(t1e).mul(Qye)))&&this._throwError("value out-of-bounds",r)}else(n.lt(e1e)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};const i1e="logger/5.8.0";let l9=!1,u9=!1;const Z1={debug:1,default:2,info:2,warning:3,error:4,off:5};let h9=Z1.default,Vx=null;function s1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const d9=s1e();var AR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(AR||(AR={}));var sc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(sc||(sc={}));const p9="0123456789abcdef";let SA=class Tn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Z1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(h9>Z1[n])&&console.log.apply(console,r)}debug(...e){this._log(Tn.levels.DEBUG,e)}info(...e){this._log(Tn.levels.INFO,e)}warn(...e){this._log(Tn.levels.WARNING,e)}makeError(e,r,n){if(u9)return this.makeError("censored error",r,{});r||(r=Tn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=p9[f[u]>>4],l+=p9[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case sc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case sc.CALL_EXCEPTION:case sc.INSUFFICIENT_FUNDS:case sc.MISSING_NEW:case sc.NONCE_EXPIRED:case sc.REPLACEMENT_UNDERPRICED:case sc.TRANSACTION_REPLACED:case sc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Tn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){d9&&this.throwError("platform missing String.prototype.normalize",Tn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d9})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Tn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Tn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Tn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Vx||(Vx=new Tn(i1e)),Vx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l9){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}u9=!!e,l9=!!r}static setLogLevel(e){const r=Z1[e.toLowerCase()];if(r==null){Tn.globalLogger().warn("invalid log level - "+e);return}h9=r}static from(e){return new Tn(e)}};SA.errors=sc;SA.levels=AR;const o1e="bytes/5.8.0",Kx=new SA(o1e);function a1e(t){return!!t.toHexString}function Q1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Q1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function g9(t){return typeof t=="number"&&t==t&&t%1===0}function c1e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!g9(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!g9(r)||r<0||r>=256)return!1}return!0}function Yz(t,e){if(e||(e={}),typeof t=="number"){Kx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Q1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),a1e(t)&&(t=t.toHexString()),f1e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Kx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Q1(new Uint8Array(n))}return c1e(t)?Q1(new Uint8Array(t)):Kx.throwArgumentError("invalid arrayify value","value",t)}function f1e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const l1e="strings/5.8.0",Zz=new SA(l1e);var ou;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(ou||(ou={}));var wo;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(wo||(wo={}));function u1e(t,e,r,n,i){return Zz.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Qz(t,e,r,n,i){if(t===wo.BAD_PREFIX||t===wo.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===wo.OVERRUN?r.length-e-1:0}function h1e(t,e,r,n,i){return t===wo.OVERLONG?(n.push(i),0):(n.push(65533),Qz(t,e,r))}const d1e=Object.freeze({error:u1e,ignore:Qz,replace:h1e});function eW(t,e){e==null&&(e=d1e.error),t=Yz(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(wo.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(wo.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(wo.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let f=t[n];if((f&192)!=128){n+=e(wo.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e(wo.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(wo.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(wo.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function nn(t,e=ou.current){e!=ou.current&&(Zz.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Yz(r)}function p1e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Mg(t,e){return p1e(eW(t,e))}function g1e(t,e=ou.current){return eW(nn(t,e))}let m1e=class extends Xz{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,nn(r))}decode(e){return Mg(super.decode(e))}},a1=class extends uu{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return Kz(e,this.coders,r)}decode(e){return e.coerce(this.name,Jz(e,this.coders))}};const c1=new wr(by),b1e=new RegExp(/^bytes([0-9]*)$/),E1e=new RegExp(/^(u?int)([0-9]*)$/);let y1e=class{constructor(e){ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new qye(e.name);case"bool":return new Jye(e.name);case"string":return new m1e(e.name);case"bytes":return new Xye(e.name);case"array":return new Kye(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new a1((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Zye(e.name)}let r=e.type.match(E1e);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&c1.throwArgumentError("invalid "+r[1]+" bit length","param",e),new n1e(n/8,r[1]==="int",e.name)}if(r=e.type.match(b1e),r){let n=parseInt(r[1]);return(n===0||n>32)&&c1.throwArgumentError("invalid bytes length","param",e),new Yye(n,e.name)}return c1.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new vye(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new ER(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(el.from(i)));return new a1(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&c1.throwError("types/values length mismatch",wr.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(el.from(o))),i=new a1(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(el.from(o)));return new a1(i,"_").decode(this._getReader(Qf(r),n))}};const w1e=new y1e;function Zc(t){return Ht(nn(t))}const v1e="logger/5.8.0";let m9=!1,b9=!1;const ew={debug:1,default:2,info:2,warning:3,error:4,off:5};let E9=ew.default,Jx=null;function _1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const y9=_1e();var NR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(NR||(NR={}));var oc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(oc||(oc={}));const w9="0123456789abcdef";let Qc=class Cn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();ew[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E9>ew[n])&&console.log.apply(console,r)}debug(...e){this._log(Cn.levels.DEBUG,e)}info(...e){this._log(Cn.levels.INFO,e)}warn(...e){this._log(Cn.levels.WARNING,e)}makeError(e,r,n){if(b9)return this.makeError("censored error",r,{});r||(r=Cn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=w9[f[u]>>4],l+=w9[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case oc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case oc.CALL_EXCEPTION:case oc.INSUFFICIENT_FUNDS:case oc.MISSING_NEW:case oc.NONCE_EXPIRED:case oc.REPLACEMENT_UNDERPRICED:case oc.TRANSACTION_REPLACED:case oc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Cn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){y9&&this.throwError("platform missing String.prototype.normalize",Cn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:y9})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Cn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Cn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Cn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Jx||(Jx=new Cn(v1e)),Jx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),m9){if(!e)return;this.globalLogger().throwError("error censorship permanent",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}b9=!!e,m9=!!r}static setLogLevel(e){const r=ew[e.toLowerCase()];if(r==null){Cn.globalLogger().warn("invalid log level - "+e);return}E9=r}static from(e){return new Cn(e)}};Qc.errors=oc;Qc.levels=NR;const A1e="bytes/5.8.0",eh=new Qc(A1e);function tW(t){return!!t.toHexString}function fb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return fb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function v9(t){return typeof t=="number"&&t==t&&t%1===0}function PC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!v9(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!v9(r)||r<0||r>=256)return!1}return!0}function Ey(t,e){if(e||(e={}),typeof t=="number"){eh.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),fb(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),tW(t)&&(t=t.toHexString()),Xd(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":eh.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return fb(new Uint8Array(n))}return PC(t)?fb(new Uint8Array(t)):eh.throwArgumentError("invalid arrayify value","value",t)}function UC(t){const e=t.map(i=>Ey(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),fb(n)}function Xd(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Xx="0123456789abcdef";function Ih(t,e){if(e||(e={}),typeof t=="number"){eh.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Xx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),tW(t))return t.toHexString();if(Xd(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":eh.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(PC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Xx[(i&240)>>4]+Xx[i&15]}return r}return eh.throwArgumentError("invalid hexlify value","value",t)}function tw(t){let e="0x";return t.forEach(r=>{e+=Ih(r).substring(2)}),e}function c_(t,e){for(typeof t!="string"?t=Ih(t):Xd(t)||eh.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&eh.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const rW="hash/5.8.0",N1e="logger/5.8.0";let _9=!1,A9=!1;const rw={debug:1,default:2,info:2,warning:3,error:4,off:5};let N9=rw.default,Yx=null;function x1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const x9=x1e();var xR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xR||(xR={}));var ac;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ac||(ac={}));const I9="0123456789abcdef";let MC=class On{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();rw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(N9>rw[n])&&console.log.apply(console,r)}debug(...e){this._log(On.levels.DEBUG,e)}info(...e){this._log(On.levels.INFO,e)}warn(...e){this._log(On.levels.WARNING,e)}makeError(e,r,n){if(A9)return this.makeError("censored error",r,{});r||(r=On.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=I9[f[u]>>4],l+=I9[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ac.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ac.CALL_EXCEPTION:case ac.INSUFFICIENT_FUNDS:case ac.MISSING_NEW:case ac.NONCE_EXPIRED:case ac.REPLACEMENT_UNDERPRICED:case ac.TRANSACTION_REPLACED:case ac.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,On.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){x9&&this.throwError("platform missing String.prototype.normalize",On.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:x9})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,On.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,On.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",On.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Yx||(Yx=new On(N1e)),Yx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_9){if(!e)return;this.globalLogger().throwError("error censorship permanent",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}A9=!!e,_9=!!r}static setLogLevel(e){const r=rw[e.toLowerCase()];if(r==null){On.globalLogger().warn("invalid log level - "+e);return}N9=r}static from(e){return new On(e)}};MC.errors=ac;MC.levels=xR;const I1e="bytes/5.8.0",Zx=new MC(I1e);function S1e(t){return!!t.toHexString}function nw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return nw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function S9(t){return typeof t=="number"&&t==t&&t%1===0}function R1e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!S9(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!S9(r)||r<0||r>=256)return!1}return!0}function nW(t,e){if(e||(e={}),typeof t=="number"){Zx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),nw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),S1e(t)&&(t=t.toHexString()),T1e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Zx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return nw(new Uint8Array(n))}return R1e(t)?nw(new Uint8Array(t)):Zx.throwArgumentError("invalid arrayify value","value",t)}function T1e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function iW(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return nW(e)}function sW(t){t=nW(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function oW(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function C1e(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function O1e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let L=1;L<n;L++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,f=0;function l(){return c==0&&(f=f<<8|t[e++],c=8),f>>--c&1}const u=31,h=Math.pow(2,u),g=h>>>1,m=g>>1,w=h-1;let N=0;for(let L=0;L<u;L++)N=N<<1|l();let I=[],C=0,M=h;for(;;){let L=Math.floor(((N-C+1)*i-1)/M),$=0,V=n;for(;V-$>1;){let F=$+V>>>1;L<s[F]?V=F:$=F}if($==0)break;I.push($);let P=C+Math.floor(M*s[$]/i),O=C+Math.floor(M*s[$+1]/i)-1;for(;!((P^O)&g);)N=N<<1&w|l(),P=P<<1&w,O=O<<1&w|1;for(;P&~O&m;)N=N&g|N<<1&w>>>1|l(),P=P<<1^g,O=(O^g)<<1|g|1;C=P,M=1+O-P}let k=n-4;return I.map(L=>{switch(L-k){case 3:return k+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return k+256+(t[a++]<<8|t[a++]);case 1:return k+t[a++];default:return L-1}})}function P1e(t){let e=0;return()=>t[e++]}function U1e(t){return P1e(O1e(t))}function M1e(t){return t&1?~t>>1:t>>1}function D1e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function R9(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function k1e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=M1e(e());return r}function f_(t,e){let r=R9(t(),t),n=t(),i=R9(n,t),s=D1e(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function L1e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push($1e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(B1e(r,t))}return C1e(oW(e))}function F1e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function aW(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)k1e(t,r).forEach((s,o)=>n[o].push(s));return n}function $1e(t,e){let r=1+e(),n=e(),i=F1e(e),s=aW(i.length,1+t,e);return oW(s.map((o,a)=>{const c=o[0],f=o.slice(1);return Array(i[a]).fill(void 0).map((l,u)=>{let h=u*n;return[c+u*r,f.map(g=>g+h)]})}))}function B1e(t,e){let r=1+e();return aW(r,1+t,e).map(i=>[i[0],i.slice(1)])}function G1e(t){let e=f_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let f=f_(t,e);if(f.length==0)break;n.push({set:new Set(f),node:r()})}n.sort((f,l)=>l.set.size-f.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function j1e(){return U1e(iW("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const RA=j1e(),z1e=new Set(f_(RA)),W1e=new Set(f_(RA)),H1e=L1e(RA),q1e=G1e(RA),T9=45,C9=95;function cW(t){return g1e(t)}function V1e(t){return t.filter(e=>e!=65039)}function fW(t){for(let e of t.split(".")){let r=cW(e);try{for(let n=r.lastIndexOf(C9)-1;n>=0;n--)if(r[n]!==C9)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===T9&&r[3]===T9)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function K1e(t){return fW(J1e(t,V1e))}function J1e(t,e){let r=cW(t).reverse(),n=[];for(;r.length;){let i=Y1e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(z1e.has(s)){n.push(s);continue}if(W1e.has(s))continue;let o=H1e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return fW(X1e(String.fromCodePoint(...n)))}function X1e(t){return t.normalize("NFC")}function Y1e(t,e){var r;let n=q1e,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=(r=n.branches.find(f=>f.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const Z1e=new Qc(rW),lW=new Uint8Array(32);lW.fill(0);function O9(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function uW(t){const e=nn(K1e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(O9(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(O9(e.slice(n))),r}function iw(t){typeof t!="string"&&Z1e.throwArgumentError("invalid ENS name; not a string","name",t);let e=lW;const r=uW(t);for(;r.length;)e=Ht(UC([e,Ht(r.pop())]));return Ih(e)}function Q1e(t){return Ih(UC(uW(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const ewe=`Ethereum Signed Message:
`;function hW(t){return typeof t=="string"&&(t=nn(t)),Ht(UC([nn(ewe),nn(String(t.length)),t]))}const twe="bignumber/5.8.0";var IR=te.BN;const Ul=new Qc(twe),Qx={},P9=9007199254740991;let U9=!1,hu=class qa{constructor(e,r){e!==Qx&&Ul.throwError("cannot call constructor directly; use BigNumber.from",Qc.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ws(_t(this).fromTwos(e))}toTwos(e){return Ws(_t(this).toTwos(e))}abs(){return this._hex[0]==="-"?qa.from(this._hex.substring(1)):this}add(e){return Ws(_t(this).add(_t(e)))}sub(e){return Ws(_t(this).sub(_t(e)))}div(e){return qa.from(e).isZero()&&Vo("division-by-zero","div"),Ws(_t(this).div(_t(e)))}mul(e){return Ws(_t(this).mul(_t(e)))}mod(e){const r=_t(e);return r.isNeg()&&Vo("division-by-zero","mod"),Ws(_t(this).umod(r))}pow(e){const r=_t(e);return r.isNeg()&&Vo("negative-power","pow"),Ws(_t(this).pow(r))}and(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&Vo("unbound-bitwise-result","and"),Ws(_t(this).and(r))}or(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&Vo("unbound-bitwise-result","or"),Ws(_t(this).or(r))}xor(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&Vo("unbound-bitwise-result","xor"),Ws(_t(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Vo("negative-width","mask"),Ws(_t(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Vo("negative-width","shl"),Ws(_t(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Vo("negative-width","shr"),Ws(_t(this).shrn(e))}eq(e){return _t(this).eq(_t(e))}lt(e){return _t(this).lt(_t(e))}lte(e){return _t(this).lte(_t(e))}gt(e){return _t(this).gt(_t(e))}gte(e){return _t(this).gte(_t(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _t(this).isZero()}toNumber(){try{return _t(this).toNumber()}catch{Vo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ul.throwError("this platform does not support BigInt",Qc.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?U9||(U9=!0,Ul.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ul.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Qc.errors.UNEXPECTED_ARGUMENT,{}):Ul.throwError("BigNumber.toString does not accept parameters",Qc.errors.UNEXPECTED_ARGUMENT,{})),_t(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof qa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new qa(Qx,_E(e)):e.match(/^-?[0-9]+$/)?new qa(Qx,_E(new IR(e))):Ul.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Vo("underflow","BigNumber.from",e),(e>=P9||e<=-P9)&&Vo("overflow","BigNumber.from",e),qa.from(String(e));const r=e;if(typeof r=="bigint")return qa.from(r.toString());if(PC(r))return qa.from(Ih(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return qa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Xd(n)||n[0]==="-"&&Xd(n.substring(1))))return qa.from(n)}return Ul.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function _E(t){if(typeof t!="string")return _E(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ul.throwArgumentError("invalid hex","value",t),t=_E(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ws(t){return hu.from(_E(t))}function _t(t){const e=hu.from(t).toHexString();return e[0]==="-"?new IR("-"+e.substring(3),16):new IR(e.substring(2),16)}function Vo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ul.throwError(t,Qc.errors.NUMERIC_FAULT,n)}var rwe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const Vr=new Qc(rW),dW=new Uint8Array(32);dW.fill(0);const nwe=hu.from(-1),pW=hu.from(0),gW=hu.from(1),iwe=hu.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function swe(t){const e=Ey(t),r=e.length%32;return r?tw([e,dW.slice(r)]):Ih(e)}const owe=c_(gW.toHexString(),32),awe=c_(pW.toHexString(),32),M9={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},e2=["name","version","chainId","verifyingContract","salt"];function D9(t){return function(e){return typeof e!="string"&&Vr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const cwe={name:D9("name"),version:D9("version"),chainId:function(t){try{return hu.from(t).toString()}catch{}return Vr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Xt(t).toLowerCase()}catch{}return Vr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ey(t);if(e.length!==32)throw new Error("bad length");return Ih(e)}catch{}return Vr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function t2(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Vr.throwArgumentError("invalid numeric width","type",t);const i=iwe.mask(r?n-1:n),s=r?i.add(gW).mul(nwe):pW;return function(o){const a=hu.from(o);return(a.lt(s)||a.gt(i))&&Vr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),c_(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Vr.throwArgumentError("invalid bytes width","type",t),function(n){return Ey(n).length!==r&&Vr.throwArgumentError(`invalid length for ${t}`,"value",n),swe(n)}}}switch(t){case"address":return function(e){return c_(Xt(e),32)};case"bool":return function(e){return e?owe:awe};case"bytes":return function(e){return Ht(e)};case"string":return function(e){return Zc(e)}}return null}function k9(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}let AE=class Va{constructor(e){ae(this,"types",Object.freeze(su(e))),ae(this,"_encoderCache",{}),ae(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(f=>{c[f.name]&&Vr.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),c[f.name]=!0;const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&Vr.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!t2(l)&&(n[l]||Vr.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),r[a][l]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Vr.throwArgumentError("missing primary type","types",e):s.length>1&&Vr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ae(this,"primaryType",s[0]);function o(a,c){c[a]&&Vr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(f=>{n[f]&&(o(f,c),Object.keys(c).forEach(l=>{i[l][f]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=k9(a,e[a])+c.map(f=>k9(f,e[f])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=t2(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Vr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Ht)),Ht(tw(c))}}const n=this.types[e];if(n){const i=Zc(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const f=this.getEncoder(c)(s[a]);return this._types[c]?Ht(f):f});return o.unshift(i),tw(o)}}return Vr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Vr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Ht(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(t2(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Vr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Vr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Va(e)}static getPrimaryType(e){return Va.from(e).primaryType}static hashStruct(e,r,n){return Va.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=M9[n];i||Vr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>e2.indexOf(n.name)-e2.indexOf(i.name)),Va.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return tw(["0x1901",Va.hashDomain(e),Va.from(r).hash(n)])}static hash(e,r,n){return Ht(Va.encode(e,r,n))}static resolveNames(e,r,n,i){return rwe(this,void 0,void 0,function*(){e=yi(e);const s={};e.verifyingContract&&!Xd(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Va.from(r);o.visit(n,(a,c)=>(a==="address"&&!Xd(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Va.hashDomain(e);const i={},s=[];e2.forEach(c=>{const f=e[c];f!=null&&(i[c]=cwe[c](f),s.push({name:c,type:M9[c]}))});const o=Va.from(r),a=yi(r);return a.EIP712Domain?Vr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return Ih(Ey(f));if(c.match(/^u?int/))return hu.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&Vr.throwArgumentError("invalid string","value",f),f}return Vr.throwArgumentError("unsupported type","type",c)})}}};const zr=new wr(by);let fwe=class extends Oo{},lwe=class extends Oo{},uwe=class extends Oo{},SR=class extends Oo{static isIndexed(e){return!!(e&&e._isIndexed)}};const hwe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function L9(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let F9=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ae(this,"fragments",r.map(n=>IA.from(n)).filter(n=>n!=null)),ae(this,"_abiCoder",Ki(new.target,"getAbiCoder")()),ae(this,"functions",{}),ae(this,"errors",{}),ae(this,"events",{}),ae(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){zr.warn("duplicate definition - constructor");return}ae(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){zr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ae(this,"deploy",s_.from({payable:!1,type:"constructor"})),ae(this,"_isInterface",!0)}format(e){e||(e=Bt.full),e===Bt.sighash&&zr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Bt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return w1e}static getAddress(e){return Xt(e)}static getSighash(e){return oye(Zc(e.format()),0,4)}static getEventTopic(e){return Zc(e.format())}getFunction(e){if(jf(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];zr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?zr.throwArgumentError("no matching function","name",n):i.length>1&&zr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[o_.fromString(e).format()];return r||zr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(jf(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];zr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?zr.throwArgumentError("no matching event","name",n):i.length>1&&zr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[bR.fromString(e).format()];return r||zr.throwArgumentError("no matching event","signature",e),r}getError(e){if(jf(e)){const n=Ki(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}zr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?zr.throwArgumentError("no matching error","name",n):i.length>1&&zr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[o_.fromString(e).format()];return r||zr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Ki(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ki(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Qf(r);return gi(n.slice(0,4))!==this.getSighash(e)&&zr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",gi(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),gi(Cp([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Qf(r);return gi(n.slice(0,4))!==this.getSighash(e)&&zr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",gi(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),gi(Cp([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Qf(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=gi(n.slice(0,4)),l=hwe[f];if(l)o=this._abiCoder.decode(l.inputs,n.slice(4)),a=l.name,c=l.signature,l.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const u=this.getError(f);o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.format()}catch{}break}}return zr.throwError("call revert exception"+s,wr.errors.CALL_EXCEPTION,{method:e.format(),data:gi(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),gi(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&zr.throwError("too many arguments for "+e.format(),wr.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Zc(o):s.type==="bytes"?Ht(gi(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ao.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Mz(gi(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&zr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?zr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&zr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Zc(c));else if(o.type==="bytes")n.push(Ht(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!jf(n[0],32)||n[0].toLowerCase()!==h)&&zr.throwError("fragment/topic mismatch",wr.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(el.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Cp(n)):null,c=this._abiCoder.decode(s,r,!0),f=[],l=0,u=0;e.inputs.forEach((h,g)=>{if(h.indexed)if(a==null)f[g]=new SR({_isIndexed:!0,hash:null});else if(o[g])f[g]=new SR({_isIndexed:!0,hash:a[u++]});else try{f[g]=a[u++]}catch(m){f[g]=m}else try{f[g]=c[l++]}catch(m){f[g]=m}if(h.name&&f[h.name]==null){const m=f[g];m instanceof Error?Object.defineProperty(f,h.name,{enumerable:!0,get:()=>{throw L9(`property ${JSON.stringify(h.name)}`,m)}}):f[h.name]=m}});for(let h=0;h<f.length;h++){const g=f[h];g instanceof Error&&Object.defineProperty(f,h,{enumerable:!0,get:()=>{throw L9(`index ${h}`,g)}})}return Object.freeze(f)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new lwe({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ao.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new fwe({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=gi(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new uwe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const dwe="logger/5.8.0";let $9=!1,B9=!1;const sw={debug:1,default:2,info:2,warning:3,error:4,off:5};let G9=sw.default,r2=null;function pwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const j9=pwe();var RR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(RR||(RR={}));var cc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(cc||(cc={}));const z9="0123456789abcdef";let Wf=class Pn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();sw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(G9>sw[n])&&console.log.apply(console,r)}debug(...e){this._log(Pn.levels.DEBUG,e)}info(...e){this._log(Pn.levels.INFO,e)}warn(...e){this._log(Pn.levels.WARNING,e)}makeError(e,r,n){if(B9)return this.makeError("censored error",r,{});r||(r=Pn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=z9[f[u]>>4],l+=z9[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case cc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case cc.CALL_EXCEPTION:case cc.INSUFFICIENT_FUNDS:case cc.MISSING_NEW:case cc.NONCE_EXPIRED:case cc.REPLACEMENT_UNDERPRICED:case cc.TRANSACTION_REPLACED:case cc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Pn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){j9&&this.throwError("platform missing String.prototype.normalize",Pn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:j9})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Pn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Pn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Pn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return r2||(r2=new Pn(dwe)),r2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$9){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}B9=!!e,$9=!!r}static setLogLevel(e){const r=sw[e.toLowerCase()];if(r==null){Pn.globalLogger().warn("invalid log level - "+e);return}G9=r}static from(e){return new Pn(e)}};Wf.errors=cc;Wf.levels=RR;const gwe="bytes/5.8.0",n2=new Wf(gwe);function mwe(t){return!!t.toHexString}function W9(t){return typeof t=="number"&&t==t&&t%1===0}function mW(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!W9(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!W9(r)||r<0||r>=256)return!1}return!0}function TR(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const i2="0123456789abcdef";function bwe(t,e){if(e||(e={}),typeof t=="number"){n2.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=i2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),mwe(t))return t.toHexString();if(TR(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":n2.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(mW(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=i2[(i&240)>>4]+i2[i&15]}return r}return n2.throwArgumentError("invalid hexlify value","value",t)}const Ewe="bignumber/5.8.0";var CR=te.BN;const Ml=new Wf(Ewe),s2={},H9=9007199254740991;let q9=!1,DC=class Ka{constructor(e,r){e!==s2&&Ml.throwError("cannot call constructor directly; use BigNumber.from",Wf.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Hs(At(this).fromTwos(e))}toTwos(e){return Hs(At(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ka.from(this._hex.substring(1)):this}add(e){return Hs(At(this).add(At(e)))}sub(e){return Hs(At(this).sub(At(e)))}div(e){return Ka.from(e).isZero()&&Ko("division-by-zero","div"),Hs(At(this).div(At(e)))}mul(e){return Hs(At(this).mul(At(e)))}mod(e){const r=At(e);return r.isNeg()&&Ko("division-by-zero","mod"),Hs(At(this).umod(r))}pow(e){const r=At(e);return r.isNeg()&&Ko("negative-power","pow"),Hs(At(this).pow(r))}and(e){const r=At(e);return(this.isNegative()||r.isNeg())&&Ko("unbound-bitwise-result","and"),Hs(At(this).and(r))}or(e){const r=At(e);return(this.isNegative()||r.isNeg())&&Ko("unbound-bitwise-result","or"),Hs(At(this).or(r))}xor(e){const r=At(e);return(this.isNegative()||r.isNeg())&&Ko("unbound-bitwise-result","xor"),Hs(At(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ko("negative-width","mask"),Hs(At(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ko("negative-width","shl"),Hs(At(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ko("negative-width","shr"),Hs(At(this).shrn(e))}eq(e){return At(this).eq(At(e))}lt(e){return At(this).lt(At(e))}lte(e){return At(this).lte(At(e))}gt(e){return At(this).gt(At(e))}gte(e){return At(this).gte(At(e))}isNegative(){return this._hex[0]==="-"}isZero(){return At(this).isZero()}toNumber(){try{return At(this).toNumber()}catch{Ko("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ml.throwError("this platform does not support BigInt",Wf.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?q9||(q9=!0,Ml.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ml.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Wf.errors.UNEXPECTED_ARGUMENT,{}):Ml.throwError("BigNumber.toString does not accept parameters",Wf.errors.UNEXPECTED_ARGUMENT,{})),At(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ka)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ka(s2,NE(e)):e.match(/^-?[0-9]+$/)?new Ka(s2,NE(new CR(e))):Ml.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ko("underflow","BigNumber.from",e),(e>=H9||e<=-H9)&&Ko("overflow","BigNumber.from",e),Ka.from(String(e));const r=e;if(typeof r=="bigint")return Ka.from(r.toString());if(mW(r))return Ka.from(bwe(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ka.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(TR(n)||n[0]==="-"&&TR(n.substring(1))))return Ka.from(n)}return Ml.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function NE(t){if(typeof t!="string")return NE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ml.throwArgumentError("invalid hex","value",t),t=NE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Hs(t){return DC.from(NE(t))}function At(t){const e=DC.from(t).toHexString();return e[0]==="-"?new CR("-"+e.substring(3),16):new CR(e.substring(2),16)}function Ko(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ml.throwError(t,Wf.errors.NUMERIC_FAULT,n)}const ywe="abstract-provider/5.8.0";var wwe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const vwe=new Wf(ywe);class _we extends Oo{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class yy{constructor(){vwe.checkAbstract(new.target,yy),ae(this,"_isProvider",!0)}getFeeData(){return wwe(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield on({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=DC.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Awe="logger/5.8.0";let V9=!1,K9=!1;const ow={debug:1,default:2,info:2,warning:3,error:4,off:5};let J9=ow.default,o2=null;function Nwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const X9=Nwe();var OR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(OR||(OR={}));var fc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(fc||(fc={}));const Y9="0123456789abcdef";let ef=class Un{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();ow[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(J9>ow[n])&&console.log.apply(console,r)}debug(...e){this._log(Un.levels.DEBUG,e)}info(...e){this._log(Un.levels.INFO,e)}warn(...e){this._log(Un.levels.WARNING,e)}makeError(e,r,n){if(K9)return this.makeError("censored error",r,{});r||(r=Un.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=Y9[f[u]>>4],l+=Y9[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case fc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case fc.CALL_EXCEPTION:case fc.INSUFFICIENT_FUNDS:case fc.MISSING_NEW:case fc.NONCE_EXPIRED:case fc.REPLACEMENT_UNDERPRICED:case fc.TRANSACTION_REPLACED:case fc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Un.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){X9&&this.throwError("platform missing String.prototype.normalize",Un.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:X9})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Un.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Un.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Un.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Un.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Un.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Un.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Un.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return o2||(o2=new Un(Awe)),o2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Un.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),V9){if(!e)return;this.globalLogger().throwError("error censorship permanent",Un.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}K9=!!e,V9=!!r}static setLogLevel(e){const r=ow[e.toLowerCase()];if(r==null){Un.globalLogger().warn("invalid log level - "+e);return}J9=r}static from(e){return new Un(e)}};ef.errors=fc;ef.levels=OR;const xwe="abstract-signer/5.8.0";var Ba=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const ea=new ef(xwe),Iwe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Swe=[ef.errors.INSUFFICIENT_FUNDS,ef.errors.NONCE_EXPIRED,ef.errors.REPLACEMENT_UNDERPRICED];class Dg{constructor(){ea.checkAbstract(new.target,Dg),ae(this,"_isSigner",!0)}getBalance(e){return Ba(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Ba(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Ba(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield on(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Ba(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield on(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Ba(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Ba(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ba(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ba(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Ba(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Iwe.indexOf(n)===-1&&ea.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=yi(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&ea.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Ba(this,void 0,void 0,function*(){const r=yield on(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Ba(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&ea.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?ea.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&ea.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&ea.throwError("network does not support EIP-1559",ef.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):ea.throwError("failed to get consistent fee data",ef.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Swe.indexOf(i.code)>=0)throw i;return ea.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ef.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&ea.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield on(r)})}_checkProvider(e){this.provider||ea.throwError("missing provider",ef.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class kC extends Dg{constructor(e,r){super(),ae(this,"address",e),ae(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{ea.throwError(e,ef.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new kC(this.address,e)}}const Rwe="logger/5.7.0";let Z9=!1,Q9=!1;const aw={debug:1,default:2,info:2,warning:3,error:4,off:5};let eU=aw.default,a2=null;function Twe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const tU=Twe();var l_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(l_||(l_={}));var aa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(aa||(aa={}));const rU="0123456789abcdef";let ie=class Mn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();aw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(eU>aw[n])&&console.log.apply(console,r)}debug(...e){this._log(Mn.levels.DEBUG,e)}info(...e){this._log(Mn.levels.INFO,e)}warn(...e){this._log(Mn.levels.WARNING,e)}makeError(e,r,n){if(Q9)return this.makeError("censored error",r,{});r||(r=Mn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=rU[f[u]>>4],l+=rU[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case aa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case aa.CALL_EXCEPTION:case aa.INSUFFICIENT_FUNDS:case aa.MISSING_NEW:case aa.NONCE_EXPIRED:case aa.REPLACEMENT_UNDERPRICED:case aa.TRANSACTION_REPLACED:case aa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Mn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){tU&&this.throwError("platform missing String.prototype.normalize",Mn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:tU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Mn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Mn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Mn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Mn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Mn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Mn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Mn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return a2||(a2=new Mn(Rwe)),a2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Mn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Z9){if(!e)return;this.globalLogger().throwError("error censorship permanent",Mn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Q9=!!e,Z9=!!r}static setLogLevel(e){const r=aw[e.toLowerCase()];if(r==null){Mn.globalLogger().warn("invalid log level - "+e);return}eU=r}static from(e){return new Mn(e)}};ie.errors=aa;ie.levels=l_;const Cwe=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return aa},get LogLevel(){return l_},Logger:ie},Symbol.toStringTag,{value:"Module"})),Owe="bytes/5.7.0",en=new ie(Owe);function bW(t){return!!t.toHexString}function Pp(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Pp(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function wy(t){return Pt(t)&&!(t.length%2)||g0(t)}function nU(t){return typeof t=="number"&&t==t&&t%1===0}function g0(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!nU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!nU(r)||r<0||r>=256)return!1}return!0}function me(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Pp(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),bW(t)&&(t=t.toHexString()),Pt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":en.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Pp(new Uint8Array(n))}return g0(t)?Pp(new Uint8Array(t)):en.throwArgumentError("invalid arrayify value","value",t)}function Lr(t){const e=t.map(i=>me(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Pp(n)}function tl(t){let e=me(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function lb(t,e){t=me(t),t.length>e&&en.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Pp(r)}function Pt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const c2="0123456789abcdef";function ye(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=c2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),bW(t))return t.toHexString();if(Pt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":en.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(g0(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=c2[(i&240)>>4]+c2[i&15]}return r}return en.throwArgumentError("invalid hexlify value","value",t)}function ul(t){if(typeof t!="string")t=ye(t);else if(!Pt(t)||t.length%2)return null;return(t.length-2)/2}function ln(t,e,r){return typeof t!="string"?t=ye(t):(!Pt(t)||t.length%2)&&en.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Cs(t){let e="0x";return t.forEach(r=>{e+=ye(r).substring(2)}),e}function TA(t){const e=EW(ye(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function EW(t){typeof t!="string"&&(t=ye(t)),Pt(t)||en.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Tr(t,e){for(typeof t!="string"?t=ye(t):Pt(t)||en.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&en.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function m0(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(wy(t)){let r=me(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64))):r.length===65?(e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64)),e.v=r[64]):en.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:en.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ye(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=lb(me(e._vs),32);e._vs=ye(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&en.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ye(i);e.s==null?e.s=o:e.s!==o&&en.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?en.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&en.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Pt(e.r)?en.throwArgumentError("signature missing or invalid r","signature",t):e.r=Tr(e.r,32),e.s==null||!Pt(e.s)?en.throwArgumentError("signature missing or invalid s","signature",t):e.s=Tr(e.s,32);const r=me(e.s);r[0]>=128&&en.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ye(r);e._vs&&(Pt(e._vs)||en.throwArgumentError("signature invalid _vs","signature",t),e._vs=Tr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&en.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function PR(t){return t=m0(t),ye(Lr([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Pwe=Object.freeze(Object.defineProperty({__proto__:null,arrayify:me,concat:Lr,hexConcat:Cs,hexDataLength:ul,hexDataSlice:ln,hexStripZeros:EW,hexValue:TA,hexZeroPad:Tr,hexlify:ye,isBytes:g0,isBytesLike:wy,isHexString:Pt,joinSignature:PR,splitSignature:m0,stripZeros:tl,zeroPad:lb},Symbol.toStringTag,{value:"Module"})),yW="bignumber/5.7.0";var xE=te.BN;const Dl=new ie(yW),f2={},iU=9007199254740991;function Uwe(t){return t!=null&&(xe.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Pt(t)||typeof t=="bigint"||g0(t))}let sU=!1,xe=class Ja{constructor(e,r){e!==f2&&Dl.throwError("cannot call constructor directly; use BigNumber.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return qs(Nt(this).fromTwos(e))}toTwos(e){return qs(Nt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ja.from(this._hex.substring(1)):this}add(e){return qs(Nt(this).add(Nt(e)))}sub(e){return qs(Nt(this).sub(Nt(e)))}div(e){return Ja.from(e).isZero()&&Jo("division-by-zero","div"),qs(Nt(this).div(Nt(e)))}mul(e){return qs(Nt(this).mul(Nt(e)))}mod(e){const r=Nt(e);return r.isNeg()&&Jo("division-by-zero","mod"),qs(Nt(this).umod(r))}pow(e){const r=Nt(e);return r.isNeg()&&Jo("negative-power","pow"),qs(Nt(this).pow(r))}and(e){const r=Nt(e);return(this.isNegative()||r.isNeg())&&Jo("unbound-bitwise-result","and"),qs(Nt(this).and(r))}or(e){const r=Nt(e);return(this.isNegative()||r.isNeg())&&Jo("unbound-bitwise-result","or"),qs(Nt(this).or(r))}xor(e){const r=Nt(e);return(this.isNegative()||r.isNeg())&&Jo("unbound-bitwise-result","xor"),qs(Nt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Jo("negative-width","mask"),qs(Nt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Jo("negative-width","shl"),qs(Nt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Jo("negative-width","shr"),qs(Nt(this).shrn(e))}eq(e){return Nt(this).eq(Nt(e))}lt(e){return Nt(this).lt(Nt(e))}lte(e){return Nt(this).lte(Nt(e))}gt(e){return Nt(this).gt(Nt(e))}gte(e){return Nt(this).gte(Nt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Nt(this).isZero()}toNumber(){try{return Nt(this).toNumber()}catch{Jo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Dl.throwError("this platform does not support BigInt",ie.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?sU||(sU=!0,Dl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Dl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ie.errors.UNEXPECTED_ARGUMENT,{}):Dl.throwError("BigNumber.toString does not accept parameters",ie.errors.UNEXPECTED_ARGUMENT,{})),Nt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ja)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ja(f2,IE(e)):e.match(/^-?[0-9]+$/)?new Ja(f2,IE(new xE(e))):Dl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Jo("underflow","BigNumber.from",e),(e>=iU||e<=-iU)&&Jo("overflow","BigNumber.from",e),Ja.from(String(e));const r=e;if(typeof r=="bigint")return Ja.from(r.toString());if(g0(r))return Ja.from(ye(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ja.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Pt(n)||n[0]==="-"&&Pt(n.substring(1))))return Ja.from(n)}return Dl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function IE(t){if(typeof t!="string")return IE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Dl.throwArgumentError("invalid hex","value",t),t=IE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function qs(t){return xe.from(IE(t))}function Nt(t){const e=xe.from(t).toHexString();return e[0]==="-"?new xE("-"+e.substring(3),16):new xE(e.substring(2),16)}function Jo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Dl.throwError(t,ie.errors.NUMERIC_FAULT,n)}function Mwe(t){return new xE(t,36).toString(16)}function Dwe(t){return new xE(t,16).toString(36)}const Os=new ie(yW),ub={},wW=xe.from(0),vW=xe.from(-1);function _W(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Os.throwError(t,ie.errors.NUMERIC_FAULT,i)}let hb="0";for(;hb.length<256;)hb+=hb;function LC(t){if(typeof t!="number")try{t=xe.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+hb.substring(0,t):Os.throwArgumentError("invalid decimal size","decimals",t)}function cw(t,e){e==null&&(e=0);const r=LC(e);t=xe.from(t);const n=t.lt(wW);n&&(t=t.mul(vW));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function If(t,e){e==null&&(e=0);const r=LC(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Os.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Os.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Os.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&_W("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=xe.from(s),c=xe.from(o);let f=a.mul(r).add(c);return n&&(f=f.mul(vW)),f}class Up{constructor(e,r,n,i){e!==ub&&Os.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=LC(i),Object.freeze(this)}static from(e){if(e instanceof Up)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Os.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Os.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Os.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Os.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Up(ub,r,n,i)}}class zi{constructor(e,r,n,i){e!==ub&&Os.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Os.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=If(this._value,this.format.decimals),n=If(e._value,e.format.decimals);return zi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=If(this._value,this.format.decimals),n=If(e._value,e.format.decimals);return zi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=If(this._value,this.format.decimals),n=If(e._value,e.format.decimals);return zi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=If(this._value,this.format.decimals),n=If(e._value,e.format.decimals);return zi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=zi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(oU.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=zi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(oU.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Os.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=zi.from("1"+hb.substring(0,e),this.format),i=kwe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Os.throwArgumentError("invalid byte width","width",e);const r=xe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Tr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return zi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!Uwe(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),zi.fromString(cw(e,r),Up.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Up.from(r),i=If(e,n.decimals);!n.signed&&i.lt(wW)&&_W("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Tr(s,n.width/8));const o=cw(i,n.decimals);return new zi(ub,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Up.from(r);if(me(e).length>n.width/8)throw new Error("overflow");let i=xe.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=cw(i,n.decimals);return new zi(ub,s,o,n)}static from(e,r){if(typeof e=="string")return zi.fromString(e,r);if(g0(e))return zi.fromBytes(e,r);try{return zi.fromValue(e,0,r)}catch(n){if(n.code!==ie.errors.INVALID_ARGUMENT)throw n}return Os.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const oU=zi.from(1),kwe=zi.from("0.5"),Lwe="logger/5.8.0";let aU=!1,cU=!1;const fw={debug:1,default:2,info:2,warning:3,error:4,off:5};let fU=fw.default,l2=null;function Fwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const lU=Fwe();var UR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(UR||(UR={}));var lc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(lc||(lc={}));const uU="0123456789abcdef";let ga=class Dn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();fw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(fU>fw[n])&&console.log.apply(console,r)}debug(...e){this._log(Dn.levels.DEBUG,e)}info(...e){this._log(Dn.levels.INFO,e)}warn(...e){this._log(Dn.levels.WARNING,e)}makeError(e,r,n){if(cU)return this.makeError("censored error",r,{});r||(r=Dn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=uU[f[u]>>4],l+=uU[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case lc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case lc.CALL_EXCEPTION:case lc.INSUFFICIENT_FUNDS:case lc.MISSING_NEW:case lc.NONCE_EXPIRED:case lc.REPLACEMENT_UNDERPRICED:case lc.TRANSACTION_REPLACED:case lc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Dn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){lU&&this.throwError("platform missing String.prototype.normalize",Dn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:lU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Dn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Dn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Dn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return l2||(l2=new Dn(Lwe)),l2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),aU){if(!e)return;this.globalLogger().throwError("error censorship permanent",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cU=!!e,aU=!!r}static setLogLevel(e){const r=fw[e.toLowerCase()];if(r==null){Dn.globalLogger().warn("invalid log level - "+e);return}fU=r}static from(e){return new Dn(e)}};ga.errors=lc;ga.levels=UR;const $we="bytes/5.8.0",sn=new ga($we);function AW(t){return!!t.toHexString}function db(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return db(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function NW(t){return hf(t)&&!(t.length%2)||CA(t)}function hU(t){return typeof t=="number"&&t==t&&t%1===0}function CA(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!hU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!hU(r)||r<0||r>=256)return!1}return!0}function rl(t,e){if(e||(e={}),typeof t=="number"){sn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),db(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),AW(t)&&(t=t.toHexString()),hf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":sn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return db(new Uint8Array(n))}return CA(t)?db(new Uint8Array(t)):sn.throwArgumentError("invalid arrayify value","value",t)}function th(t){let e=rl(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Bwe(t,e){t=rl(t),t.length>e&&sn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),db(r)}function hf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const u2="0123456789abcdef";function tn(t,e){if(e||(e={}),typeof t=="number"){sn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=u2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),AW(t))return t.toHexString();if(hf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":sn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(CA(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=u2[(i&240)>>4]+u2[i&15]}return r}return sn.throwArgumentError("invalid hexlify value","value",t)}function Gwe(t){if(typeof t!="string")t=tn(t);else if(!hf(t)||t.length%2)return null;return(t.length-2)/2}function dU(t,e,r){return typeof t!="string"?t=tn(t):(!hf(t)||t.length%2)&&sn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function xW(t){let e="0x";return t.forEach(r=>{e+=tn(r).substring(2)}),e}function Ud(t,e){for(typeof t!="string"?t=tn(t):hf(t)||sn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&sn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function FC(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(NW(t)){let r=rl(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=tn(r.slice(0,32)),e.s=tn(r.slice(32,64))):r.length===65?(e.r=tn(r.slice(0,32)),e.s=tn(r.slice(32,64)),e.v=r[64]):sn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:sn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=tn(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Bwe(rl(e._vs),32);e._vs=tn(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&sn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=tn(i);e.s==null?e.s=o:e.s!==o&&sn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?sn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&sn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!hf(e.r)?sn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Ud(e.r,32),e.s==null||!hf(e.s)?sn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Ud(e.s,32);const r=rl(e.s);r[0]>=128&&sn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=tn(r);e._vs&&(hf(e._vs)||sn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ud(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&sn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const jwe="bignumber/5.8.0";var MR=te.BN;const kl=new ga(jwe),h2={},pU=9007199254740991;let gU=!1,nl=class Xa{constructor(e,r){e!==h2&&kl.throwError("cannot call constructor directly; use BigNumber.from",ga.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Vs(xt(this).fromTwos(e))}toTwos(e){return Vs(xt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Xa.from(this._hex.substring(1)):this}add(e){return Vs(xt(this).add(xt(e)))}sub(e){return Vs(xt(this).sub(xt(e)))}div(e){return Xa.from(e).isZero()&&Xo("division-by-zero","div"),Vs(xt(this).div(xt(e)))}mul(e){return Vs(xt(this).mul(xt(e)))}mod(e){const r=xt(e);return r.isNeg()&&Xo("division-by-zero","mod"),Vs(xt(this).umod(r))}pow(e){const r=xt(e);return r.isNeg()&&Xo("negative-power","pow"),Vs(xt(this).pow(r))}and(e){const r=xt(e);return(this.isNegative()||r.isNeg())&&Xo("unbound-bitwise-result","and"),Vs(xt(this).and(r))}or(e){const r=xt(e);return(this.isNegative()||r.isNeg())&&Xo("unbound-bitwise-result","or"),Vs(xt(this).or(r))}xor(e){const r=xt(e);return(this.isNegative()||r.isNeg())&&Xo("unbound-bitwise-result","xor"),Vs(xt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Xo("negative-width","mask"),Vs(xt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Xo("negative-width","shl"),Vs(xt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Xo("negative-width","shr"),Vs(xt(this).shrn(e))}eq(e){return xt(this).eq(xt(e))}lt(e){return xt(this).lt(xt(e))}lte(e){return xt(this).lte(xt(e))}gt(e){return xt(this).gt(xt(e))}gte(e){return xt(this).gte(xt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return xt(this).isZero()}toNumber(){try{return xt(this).toNumber()}catch{Xo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return kl.throwError("this platform does not support BigInt",ga.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?gU||(gU=!0,kl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?kl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ga.errors.UNEXPECTED_ARGUMENT,{}):kl.throwError("BigNumber.toString does not accept parameters",ga.errors.UNEXPECTED_ARGUMENT,{})),xt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Xa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Xa(h2,SE(e)):e.match(/^-?[0-9]+$/)?new Xa(h2,SE(new MR(e))):kl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Xo("underflow","BigNumber.from",e),(e>=pU||e<=-pU)&&Xo("overflow","BigNumber.from",e),Xa.from(String(e));const r=e;if(typeof r=="bigint")return Xa.from(r.toString());if(CA(r))return Xa.from(tn(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Xa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(hf(n)||n[0]==="-"&&hf(n.substring(1))))return Xa.from(n)}return kl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function SE(t){if(typeof t!="string")return SE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&kl.throwArgumentError("invalid hex","value",t),t=SE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Vs(t){return nl.from(SE(t))}function xt(t){const e=nl.from(t).toHexString();return e[0]==="-"?new MR("-"+e.substring(3),16):new MR(e.substring(2),16)}function Xo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),kl.throwError(t,ga.errors.NUMERIC_FAULT,n)}const zwe=nl.from(0);function kg(t,e,r){return r={path:e,exports:{},require:function(n,i){return Wwe(n,i??r.path)}},t(r,r.exports),r.exports}function Wwe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var $C=IW;function IW(t,e){if(!t)throw new Error(e||"Assertion failed")}IW.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var tf=kg(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var f=0;f<o.length;f++)c[f]=o[f]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var f=0;f<o.length;f+=2)c.push(parseInt(o[f]+o[f+1],16))}else for(var f=0;f<o.length;f++){var l=o.charCodeAt(f),u=l>>8,h=l&255;u?c.push(u,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Po=kg(function(t,e){var r=e;r.assert=$C,r.toArray=tf.toArray,r.zero2=tf.zero2,r.toHex=tf.toHex,r.encode=tf.encode;function n(c,f,l){var u=new Array(Math.max(c.bitLength(),l)+1),h;for(h=0;h<u.length;h+=1)u[h]=0;var g=1<<f+1,m=c.clone();for(h=0;h<u.length;h++){var w,N=m.andln(g-1);m.isOdd()?(N>(g>>1)-1?w=(g>>1)-N:w=N,m.isubn(w)):w=0,u[h]=w,m.iushrn(1)}return u}r.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var u=0,h=0,g;c.cmpn(-u)>0||f.cmpn(-h)>0;){var m=c.andln(3)+u&3,w=f.andln(3)+h&3;m===3&&(m=-1),w===3&&(w=-1);var N;m&1?(g=c.andln(7)+u&7,(g===3||g===5)&&w===2?N=-m:N=m):N=0,l[0].push(N);var I;w&1?(g=f.andln(7)+h&7,(g===3||g===5)&&m===2?I=-w:I=w):I=0,l[1].push(I),2*u===N+1&&(u=1-u),2*h===I+1&&(h=1-h),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=i;function s(c,f,l){var u="_"+f;c.prototype[f]=function(){return this[u]!==void 0?this[u]:this[u]=l.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),u_=Po.getNAF,Hwe=Po.getJSF,h_=Po.assert;function Sh(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var b0=Sh;Sh.prototype.point=function(){throw new Error("Not implemented")};Sh.prototype.validate=function(){throw new Error("Not implemented")};Sh.prototype._fixedNafMul=function(e,r){h_(e.precomputed);var n=e._getDoubles(),i=u_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var f=a+n.step-1;f>=a;f--)c=(c<<1)+i[f];o.push(c)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?u=u.mixedAdd(n.points[a]):c===-h&&(u=u.mixedAdd(n.points[a].neg()));l=l.add(u)}return l.toP()};Sh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=u_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&o[c]===0;c--)f++;if(c>=0&&f++,a=a.dblp(f),c<0)break;var l=o[c];h_(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};Sh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,f=0,l,u,h;for(l=0;l<i;l++){h=r[l];var g=h._getNAFPoints(e);o[l]=g.wnd,a[l]=g.points}for(l=i-1;l>=1;l-=2){var m=l-1,w=l;if(o[m]!==1||o[w]!==1){c[m]=u_(n[m],o[m],this._bitLength),c[w]=u_(n[w],o[w],this._bitLength),f=Math.max(c[m].length,f),f=Math.max(c[w].length,f);continue}var N=[r[m],null,null,r[w]];r[m].y.cmp(r[w].y)===0?(N[1]=r[m].add(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg())):r[m].y.cmp(r[w].y.redNeg())===0?(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].add(r[w].neg())):(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=Hwe(n[m],n[w]);for(f=Math.max(C[0].length,f),c[m]=new Array(f),c[w]=new Array(f),u=0;u<f;u++){var M=C[0][u]|0,k=C[1][u]|0;c[m][u]=I[(M+1)*3+(k+1)],c[w][u]=0,a[m]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(l=f;l>=0;l--){for(var V=0;l>=0;){var P=!0;for(u=0;u<i;u++)$[u]=c[u][l]|0,$[u]!==0&&(P=!1);if(!P)break;V++,l--}if(l>=0&&V++,L=L.dblp(V),l<0)break;for(u=0;u<i;u++){var O=$[u];O!==0&&(O>0?h=a[u][O-1>>1]:O<0&&(h=a[u][-O-1>>1].neg()),h.type==="affine"?L=L.mixedAdd(h):L=L.add(h))}}for(l=0;l<i;l++)a[l]=null;return s?L:L.toP()};function Sa(t,e){this.curve=t,this.type=e,this.precomputed=null}Sh.BasePoint=Sa;Sa.prototype.eq=function(){throw new Error("Not implemented")};Sa.prototype.validate=function(){return this.curve.validate(this)};Sh.prototype.decodePoint=function(e,r){e=Po.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?h_(e[e.length-1]%2===0):e[0]===7&&h_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Sa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Sa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Sa.prototype.encode=function(e,r){return Po.encode(this._encode(r),e)};Sa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Sa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Sa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Sa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Sa.prototype._getBeta=function(){return null};Sa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var BC=kg(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),qwe=Po.assert;function Ra(t){b0.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}BC(Ra,b0);var Vwe=Ra;Ra.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],qwe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ra.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ra.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),f,l,u,h,g,m,w,N=0,I,C;n.cmpn(0)!==0;){var M=i.div(n);I=i.sub(M.mul(n)),C=a.sub(M.mul(s));var k=c.sub(M.mul(o));if(!u&&I.cmp(r)<0)f=w.neg(),l=s,u=I.neg(),h=C;else if(u&&++N===2)break;w=I,i=n,n=I,a=s,s=C,c=o,o=k}g=I.neg(),m=C;var L=u.sqr().add(h.sqr()),$=g.sqr().add(m.sqr());return $.cmp(L)>=0&&(g=f,m=l),u.negative&&(u=u.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:h},{a:g,b:m}]};Ra.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),f=s.mul(n.b),l=o.mul(i.b),u=e.sub(a).sub(c),h=f.add(l).neg();return{k1:u,k2:h}};Ra.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Ra.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ra.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],f=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=c,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),u=0;u<o*2;u++)i[u]=null,s[u]=null;return l};function Di(t,e,r,n){b0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}BC(Di,b0.BasePoint);Ra.prototype.point=function(e,r,n){return new Di(this,e,r,n)};Ra.prototype.pointFromJSON=function(e,r){return Di.fromJSON(this,e,r)};Di.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Di.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Di.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Di.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Di.prototype.isInfinity=function(){return this.inf};Di.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Di.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Di.prototype.getX=function(){return this.x.fromRed()};Di.prototype.getY=function(){return this.y.fromRed()};Di.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Di.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Di.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Di.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Di.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Di.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function es(t,e,r,n){b0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}BC(es,b0.BasePoint);Ra.prototype.jpoint=function(e,r,n){return new es(this,e,r,n)};es.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};es.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};es.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),f=o.redSub(a);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),u=l.redMul(c),h=i.redMul(l),g=f.redSqr().redIAdd(u).redISub(h).redISub(h),m=f.redMul(h.redISub(g)).redISub(o.redMul(u)),w=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,m,w)};es.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),l=f.redMul(a),u=n.redMul(f),h=c.redSqr().redIAdd(l).redISub(u).redISub(u),g=c.redMul(u.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(a);return this.curve.jpoint(h,g,m)};es.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,f=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),h=l.redSqr(),g=h.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),w=o.redMul(h),N=m.redSqr().redISub(w.redAdd(w)),I=w.redISub(N),C=m.redMul(I);C=C.redIAdd(C).redISub(g);var M=l.redMul(c);r+1<e&&(f=f.redMul(g)),o=N,c=M,l=C}return this.curve.jpoint(o,l.redMul(s),c)};es.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};es.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var w=u.redAdd(u).redIAdd(u),N=w.redSqr(),I=g.redIAdd(g);I=I.redIAdd(I),I=I.redIAdd(I),e=N.redISub(m).redISub(m),r=w.redMul(m.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};es.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(a).redISub(a);e=f;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var w=g.redIAdd(g);w=w.redIAdd(w);var N=w.redAdd(w);e=m.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var I=h.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=m.redMul(w.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};es.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(a),u=c.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=c.redMul(h).redISub(g),w=n.redAdd(n).redMul(i);return this.curve.jpoint(u,m,w)};es.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(f),u=r.redMul(l);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(c).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(l.redMul(f.redISub(l)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,m)};es.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};es.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};es.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};es.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};es.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var lw=kg(function(t,e){var r=e;r.base=b0,r.short=Vwe,r.mont=null,r.edwards=null}),uw=kg(function(t,e){var r=e,n=Po.assert;function i(a){a.type==="short"?this.curve=new lw.short(a):a.type==="edwards"?this.curve=new lw.edwards(a):this.curve=new lw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:We.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:We.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:We.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:We.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:We.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:We.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function uh(t){if(!(this instanceof uh))return new uh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=tf.toArray(t.entropy,t.entropyEnc||"hex"),r=tf.toArray(t.nonce,t.nonceEnc||"hex"),n=tf.toArray(t.pers,t.persEnc||"hex");$C(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var SW=uh;uh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};uh.prototype._hmac=function(){return new We.hmac(this.hash,this.K)};uh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};uh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=tf.toArray(e,r),n=tf.toArray(n,i),$C(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};uh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=tf.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,tf.encode(o,r)};var DR=Po.assert;function ds(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var GC=ds;ds.fromPublic=function(e,r,n){return r instanceof ds?r:new ds(e,{pub:r,pubEnc:n})};ds.fromPrivate=function(e,r,n){return r instanceof ds?r:new ds(e,{priv:r,privEnc:n})};ds.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ds.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ds.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ds.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ds.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?DR(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&DR(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ds.prototype.derive=function(e){return e.validate()||DR(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ds.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ds.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ds.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Kwe=Po.assert;function OA(t,e){if(t instanceof OA)return t;this._importDER(t,e)||(Kwe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var PA=OA;function Jwe(){this.place=0}function d2(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function mU(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}OA.prototype._importDER=function(e,r){e=Po.toArray(e,r);var n=new Jwe;if(e[n.place++]!==48)return!1;var i=d2(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=d2(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=d2(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function p2(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}OA.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=mU(r),n=mU(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];p2(i,r.length),i=i.concat(r),i.push(2),p2(i,n.length);var s=i.concat(n),o=[48];return p2(o,s.length),o=o.concat(s),Po.encode(o,e)};var Xwe=function(){throw new Error("unsupported")},md=Po.assert;function ba(t){if(!(this instanceof ba))return new ba(t);typeof t=="string"&&(md(Object.prototype.hasOwnProperty.call(uw,t),"Unknown curve "+t),t=uw[t]),t instanceof uw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ywe=ba;ba.prototype.keyPair=function(e){return new GC(this,e)};ba.prototype.keyFromPrivate=function(e,r){return GC.fromPrivate(this,e,r)};ba.prototype.keyFromPublic=function(e,r){return GC.fromPublic(this,e,r)};ba.prototype.genKeyPair=function(e){e||(e={});for(var r=new SW({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Xwe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ba.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ba.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){md(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),md(e.length>>>0===e.length);for(var s=0;s<e.length;s++)md((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),md(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);md(new te(c).eq(e),"Can not sign message");for(var f=new SW({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new te(1)),u=0;;u++){var h=i.k?i.k(u):new te(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var m=g.getX(),w=m.umod(this.n);if(w.cmpn(0)!==0){var N=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var I=(g.getY().isOdd()?1:0)|(m.cmp(w)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),I^=1),new PA({r:w,s:N,recoveryParam:I})}}}}}};ba.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new PA(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),f=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};ba.prototype.recoverPubKey=function(t,e,r,n){md((3&r)===r,"The recovery param is more than two bits"),e=new PA(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),u=i.sub(s).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(u,o,h)};ba.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new PA(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Zwe=kg(function(t,e){var r=e;r.version="6.6.1",r.utils=Po,r.rand=function(){throw new Error("unsupported")},r.curve=lw,r.curves=uw,r.ec=Ywe,r.eddsa=null}),Qwe=Zwe.ec;const eve="logger/5.8.0";let bU=!1,EU=!1;const hw={debug:1,default:2,info:2,warning:3,error:4,off:5};let yU=hw.default,g2=null;function tve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const wU=tve();var kR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(kR||(kR={}));var uc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(uc||(uc={}));const vU="0123456789abcdef";let UA=class kn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();hw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(yU>hw[n])&&console.log.apply(console,r)}debug(...e){this._log(kn.levels.DEBUG,e)}info(...e){this._log(kn.levels.INFO,e)}warn(...e){this._log(kn.levels.WARNING,e)}makeError(e,r,n){if(EU)return this.makeError("censored error",r,{});r||(r=kn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=vU[f[u]>>4],l+=vU[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case uc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case uc.CALL_EXCEPTION:case uc.INSUFFICIENT_FUNDS:case uc.MISSING_NEW:case uc.NONCE_EXPIRED:case uc.REPLACEMENT_UNDERPRICED:case uc.TRANSACTION_REPLACED:case uc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,kn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){wU&&this.throwError("platform missing String.prototype.normalize",kn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,kn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,kn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",kn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return g2||(g2=new kn(eve)),g2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),bU){if(!e)return;this.globalLogger().throwError("error censorship permanent",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}EU=!!e,bU=!!r}static setLogLevel(e){const r=hw[e.toLowerCase()];if(r==null){kn.globalLogger().warn("invalid log level - "+e);return}yU=r}static from(e){return new kn(e)}};UA.errors=uc;UA.levels=kR;const rve="bytes/5.8.0",pn=new UA(rve);function RW(t){return!!t.toHexString}function pb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return pb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function nve(t){return rh(t)&&!(t.length%2)||jC(t)}function _U(t){return typeof t=="number"&&t==t&&t%1===0}function jC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!_U(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!_U(r)||r<0||r>=256)return!1}return!0}function Is(t,e){if(e||(e={}),typeof t=="number"){pn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),pb(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),RW(t)&&(t=t.toHexString()),rh(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":pn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return pb(new Uint8Array(n))}return jC(t)?pb(new Uint8Array(t)):pn.throwArgumentError("invalid arrayify value","value",t)}function ive(t,e){t=Is(t),t.length>e&&pn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),pb(r)}function rh(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const m2="0123456789abcdef";function mo(t,e){if(e||(e={}),typeof t=="number"){pn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=m2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),RW(t))return t.toHexString();if(rh(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":pn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(jC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=m2[(i&240)>>4]+m2[i&15]}return r}return pn.throwArgumentError("invalid hexlify value","value",t)}function sve(t){if(typeof t!="string")t=mo(t);else if(!rh(t)||t.length%2)return null;return(t.length-2)/2}function Mp(t,e){for(typeof t!="string"?t=mo(t):rh(t)||pn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&pn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function TW(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(nve(t)){let r=Is(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=mo(r.slice(0,32)),e.s=mo(r.slice(32,64))):r.length===65?(e.r=mo(r.slice(0,32)),e.s=mo(r.slice(32,64)),e.v=r[64]):pn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:pn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=mo(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=ive(Is(e._vs),32);e._vs=mo(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&pn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=mo(i);e.s==null?e.s=o:e.s!==o&&pn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?pn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&pn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!rh(e.r)?pn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Mp(e.r,32),e.s==null||!rh(e.s)?pn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Mp(e.s,32);const r=Is(e.s);r[0]>=128&&pn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=mo(r);e._vs&&(rh(e._vs)||pn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Mp(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&pn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const ove="signing-key/5.8.0",LR=new UA(ove);let b2=null;function Df(){return b2||(b2=new Qwe("secp256k1")),b2}let Dp=class{constructor(e){ae(this,"curve","secp256k1"),ae(this,"privateKey",mo(e)),sve(this.privateKey)!==32&&LR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Df().keyFromPrivate(Is(this.privateKey));ae(this,"publicKey","0x"+r.getPublic(!1,"hex")),ae(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ae(this,"_isSigningKey",!0)}_addPoint(e){const r=Df().keyFromPublic(Is(this.publicKey)),n=Df().keyFromPublic(Is(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Df().keyFromPrivate(Is(this.privateKey)),n=Is(e);n.length!==32&&LR.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return TW({recoveryParam:i.recoveryParam,r:Mp("0x"+i.r.toString(16),32),s:Mp("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Df().keyFromPrivate(Is(this.privateKey)),n=Df().keyFromPublic(Is(CW(e)));return Mp("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function ave(t,e){const r=TW(e),n={r:Is(r.r),s:Is(r.s)};return"0x"+Df().recoverPubKey(Is(t),n,r.recoveryParam).encode("hex",!1)}function CW(t,e){const r=Is(t);if(r.length===32){const n=new Dp(r);return e?"0x"+Df().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?mo(r):"0x"+Df().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Df().keyFromPublic(r).getPublic(!0,"hex"):mo(r)}return LR.throwArgumentError("invalid public or private key","key","[REDACTED]")}const cve="transactions/5.8.0",fs=new ga(cve);var AU;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(AU||(AU={}));function zC(t){return t==="0x"?null:Xt(t)}function as(t){return t==="0x"?zwe:nl.from(t)}const fve=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],lve={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Ql(t){const e=CW(t);return Xt(dU(Ht(dU(e,1)),12))}function MA(t,e){return Ql(ave(rl(t),e))}function vo(t,e){const r=th(nl.from(t).toHexString());return r.length>32&&fs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function E2(t,e){return{address:Xt(t),storageKeys:(e||[]).map((r,n)=>(Gwe(r)!==32&&fs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Lg(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&fs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),E2(r[0],r[1])):E2(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return E2(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function OW(t){return Lg(t).map(e=>[e.address,e.storageKeys])}function PW(t,e){if(t.gasPrice!=null){const n=nl.from(t.gasPrice),i=nl.from(t.maxFeePerGas||0);n.eq(i)||fs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[vo(t.chainId||0,"chainId"),vo(t.nonce||0,"nonce"),vo(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vo(t.maxFeePerGas||0,"maxFeePerGas"),vo(t.gasLimit||0,"gasLimit"),t.to!=null?Xt(t.to):"0x",vo(t.value||0,"value"),t.data||"0x",OW(t.accessList||[])];if(e){const n=FC(e);r.push(vo(n.recoveryParam,"recoveryParam")),r.push(th(n.r)),r.push(th(n.s))}return xW(["0x02",lg(r)])}function UW(t,e){const r=[vo(t.chainId||0,"chainId"),vo(t.nonce||0,"nonce"),vo(t.gasPrice||0,"gasPrice"),vo(t.gasLimit||0,"gasLimit"),t.to!=null?Xt(t.to):"0x",vo(t.value||0,"value"),t.data||"0x",OW(t.accessList||[])];if(e){const n=FC(e);r.push(vo(n.recoveryParam,"recoveryParam")),r.push(th(n.r)),r.push(th(n.s))}return xW(["0x01",lg(r)])}function uve(t,e){Dz(t,lve);const r=[];fve.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=rl(tn(a,c)),o.length&&a.length!==o.length&&a.length>0&&fs.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=th(a),a.length>o.maxLength&&fs.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(tn(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&fs.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!NW(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(tn(n)),r.push("0x"),r.push("0x")),!e)return lg(r);const i=FC(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&fs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&fs.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(tn(s)),r.push(th(rl(i.r))),r.push(th(rl(i.s))),lg(r)}function NU(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&fs.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),uve(t,e);switch(t.type){case 1:return UW(t,e);case 2:return PW(t,e)}return fs.throwError(`unsupported transaction type: ${t.type}`,ga.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function MW(t,e,r){try{const n=as(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{fs.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Ud(e[1],32),t.s=Ud(e[2],32);try{const n=Ht(r(t));t.from=MA(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function hve(t){const e=CC(t.slice(1));e.length!==9&&e.length!==12&&fs.throwArgumentError("invalid component count for transaction type: 2","payload",tn(t));const r=as(e[2]),n=as(e[3]),i={type:2,chainId:as(e[0]).toNumber(),nonce:as(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:as(e[4]),to:zC(e[5]),value:as(e[6]),data:e[7],accessList:Lg(e[8])};return e.length===9||(i.hash=Ht(t),MW(i,e.slice(9),PW)),i}function dve(t){const e=CC(t.slice(1));e.length!==8&&e.length!==11&&fs.throwArgumentError("invalid component count for transaction type: 1","payload",tn(t));const r={type:1,chainId:as(e[0]).toNumber(),nonce:as(e[1]).toNumber(),gasPrice:as(e[2]),gasLimit:as(e[3]),to:zC(e[4]),value:as(e[5]),data:e[6],accessList:Lg(e[7])};return e.length===8||(r.hash=Ht(t),MW(r,e.slice(8),UW)),r}function pve(t){const e=CC(t);e.length!==9&&e.length!==6&&fs.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:as(e[0]).toNumber(),gasPrice:as(e[1]),gasLimit:as(e[2]),to:zC(e[3]),value:as(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=nl.from(e[6]).toNumber()}catch{return r}if(r.r=Ud(e[7],32),r.s=Ud(e[8],32),nl.from(r.r).isZero()&&nl.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(tn(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Ht(lg(i));try{r.from=MA(s,{r:tn(r.r),s:tn(r.s),recoveryParam:n})}catch{}r.hash=Ht(t)}return r.type=null,r}function gve(t){const e=rl(t);if(e[0]>127)return pve(e);switch(e[0]){case 1:return dve(e);case 2:return hve(e)}return fs.throwError(`unsupported transaction type: ${e[0]}`,ga.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const mve="contracts/5.7.0";var Yd=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const an=new ie(mve);function d_(t,e){return Yd(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&an.throwArgumentError("invalid address or ENS name","name",r);try{return Xt(r)}catch{}t||an.throwError("a provider or signer is needed to resolve ENS names",ie.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&an.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function dw(t,e,r){return Yd(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>dw(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield d_(t,e):r.type==="tuple"?yield dw(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>dw(t,n,r.arrayChildren))):Promise.reject(an.makeError("invalid value for array",ie.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function DA(t,e,r){return Yd(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=yi(r.pop())),an.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=on({override:d_(t.signer,n.from),signer:t.signer.getAddress()}).then(f=>Yd(this,void 0,void 0,function*(){return Xt(f.signer)!==f.override&&an.throwError("Contract with a Signer cannot override from",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=t.signer.getAddress():n.from&&(n.from=d_(t.provider,n.from));const i=yield on({args:dw(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:on(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=xe.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=xe.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=xe.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=xe.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=xe.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Lg(a.accessList)),o.gasLimit==null&&e.gas!=null){let f=21e3;const l=me(s);for(let u=0;u<l.length;u++)f+=4,l[u]&&(f+=64);o.gasLimit=xe.from(e.gas).add(f)}if(a.value){const f=xe.from(a.value);!f.isZero()&&!e.payable&&an.throwError("non-payable method cannot override value",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=f}a.customData&&(o.customData=yi(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(f=>n[f]!=null);return c.length&&an.throwError(`cannot override ${c.map(f=>JSON.stringify(f)).join(",")}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function bve(t,e){return function(...r){return DA(t,e,r)}}function Eve(t,e){const r=t.signer||t.provider;return function(...n){return Yd(this,void 0,void 0,function*(){r||an.throwError("estimate require a provider or signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield DA(t,e,n);return yield r.estimateGas(i)})}}function yve(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=su(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,f)=>t.interface.decodeEventLog(a.eventFragment,c,f),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function DW(t,e,r){const n=t.signer||t.provider;return function(...i){return Yd(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=yi(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield DA(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===ie.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function wve(t,e){return function(...r){return Yd(this,void 0,void 0,function*(){t.signer||an.throwError("sending a transaction requires a signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield DA(t,e,r),i=yield t.signer.sendTransaction(n);return yve(t,i),i})}}function xU(t,e,r){return e.constant?DW(t,e,r):wve(t,e)}function kW(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class RE{constructor(e,r){ae(this,"tag",e),ae(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class vve extends RE{constructor(){super("error",null)}}class IU extends RE{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&an.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(kW(s),s),ae(this,"address",e),ae(this,"interface",r),ae(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=wye(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class SU extends RE{constructor(e,r){super("*",{address:e}),ae(this,"address",e),ae(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class _ve{constructor(e,r,n){ae(this,"interface",Ki(new.target,"getInterface")(r)),n==null?(ae(this,"provider",null),ae(this,"signer",null)):Dg.isSigner(n)?(ae(this,"provider",n.provider||null),ae(this,"signer",n)):yy.isProvider(n)?(ae(this,"provider",n),ae(this,"signer",null)):an.throwArgumentError("invalid signer or provider","signerOrProvider",n),ae(this,"callStatic",{}),ae(this,"estimateGas",{}),ae(this,"functions",{}),ae(this,"populateTransaction",{}),ae(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ae(this.filters,a,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,f)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ae(this.filters,a,this.filters[c[0]]):an.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ae(this,"_runningEvents",{}),ae(this,"_wrappedEmits",{}),e==null&&an.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ae(this,"address",e),this.provider)ae(this,"resolvedAddress",d_(this.provider,e));else try{ae(this,"resolvedAddress",Promise.resolve(Xt(e)))}catch{an.throwError("provider is required to use ENS name as contract address",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){an.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ae(this,o,xU(this,a,!0)),this.functions[o]==null&&ae(this.functions,o,xU(this,a,!1)),this.callStatic[o]==null&&ae(this.callStatic,o,DW(this,a,!0)),this.populateTransaction[o]==null&&ae(this.populateTransaction,o,bve(this,a)),this.estimateGas[o]==null&&ae(this.estimateGas,o,Eve(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ae(this,o,this[c])}catch{}this.functions[o]==null&&ae(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ae(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ae(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ae(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return Vz(e)}static getInterface(e){return F9.isInterface(e)?e:new F9(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&an.throwError("contract not deployed",ie.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||an.throwError("sending a transactions require a signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=yi(e||{});return["from","to"].forEach(function(n){r[n]!=null&&an.throwError("cannot override "+n,ie.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new kC(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ae(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return SR.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new vve);if(e==="event")return this._normalizeRunningEvent(new RE("event",null));if(e==="*")return this._normalizeRunningEvent(new SU(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new IU(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new IU(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new RE(kW(r),r))}return this._normalizeRunningEvent(new SU(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=su(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||an.throwError("events require a provider or a signer with a provider",ie.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=yi(i.filter);return typeof r=="string"&&Pt(r,32)?(n!=null&&an.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class ap extends _ve{}const Ave="logger/5.8.0";let RU=!1,TU=!1;const pw={debug:1,default:2,info:2,warning:3,error:4,off:5};let CU=pw.default,y2=null;function Nve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const OU=Nve();var FR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(FR||(FR={}));var hc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(hc||(hc={}));const PU="0123456789abcdef";let WC=class Ln{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();pw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(CU>pw[n])&&console.log.apply(console,r)}debug(...e){this._log(Ln.levels.DEBUG,e)}info(...e){this._log(Ln.levels.INFO,e)}warn(...e){this._log(Ln.levels.WARNING,e)}makeError(e,r,n){if(TU)return this.makeError("censored error",r,{});r||(r=Ln.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=PU[f[u]>>4],l+=PU[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case hc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case hc.CALL_EXCEPTION:case hc.INSUFFICIENT_FUNDS:case hc.MISSING_NEW:case hc.NONCE_EXPIRED:case hc.REPLACEMENT_UNDERPRICED:case hc.TRANSACTION_REPLACED:case hc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ln.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){OU&&this.throwError("platform missing String.prototype.normalize",Ln.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:OU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ln.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ln.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ln.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ln.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ln.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ln.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ln.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return y2||(y2=new Ln(Ave)),y2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ln.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),RU){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ln.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}TU=!!e,RU=!!r}static setLogLevel(e){const r=pw[e.toLowerCase()];if(r==null){Ln.globalLogger().warn("invalid log level - "+e);return}CU=r}static from(e){return new Ln(e)}};WC.errors=hc;WC.levels=FR;const xve="bytes/5.8.0",w2=new WC(xve);function Ive(t){return!!t.toHexString}function gw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return gw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function UU(t){return typeof t=="number"&&t==t&&t%1===0}function Sve(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!UU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!UU(r)||r<0||r>=256)return!1}return!0}function MU(t,e){if(e||(e={}),typeof t=="number"){w2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),gw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ive(t)&&(t=t.toHexString()),Rve(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":w2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return gw(new Uint8Array(n))}return Sve(t)?gw(new Uint8Array(t)):w2.throwArgumentError("invalid arrayify value","value",t)}function Rve(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}let LW=class{constructor(e){ae(this,"alphabet",e),ae(this,"base",e.length),ae(this,"_alphabetMap",{}),ae(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=MU(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return MU(new Uint8Array(r.reverse()))}};new LW("abcdefghijklmnopqrstuvwxyz234567");const TE=new LW("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Tve="logger/5.8.0";let DU=!1,kU=!1;const mw={debug:1,default:2,info:2,warning:3,error:4,off:5};let LU=mw.default,v2=null;function Cve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const FU=Cve();var $R;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})($R||($R={}));var dc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(dc||(dc={}));const $U="0123456789abcdef";let Hf=class Fn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();mw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(LU>mw[n])&&console.log.apply(console,r)}debug(...e){this._log(Fn.levels.DEBUG,e)}info(...e){this._log(Fn.levels.INFO,e)}warn(...e){this._log(Fn.levels.WARNING,e)}makeError(e,r,n){if(kU)return this.makeError("censored error",r,{});r||(r=Fn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=$U[f[u]>>4],l+=$U[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case dc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case dc.CALL_EXCEPTION:case dc.INSUFFICIENT_FUNDS:case dc.MISSING_NEW:case dc.NONCE_EXPIRED:case dc.REPLACEMENT_UNDERPRICED:case dc.TRANSACTION_REPLACED:case dc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Fn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){FU&&this.throwError("platform missing String.prototype.normalize",Fn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:FU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Fn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Fn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Fn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Fn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Fn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Fn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Fn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return v2||(v2=new Fn(Tve)),v2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Fn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),DU){if(!e)return;this.globalLogger().throwError("error censorship permanent",Fn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}kU=!!e,DU=!!r}static setLogLevel(e){const r=mw[e.toLowerCase()];if(r==null){Fn.globalLogger().warn("invalid log level - "+e);return}LU=r}static from(e){return new Fn(e)}};Hf.errors=dc;Hf.levels=$R;const Ove="bytes/5.8.0",eu=new Hf(Ove);function FW(t){return!!t.toHexString}function gb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return gb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function BU(t){return typeof t=="number"&&t==t&&t%1===0}function HC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!BU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!BU(r)||r<0||r>=256)return!1}return!0}function Bf(t,e){if(e||(e={}),typeof t=="number"){eu.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),gb(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),FW(t)&&(t=t.toHexString()),ug(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":eu.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return gb(new Uint8Array(n))}return HC(t)?gb(new Uint8Array(t)):eu.throwArgumentError("invalid arrayify value","value",t)}function BR(t){const e=t.map(i=>Bf(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),gb(n)}function ug(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const _2="0123456789abcdef";function Ns(t,e){if(e||(e={}),typeof t=="number"){eu.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=_2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),FW(t))return t.toHexString();if(ug(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":eu.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(HC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=_2[(i&240)>>4]+_2[i&15]}return r}return eu.throwArgumentError("invalid hexlify value","value",t)}function $W(t,e,r){return typeof t!="string"?t=Ns(t):(!ug(t)||t.length%2)&&eu.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function BW(t,e){for(typeof t!="string"?t=Ns(t):ug(t)||eu.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&eu.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const Pve="bignumber/5.8.0";var GR=te.BN;const Ll=new Hf(Pve),A2={},GU=9007199254740991;let jU=!1,kA=class Ya{constructor(e,r){e!==A2&&Ll.throwError("cannot call constructor directly; use BigNumber.from",Hf.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ks(It(this).fromTwos(e))}toTwos(e){return Ks(It(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ya.from(this._hex.substring(1)):this}add(e){return Ks(It(this).add(It(e)))}sub(e){return Ks(It(this).sub(It(e)))}div(e){return Ya.from(e).isZero()&&Yo("division-by-zero","div"),Ks(It(this).div(It(e)))}mul(e){return Ks(It(this).mul(It(e)))}mod(e){const r=It(e);return r.isNeg()&&Yo("division-by-zero","mod"),Ks(It(this).umod(r))}pow(e){const r=It(e);return r.isNeg()&&Yo("negative-power","pow"),Ks(It(this).pow(r))}and(e){const r=It(e);return(this.isNegative()||r.isNeg())&&Yo("unbound-bitwise-result","and"),Ks(It(this).and(r))}or(e){const r=It(e);return(this.isNegative()||r.isNeg())&&Yo("unbound-bitwise-result","or"),Ks(It(this).or(r))}xor(e){const r=It(e);return(this.isNegative()||r.isNeg())&&Yo("unbound-bitwise-result","xor"),Ks(It(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Yo("negative-width","mask"),Ks(It(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Yo("negative-width","shl"),Ks(It(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Yo("negative-width","shr"),Ks(It(this).shrn(e))}eq(e){return It(this).eq(It(e))}lt(e){return It(this).lt(It(e))}lte(e){return It(this).lte(It(e))}gt(e){return It(this).gt(It(e))}gte(e){return It(this).gte(It(e))}isNegative(){return this._hex[0]==="-"}isZero(){return It(this).isZero()}toNumber(){try{return It(this).toNumber()}catch{Yo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ll.throwError("this platform does not support BigInt",Hf.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?jU||(jU=!0,Ll.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ll.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Hf.errors.UNEXPECTED_ARGUMENT,{}):Ll.throwError("BigNumber.toString does not accept parameters",Hf.errors.UNEXPECTED_ARGUMENT,{})),It(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ya)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ya(A2,CE(e)):e.match(/^-?[0-9]+$/)?new Ya(A2,CE(new GR(e))):Ll.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Yo("underflow","BigNumber.from",e),(e>=GU||e<=-GU)&&Yo("overflow","BigNumber.from",e),Ya.from(String(e));const r=e;if(typeof r=="bigint")return Ya.from(r.toString());if(HC(r))return Ya.from(Ns(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ya.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ug(n)||n[0]==="-"&&ug(n.substring(1))))return Ya.from(n)}return Ll.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function CE(t){if(typeof t!="string")return CE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ll.throwArgumentError("invalid hex","value",t),t=CE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ks(t){return kA.from(CE(t))}function It(t){const e=kA.from(t).toHexString();return e[0]==="-"?new GR("-"+e.substring(3),16):new GR(e.substring(2),16)}function Yo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ll.throwError(t,Hf.errors.NUMERIC_FAULT,n)}const Uve="logger/5.8.0";let zU=!1,WU=!1;const bw={debug:1,default:2,info:2,warning:3,error:4,off:5};let HU=bw.default,N2=null;function Mve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const qU=Mve();var jR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(jR||(jR={}));var pc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(pc||(pc={}));const VU="0123456789abcdef";let qC=class $n{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();bw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(HU>bw[n])&&console.log.apply(console,r)}debug(...e){this._log($n.levels.DEBUG,e)}info(...e){this._log($n.levels.INFO,e)}warn(...e){this._log($n.levels.WARNING,e)}makeError(e,r,n){if(WU)return this.makeError("censored error",r,{});r||(r=$n.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=VU[f[u]>>4],l+=VU[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case pc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case pc.CALL_EXCEPTION:case pc.INSUFFICIENT_FUNDS:case pc.MISSING_NEW:case pc.NONCE_EXPIRED:case pc.REPLACEMENT_UNDERPRICED:case pc.TRANSACTION_REPLACED:case pc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,$n.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){qU&&this.throwError("platform missing String.prototype.normalize",$n.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,$n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,$n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,$n.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,$n.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",$n.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",$n.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",$n.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return N2||(N2=new $n(Uve)),N2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",$n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zU){if(!e)return;this.globalLogger().throwError("error censorship permanent",$n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}WU=!!e,zU=!!r}static setLogLevel(e){const r=bw[e.toLowerCase()];if(r==null){$n.globalLogger().warn("invalid log level - "+e);return}HU=r}static from(e){return new $n(e)}};qC.errors=pc;qC.levels=jR;const Dve="bytes/5.8.0",kp=new qC(Dve);function GW(t){return!!t.toHexString}function Ew(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ew(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function KU(t){return typeof t=="number"&&t==t&&t%1===0}function jW(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!KU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!KU(r)||r<0||r>=256)return!1}return!0}function pm(t,e){if(e||(e={}),typeof t=="number"){kp.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ew(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),GW(t)&&(t=t.toHexString()),zW(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":kp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ew(new Uint8Array(n))}return jW(t)?Ew(new Uint8Array(t)):kp.throwArgumentError("invalid arrayify value","value",t)}function zW(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const x2="0123456789abcdef";function kve(t,e){if(e||(e={}),typeof t=="number"){kp.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=x2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),GW(t))return t.toHexString();if(zW(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":kp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(jW(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=x2[(i&240)>>4]+x2[i&15]}return r}return kp.throwArgumentError("invalid hexlify value","value",t)}const Lve="logger/5.8.0";let JU=!1,XU=!1;const yw={debug:1,default:2,info:2,warning:3,error:4,off:5};let YU=yw.default,I2=null;function Fve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const ZU=Fve();var zR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(zR||(zR={}));var gc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(gc||(gc={}));const QU="0123456789abcdef";let vy=class Bn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();yw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(YU>yw[n])&&console.log.apply(console,r)}debug(...e){this._log(Bn.levels.DEBUG,e)}info(...e){this._log(Bn.levels.INFO,e)}warn(...e){this._log(Bn.levels.WARNING,e)}makeError(e,r,n){if(XU)return this.makeError("censored error",r,{});r||(r=Bn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=QU[f[u]>>4],l+=QU[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case gc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case gc.CALL_EXCEPTION:case gc.INSUFFICIENT_FUNDS:case gc.MISSING_NEW:case gc.NONCE_EXPIRED:case gc.REPLACEMENT_UNDERPRICED:case gc.TRANSACTION_REPLACED:case gc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Bn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){ZU&&this.throwError("platform missing String.prototype.normalize",Bn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ZU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Bn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Bn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Bn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return I2||(I2=new Bn(Lve)),I2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),JU){if(!e)return;this.globalLogger().throwError("error censorship permanent",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}XU=!!e,JU=!!r}static setLogLevel(e){const r=yw[e.toLowerCase()];if(r==null){Bn.globalLogger().warn("invalid log level - "+e);return}YU=r}static from(e){return new Bn(e)}};vy.errors=gc;vy.levels=zR;const $ve="bytes/5.8.0",S2=new vy($ve);function Bve(t){return!!t.toHexString}function ww(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ww(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function eM(t){return typeof t=="number"&&t==t&&t%1===0}function Gve(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!eM(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!eM(r)||r<0||r>=256)return!1}return!0}function p_(t,e){if(e||(e={}),typeof t=="number"){S2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),ww(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Bve(t)&&(t=t.toHexString()),jve(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":S2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return ww(new Uint8Array(n))}return Gve(t)?ww(new Uint8Array(t)):S2.throwArgumentError("invalid arrayify value","value",t)}function jve(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var OE;(function(t){t.sha256="sha256",t.sha512="sha512"})(OE||(OE={}));const zve="sha2/5.8.0",Wve=new vy(zve);function Hve(t){return"0x"+We.ripemd160().update(p_(t)).digest("hex")}function hh(t){return"0x"+We.sha256().update(p_(t)).digest("hex")}function g_(t,e,r){return OE[t]||Wve.throwError("unsupported algorithm "+t,vy.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+We.hmac(We[t],p_(e)).update(p_(r)).digest("hex")}function _y(t,e,r,n,i){t=pm(t),e=pm(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,l;for(let u=1;u<=o;u++){c[e.length]=u>>24&255,c[e.length+1]=u>>16&255,c[e.length+2]=u>>8&255,c[e.length+3]=u&255;let h=pm(g_(i,t,c));s||(s=h.length,l=new Uint8Array(s),o=Math.ceil(n/s),f=n-(o-1)*s),l.set(h);for(let w=1;w<r;w++){h=pm(g_(i,t,h));for(let N=0;N<s;N++)l[N]^=h[N]}const g=(u-1)*s,m=u===o?f:s;a.set(pm(l).slice(0,m),g)}return kve(a)}const qve="logger/5.8.0";let tM=!1,rM=!1;const vw={debug:1,default:2,info:2,warning:3,error:4,off:5};let nM=vw.default,R2=null;function Vve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const iM=Vve();var WR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(WR||(WR={}));var mc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(mc||(mc={}));const sM="0123456789abcdef";let VC=class Gn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();vw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(nM>vw[n])&&console.log.apply(console,r)}debug(...e){this._log(Gn.levels.DEBUG,e)}info(...e){this._log(Gn.levels.INFO,e)}warn(...e){this._log(Gn.levels.WARNING,e)}makeError(e,r,n){if(rM)return this.makeError("censored error",r,{});r||(r=Gn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=sM[f[u]>>4],l+=sM[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case mc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case mc.CALL_EXCEPTION:case mc.INSUFFICIENT_FUNDS:case mc.MISSING_NEW:case mc.NONCE_EXPIRED:case mc.REPLACEMENT_UNDERPRICED:case mc.TRANSACTION_REPLACED:case mc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Gn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){iM&&this.throwError("platform missing String.prototype.normalize",Gn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:iM})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Gn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Gn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Gn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Gn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Gn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Gn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Gn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return R2||(R2=new Gn(qve)),R2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Gn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),tM){if(!e)return;this.globalLogger().throwError("error censorship permanent",Gn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rM=!!e,tM=!!r}static setLogLevel(e){const r=vw[e.toLowerCase()];if(r==null){Gn.globalLogger().warn("invalid log level - "+e);return}nM=r}static from(e){return new Gn(e)}};VC.errors=mc;VC.levels=WR;const Kve="wordlists/5.8.0",Jve=new VC(Kve);let KC=class WW{constructor(e){Jve.checkAbstract(new.target,WW),ae(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Zc(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}};const Xve="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let mb=null;function oM(t){if(mb==null&&(mb=Xve.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),KC.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw mb=null,new Error("BIP39 Wordlist for en (English) FAILED")}let Yve=class extends KC{constructor(){super("en")}getWord(e){return oM(this),mb[e]}getWordIndex(e){return oM(this),mb.indexOf(e)}};const HW=new Yve;KC.register(HW);const aM={en:HW},Zve="hdnode/5.8.0",m_=new Hf(Zve),Qve=kA.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),e_e=nn("Bitcoin seed"),gm=2147483648;function qW(t){return(1<<t)-1<<8-t}function t_e(t){return(1<<t)-1}function f1(t){return BW(Ns(t),32)}function cM(t){return TE.encode(BR([t,$W(hh(hh(t)),0,4)]))}function JC(t){if(t==null)return aM.en;if(typeof t=="string"){const e=aM[t];return e==null&&m_.throwArgumentError("unknown locale","wordlist",t),e}return t}const z0={},dh="m/44'/60'/0'/0/0";let hg=class Pu{constructor(e,r,n,i,s,o,a,c){if(e!==z0)throw new Error("HDNode constructor cannot be called directly");if(r){const f=new Dp(r);ae(this,"privateKey",f.privateKey),ae(this,"publicKey",f.compressedPublicKey)}else ae(this,"privateKey",null),ae(this,"publicKey",Ns(n));ae(this,"parentFingerprint",i),ae(this,"fingerprint",$W(Hve(hh(this.publicKey)),0,4)),ae(this,"address",Ql(this.publicKey)),ae(this,"chainCode",s),ae(this,"index",o),ae(this,"depth",a),c==null?(ae(this,"mnemonic",null),ae(this,"path",null)):typeof c=="string"?(ae(this,"mnemonic",null),ae(this,"path",c)):(ae(this,"mnemonic",c),ae(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return cM(BR([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Ns(this.depth),this.parentFingerprint,BW(Ns(this.index),4),this.chainCode,this.privateKey!=null?BR(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Pu(z0,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~gm));const n=new Uint8Array(37);if(e&gm){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Bf(this.privateKey),1),r&&(r+="'")}else n.set(Bf(this.publicKey));for(let u=24;u>=0;u-=8)n[33+(u>>3)]=e>>24-u&255;const i=Bf(g_(OE.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=f1(kA.from(s).add(this.privateKey).mod(Qve)):c=new Dp(Ns(s))._addPoint(this.publicKey);let f=r;const l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new Pu(z0,a,c,this.fingerprint,f1(o),e,this.depth+1,f)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=gm)throw new Error("invalid path index - "+s);n=n._derive(gm+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=gm)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=Bf(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Bf(g_(OE.sha512,e_e,n));return new Pu(z0,f1(i.slice(0,32)),null,"0x00000000",f1(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=JC(n),e=LA(XC(e,n),n),Pu._fromSeed(r_e(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Pu._fromSeed(e,null)}static fromExtendedKey(e){const r=TE.decode(e);(r.length!==82||cM(r.slice(0,78))!==e)&&m_.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=Ns(r.slice(5,9)),s=parseInt(Ns(r.slice(9,13)).substring(2),16),o=Ns(r.slice(13,45)),a=r.slice(45,78);switch(Ns(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Pu(z0,null,Ns(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Pu(z0,Ns(a.slice(1)),null,i,o,s,n,null)}return m_.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function r_e(t,e){e||(e="");const r=nn("mnemonic"+e,ou.NFKD);return _y(nn(t,ou.NFKD),r,2048,64,"sha512")}function XC(t,e){e=JC(e),m_.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Bf(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let f=0;f<r.length;f++){let l=e.getWordIndex(r[f].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let u=0;u<11;u++)l&1<<10-u&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=qW(o);if((Bf(hh(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return Ns(n.slice(0,s/8))}function LA(t,e){if(e=JC(e),t=Bf(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&t_e(8-n)),n+=3);const i=t.length/4,s=Bf(hh(t))[0]&qW(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}const n_e="logger/5.8.0";let fM=!1,lM=!1;const _w={debug:1,default:2,info:2,warning:3,error:4,off:5};let uM=_w.default,T2=null;function i_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const hM=i_e();var HR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(HR||(HR={}));var bc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(bc||(bc={}));const dM="0123456789abcdef";let Ay=class jn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();_w[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(uM>_w[n])&&console.log.apply(console,r)}debug(...e){this._log(jn.levels.DEBUG,e)}info(...e){this._log(jn.levels.INFO,e)}warn(...e){this._log(jn.levels.WARNING,e)}makeError(e,r,n){if(lM)return this.makeError("censored error",r,{});r||(r=jn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=dM[f[u]>>4],l+=dM[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case bc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case bc.CALL_EXCEPTION:case bc.INSUFFICIENT_FUNDS:case bc.MISSING_NEW:case bc.NONCE_EXPIRED:case bc.REPLACEMENT_UNDERPRICED:case bc.TRANSACTION_REPLACED:case bc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,jn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){hM&&this.throwError("platform missing String.prototype.normalize",jn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:hM})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,jn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,jn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,jn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,jn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",jn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",jn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",jn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return T2||(T2=new jn(n_e)),T2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",jn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fM){if(!e)return;this.globalLogger().throwError("error censorship permanent",jn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}lM=!!e,fM=!!r}static setLogLevel(e){const r=_w[e.toLowerCase()];if(r==null){jn.globalLogger().warn("invalid log level - "+e);return}uM=r}static from(e){return new jn(e)}};Ay.errors=bc;Ay.levels=HR;const s_e="bytes/5.8.0",C2=new Ay(s_e);function o_e(t){return!!t.toHexString}function Aw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Aw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function pM(t){return typeof t=="number"&&t==t&&t%1===0}function a_e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!pM(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!pM(r)||r<0||r>=256)return!1}return!0}function c_e(t,e){if(e||(e={}),typeof t=="number"){C2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Aw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),o_e(t)&&(t=t.toHexString()),f_e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":C2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Aw(new Uint8Array(n))}return a_e(t)?Aw(new Uint8Array(t)):C2.throwArgumentError("invalid arrayify value","value",t)}function f_e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const l_e="random/5.8.0",qR=new Ay(l_e);function u_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const gM=u_e();let Nw=gM.crypto||gM.msCrypto;(!Nw||!Nw.getRandomValues)&&(qR.warn("WARNING: Missing strong random number source"),Nw={getRandomValues:function(t){return qR.throwError("no secure random source avaialble",Ay.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ql(t){(t<=0||t>1024||t%1||t!=t)&&qR.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Nw.getRandomValues(e),c_e(e)}var VW={exports:{}};(function(t,e){(function(r){function n(A){return parseInt(A)===A}function i(A){if(!n(A.length))return!1;for(var _=0;_<A.length;_++)if(!n(A[_])||A[_]<0||A[_]>255)return!1;return!0}function s(A,_){if(A.buffer&&ArrayBuffer.isView(A)&&A.name==="Uint8Array")return _&&(A.slice?A=A.slice():A=Array.prototype.slice.call(A)),A;if(Array.isArray(A)){if(!i(A))throw new Error("Array contains invalid value: "+A);return new Uint8Array(A)}if(n(A.length)&&i(A))return new Uint8Array(A);throw new Error("unsupported array-like object")}function o(A){return new Uint8Array(A)}function a(A,_,D,G,T){(G!=null||T!=null)&&(A.slice?A=A.slice(G,T):A=Array.prototype.slice.call(A,G,T)),_.set(A,D)}var c=function(){function A(D){var G=[],T=0;for(D=encodeURI(D);T<D.length;){var z=D.charCodeAt(T++);z===37?(G.push(parseInt(D.substr(T,2),16)),T+=2):G.push(z)}return s(G)}function _(D){for(var G=[],T=0;T<D.length;){var z=D[T];z<128?(G.push(String.fromCharCode(z)),T++):z>191&&z<224?(G.push(String.fromCharCode((z&31)<<6|D[T+1]&63)),T+=2):(G.push(String.fromCharCode((z&15)<<12|(D[T+1]&63)<<6|D[T+2]&63)),T+=3)}return G.join("")}return{toBytes:A,fromBytes:_}}(),f=function(){function A(G){for(var T=[],z=0;z<G.length;z+=2)T.push(parseInt(G.substr(z,2),16));return T}var _="0123456789abcdef";function D(G){for(var T=[],z=0;z<G.length;z++){var j=G[z];T.push(_[(j&240)>>4]+_[j&15])}return T.join("")}return{toBytes:A,fromBytes:D}}(),l={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],w=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],N=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],I=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],C=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],M=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],k=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],L=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],$=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],P=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],O=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function F(A){for(var _=[],D=0;D<A.length;D+=4)_.push(A[D]<<24|A[D+1]<<16|A[D+2]<<8|A[D+3]);return _}var U=function(A){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(A,!0)}),this._prepare()};U.prototype._prepare=function(){var A=l[this.key.length];if(A==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var _=0;_<=A;_++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var D=(A+1)*4,G=this.key.length/4,T=F(this.key),z,_=0;_<G;_++)z=_>>2,this._Ke[z][_%4]=T[_],this._Kd[A-z][_%4]=T[_];for(var j=0,X=G,Y;X<D;){if(Y=T[G-1],T[0]^=h[Y>>16&255]<<24^h[Y>>8&255]<<16^h[Y&255]<<8^h[Y>>24&255]^u[j]<<24,j+=1,G!=8)for(var _=1;_<G;_++)T[_]^=T[_-1];else{for(var _=1;_<G/2;_++)T[_]^=T[_-1];Y=T[G/2-1],T[G/2]^=h[Y&255]^h[Y>>8&255]<<8^h[Y>>16&255]<<16^h[Y>>24&255]<<24;for(var _=G/2+1;_<G;_++)T[_]^=T[_-1]}for(var _=0,ne,ce;_<G&&X<D;)ne=X>>2,ce=X%4,this._Ke[ne][ce]=T[_],this._Kd[A-ne][ce]=T[_++],X++}for(var ne=1;ne<A;ne++)for(var ce=0;ce<4;ce++)Y=this._Kd[ne][ce],this._Kd[ne][ce]=$[Y>>24&255]^V[Y>>16&255]^P[Y>>8&255]^O[Y&255]},U.prototype.encrypt=function(A){if(A.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var _=this._Ke.length-1,D=[0,0,0,0],G=F(A),T=0;T<4;T++)G[T]^=this._Ke[0][T];for(var z=1;z<_;z++){for(var T=0;T<4;T++)D[T]=m[G[T]>>24&255]^w[G[(T+1)%4]>>16&255]^N[G[(T+2)%4]>>8&255]^I[G[(T+3)%4]&255]^this._Ke[z][T];G=D.slice()}for(var j=o(16),X,T=0;T<4;T++)X=this._Ke[_][T],j[4*T]=(h[G[T]>>24&255]^X>>24)&255,j[4*T+1]=(h[G[(T+1)%4]>>16&255]^X>>16)&255,j[4*T+2]=(h[G[(T+2)%4]>>8&255]^X>>8)&255,j[4*T+3]=(h[G[(T+3)%4]&255]^X)&255;return j},U.prototype.decrypt=function(A){if(A.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var _=this._Kd.length-1,D=[0,0,0,0],G=F(A),T=0;T<4;T++)G[T]^=this._Kd[0][T];for(var z=1;z<_;z++){for(var T=0;T<4;T++)D[T]=C[G[T]>>24&255]^M[G[(T+3)%4]>>16&255]^k[G[(T+2)%4]>>8&255]^L[G[(T+1)%4]&255]^this._Kd[z][T];G=D.slice()}for(var j=o(16),X,T=0;T<4;T++)X=this._Kd[_][T],j[4*T]=(g[G[T]>>24&255]^X>>24)&255,j[4*T+1]=(g[G[(T+3)%4]>>16&255]^X>>16)&255,j[4*T+2]=(g[G[(T+2)%4]>>8&255]^X>>8)&255,j[4*T+3]=(g[G[(T+1)%4]&255]^X)&255;return j};var b=function(A){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new U(A)};b.prototype.encrypt=function(A){if(A=s(A),A.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=o(A.length),D=o(16),G=0;G<A.length;G+=16)a(A,D,0,G,G+16),D=this._aes.encrypt(D),a(D,_,G);return _},b.prototype.decrypt=function(A){if(A=s(A),A.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=o(A.length),D=o(16),G=0;G<A.length;G+=16)a(A,D,0,G,G+16),D=this._aes.decrypt(D),a(D,_,G);return _};var y=function(A,_){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!_)_=o(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(_,!0),this._aes=new U(A)};y.prototype.encrypt=function(A){if(A=s(A),A.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=o(A.length),D=o(16),G=0;G<A.length;G+=16){a(A,D,0,G,G+16);for(var T=0;T<16;T++)D[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(D),a(this._lastCipherblock,_,G)}return _},y.prototype.decrypt=function(A){if(A=s(A),A.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=o(A.length),D=o(16),G=0;G<A.length;G+=16){a(A,D,0,G,G+16),D=this._aes.decrypt(D);for(var T=0;T<16;T++)_[G+T]=D[T]^this._lastCipherblock[T];a(A,this._lastCipherblock,0,G,G+16)}return _};var d=function(A,_,D){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!_)_=o(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");D||(D=1),this.segmentSize=D,this._shiftRegister=s(_,!0),this._aes=new U(A)};d.prototype.encrypt=function(A){if(A.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var _=s(A,!0),D,G=0;G<_.length;G+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)_[G+T]^=D[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(_,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return _},d.prototype.decrypt=function(A){if(A.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var _=s(A,!0),D,G=0;G<_.length;G+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)_[G+T]^=D[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(A,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return _};var p=function(A,_){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!_)_=o(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(_,!0),this._lastPrecipherIndex=16,this._aes=new U(A)};p.prototype.encrypt=function(A){for(var _=s(A,!0),D=0;D<_.length;D++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),_[D]^=this._lastPrecipher[this._lastPrecipherIndex++];return _},p.prototype.decrypt=p.prototype.encrypt;var E=function(A){if(!(this instanceof E))throw Error("Counter must be instanitated with `new`");A!==0&&!A&&(A=1),typeof A=="number"?(this._counter=o(16),this.setValue(A)):this.setBytes(A)};E.prototype.setValue=function(A){if(typeof A!="number"||parseInt(A)!=A)throw new Error("invalid counter value (must be an integer)");for(var _=15;_>=0;--_)this._counter[_]=A%256,A=A>>8},E.prototype.setBytes=function(A){if(A=s(A,!0),A.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=A},E.prototype.increment=function(){for(var A=15;A>=0;A--)if(this._counter[A]===255)this._counter[A]=0;else{this._counter[A]++;break}};var x=function(A,_){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",_ instanceof E||(_=new E(_)),this._counter=_,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new U(A)};x.prototype.encrypt=function(A){for(var _=s(A,!0),D=0;D<_.length;D++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),_[D]^=this._remainingCounter[this._remainingCounterIndex++];return _},x.prototype.decrypt=x.prototype.encrypt;function R(A){A=s(A,!0);var _=16-A.length%16,D=o(A.length+_);a(A,D);for(var G=A.length;G<D.length;G++)D[G]=_;return D}function S(A){if(A=s(A,!0),A.length<16)throw new Error("PKCS#7 invalid length");var _=A[A.length-1];if(_>16)throw new Error("PKCS#7 padding byte out of range");for(var D=A.length-_,G=0;G<_;G++)if(A[D+G]!==_)throw new Error("PKCS#7 invalid padding byte");var T=o(D);return a(A,T,0,0,D),T}var v={AES:U,Counter:E,ModeOfOperation:{ecb:b,cbc:y,cfb:d,ofb:p,ctr:x},utils:{hex:f,utf8:c},padding:{pkcs7:{pad:R,strip:S}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=v})()})(VW);var h_e=VW.exports;const _n=va(h_e),d_e="logger/5.8.0";let mM=!1,bM=!1;const xw={debug:1,default:2,info:2,warning:3,error:4,off:5};let EM=xw.default,O2=null;function p_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const yM=p_e();var VR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(VR||(VR={}));var Ec;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ec||(Ec={}));const wM="0123456789abcdef";let Zd=class zn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(EM>xw[n])&&console.log.apply(console,r)}debug(...e){this._log(zn.levels.DEBUG,e)}info(...e){this._log(zn.levels.INFO,e)}warn(...e){this._log(zn.levels.WARNING,e)}makeError(e,r,n){if(bM)return this.makeError("censored error",r,{});r||(r=zn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=wM[f[u]>>4],l+=wM[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ec.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ec.CALL_EXCEPTION:case Ec.INSUFFICIENT_FUNDS:case Ec.MISSING_NEW:case Ec.NONCE_EXPIRED:case Ec.REPLACEMENT_UNDERPRICED:case Ec.TRANSACTION_REPLACED:case Ec.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,zn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){yM&&this.throwError("platform missing String.prototype.normalize",zn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:yM})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,zn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,zn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,zn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,zn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",zn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",zn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",zn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return O2||(O2=new zn(d_e)),O2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",zn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),mM){if(!e)return;this.globalLogger().throwError("error censorship permanent",zn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}bM=!!e,mM=!!r}static setLogLevel(e){const r=xw[e.toLowerCase()];if(r==null){zn.globalLogger().warn("invalid log level - "+e);return}EM=r}static from(e){return new zn(e)}};Zd.errors=Ec;Zd.levels=VR;const g_e="bytes/5.8.0",Lp=new Zd(g_e);function KW(t){return!!t.toHexString}function bb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return bb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function vM(t){return typeof t=="number"&&t==t&&t%1===0}function JW(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!vM(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!vM(r)||r<0||r>=256)return!1}return!0}function Wi(t,e){if(e||(e={}),typeof t=="number"){Lp.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),bb(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KW(t)&&(t=t.toHexString()),YW(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Lp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return bb(new Uint8Array(n))}return JW(t)?bb(new Uint8Array(t)):Lp.throwArgumentError("invalid arrayify value","value",t)}function XW(t){const e=t.map(i=>Wi(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),bb(n)}function YW(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const P2="0123456789abcdef";function ju(t,e){if(e||(e={}),typeof t=="number"){Lp.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=P2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KW(t))return t.toHexString();if(YW(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Lp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(JW(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=P2[(i&240)>>4]+P2[i&15]}return r}return Lp.throwArgumentError("invalid hexlify value","value",t)}const ZW="json-wallets/5.8.0";function Md(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Wi(t)}function mm(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function YC(t){return typeof t=="string"?nn(t,ou.NFKC):Wi(t)}function cn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function m_e(t){const e=Wi(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ju(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const b_e=new Zd(ZW);let E_e=class extends Oo{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function QW(t,e){const r=JSON.parse(t);e=YC(e);const n=Xt(cn(r,"ethaddr")),i=Md(cn(r,"encseed"));(!i||i.length%16!==0)&&b_e.throwArgumentError("invalid encseed","json",t);const s=Wi(_y(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new _n.ModeOfOperation.cbc(s,o),f=_n.padding.pkcs7.strip(Wi(c.decrypt(a)));let l="";for(let g=0;g<f.length;g++)l+=String.fromCharCode(f[g]);const u=nn(l),h=Ht(u);return new E_e({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function eH(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function tH(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var rH={exports:{}};(function(t,e){(function(r){function i(w){const N=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let I=1779033703,C=3144134277,M=1013904242,k=2773480762,L=1359893119,$=2600822924,V=528734635,P=1541459225;const O=new Uint32Array(64);function F(x){let R=0,S=x.length;for(;S>=64;){let v=I,A=C,_=M,D=k,G=L,T=$,z=V,j=P,X,Y,ne,ce,le;for(Y=0;Y<16;Y++)ne=R+Y*4,O[Y]=(x[ne]&255)<<24|(x[ne+1]&255)<<16|(x[ne+2]&255)<<8|x[ne+3]&255;for(Y=16;Y<64;Y++)X=O[Y-2],ce=(X>>>17|X<<32-17)^(X>>>19|X<<32-19)^X>>>10,X=O[Y-15],le=(X>>>7|X<<32-7)^(X>>>18|X<<32-18)^X>>>3,O[Y]=(ce+O[Y-7]|0)+(le+O[Y-16]|0)|0;for(Y=0;Y<64;Y++)ce=(((G>>>6|G<<32-6)^(G>>>11|G<<32-11)^(G>>>25|G<<32-25))+(G&T^~G&z)|0)+(j+(N[Y]+O[Y]|0)|0)|0,le=((v>>>2|v<<32-2)^(v>>>13|v<<32-13)^(v>>>22|v<<32-22))+(v&A^v&_^A&_)|0,j=z,z=T,T=G,G=D+ce|0,D=_,_=A,A=v,v=ce+le|0;I=I+v|0,C=C+A|0,M=M+_|0,k=k+D|0,L=L+G|0,$=$+T|0,V=V+z|0,P=P+j|0,R+=64,S-=64}}F(w);let U,b=w.length%64,y=w.length/536870912|0,d=w.length<<3,p=b<56?56:120,E=w.slice(w.length-b,w.length);for(E.push(128),U=b+1;U<p;U++)E.push(0);return E.push(y>>>24&255),E.push(y>>>16&255),E.push(y>>>8&255),E.push(y>>>0&255),E.push(d>>>24&255),E.push(d>>>16&255),E.push(d>>>8&255),E.push(d>>>0&255),F(E),[I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255]}function s(w,N,I){w=w.length<=64?w:i(w);const C=64+N.length+4,M=new Array(C),k=new Array(64);let L,$=[];for(L=0;L<64;L++)M[L]=54;for(L=0;L<w.length;L++)M[L]^=w[L];for(L=0;L<N.length;L++)M[64+L]=N[L];for(L=C-4;L<C;L++)M[L]=0;for(L=0;L<64;L++)k[L]=92;for(L=0;L<w.length;L++)k[L]^=w[L];function V(){for(let P=C-1;P>=C-4;P--){if(M[P]++,M[P]<=255)return;M[P]=0}}for(;I>=32;)V(),$=$.concat(i(k.concat(i(M)))),I-=32;return I>0&&(V(),$=$.concat(i(k.concat(i(M))).slice(0,I))),$}function o(w,N,I,C,M){let k;for(l(w,(2*I-1)*16,M,0,16),k=0;k<2*I;k++)f(w,k*16,M,16),c(M,C),l(M,0,w,N+k*16,16);for(k=0;k<I;k++)l(w,N+k*2*16,w,k*16,16);for(k=0;k<I;k++)l(w,N+(k*2+1)*16,w,(k+I)*16,16)}function a(w,N){return w<<N|w>>>32-N}function c(w,N){l(w,0,N,0,16);for(let I=8;I>0;I-=2)N[4]^=a(N[0]+N[12],7),N[8]^=a(N[4]+N[0],9),N[12]^=a(N[8]+N[4],13),N[0]^=a(N[12]+N[8],18),N[9]^=a(N[5]+N[1],7),N[13]^=a(N[9]+N[5],9),N[1]^=a(N[13]+N[9],13),N[5]^=a(N[1]+N[13],18),N[14]^=a(N[10]+N[6],7),N[2]^=a(N[14]+N[10],9),N[6]^=a(N[2]+N[14],13),N[10]^=a(N[6]+N[2],18),N[3]^=a(N[15]+N[11],7),N[7]^=a(N[3]+N[15],9),N[11]^=a(N[7]+N[3],13),N[15]^=a(N[11]+N[7],18),N[1]^=a(N[0]+N[3],7),N[2]^=a(N[1]+N[0],9),N[3]^=a(N[2]+N[1],13),N[0]^=a(N[3]+N[2],18),N[6]^=a(N[5]+N[4],7),N[7]^=a(N[6]+N[5],9),N[4]^=a(N[7]+N[6],13),N[5]^=a(N[4]+N[7],18),N[11]^=a(N[10]+N[9],7),N[8]^=a(N[11]+N[10],9),N[9]^=a(N[8]+N[11],13),N[10]^=a(N[9]+N[8],18),N[12]^=a(N[15]+N[14],7),N[13]^=a(N[12]+N[15],9),N[14]^=a(N[13]+N[12],13),N[15]^=a(N[14]+N[13],18);for(let I=0;I<16;++I)w[I]+=N[I]}function f(w,N,I,C){for(let M=0;M<C;M++)I[M]^=w[N+M]}function l(w,N,I,C,M){for(;M--;)I[C++]=w[N++]}function u(w){if(!w||typeof w.length!="number")return!1;for(let N=0;N<w.length;N++){const I=w[N];if(typeof I!="number"||I%1||I<0||I>=256)return!1}return!0}function h(w,N){if(typeof w!="number"||w%1)throw new Error("invalid "+N);return w}function g(w,N,I,C,M,k,L){if(I=h(I,"N"),C=h(C,"r"),M=h(M,"p"),k=h(k,"dkLen"),I===0||I&I-1)throw new Error("N must be power of 2");if(I>2147483647/128/C)throw new Error("N too large");if(C>2147483647/128/M)throw new Error("r too large");if(!u(w))throw new Error("password must be an array or buffer");if(w=Array.prototype.slice.call(w),!u(N))throw new Error("salt must be an array or buffer");N=Array.prototype.slice.call(N);let $=s(w,N,M*128*C);const V=new Uint32Array(M*32*C);for(let G=0;G<V.length;G++){const T=G*4;V[G]=($[T+3]&255)<<24|($[T+2]&255)<<16|($[T+1]&255)<<8|($[T+0]&255)<<0}const P=new Uint32Array(64*C),O=new Uint32Array(32*C*I),F=32*C,U=new Uint32Array(16),b=new Uint32Array(16),y=M*I*2;let d=0,p=null,E=!1,x=0,R=0,S,v;const A=L?parseInt(1e3/C):4294967295,_=typeof setImmediate<"u"?setImmediate:setTimeout,D=function(){if(E)return L(new Error("cancelled"),d/y);let G;switch(x){case 0:v=R*32*C,l(V,v,P,0,F),x=1,S=0;case 1:G=I-S,G>A&&(G=A);for(let z=0;z<G;z++)l(P,0,O,(S+z)*F,F),o(P,F,C,U,b);if(S+=G,d+=G,L){const z=parseInt(1e3*d/y);if(z!==p){if(E=L(null,d/y),E)break;p=z}}if(S<I)break;S=0,x=2;case 2:G=I-S,G>A&&(G=A);for(let z=0;z<G;z++){const j=(2*C-1)*16,X=P[j]&I-1;f(O,X*F,P,F),o(P,F,C,U,b)}if(S+=G,d+=G,L){const z=parseInt(1e3*d/y);if(z!==p){if(E=L(null,d/y),E)break;p=z}}if(S<I)break;if(l(P,0,V,v,F),R++,R<M){x=0;break}$=[];for(let z=0;z<V.length;z++)$.push(V[z]>>0&255),$.push(V[z]>>8&255),$.push(V[z]>>16&255),$.push(V[z]>>24&255);const T=s(w,$,k);return L&&L(null,1,T),T}L&&_(D)};if(!L)for(;;){const G=D();if(G!=null)return G}D()}const m={scrypt:function(w,N,I,C,M,k,L){return new Promise(function($,V){let P=0;L&&L(0),g(w,N,I,C,M,k,function(O,F,U){if(O)V(O);else if(U)L&&P!==1&&L(1),$(new Uint8Array(U));else if(L&&F!==P)return P=F,L(F)})})},syncScrypt:function(w,N,I,C,M,k){return new Uint8Array(g(w,N,I,C,M,k))}};t.exports=m})()})(rH);var y_e=rH.exports;const Fg=va(y_e);var w_e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const KR=new Zd(ZW);function _M(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}let v_e=class extends Oo{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function __e(t,e,r){if(cn(t,"crypto/cipher")==="aes-128-ctr"){const i=Md(cn(t,"crypto/cipherparams/iv")),s=new _n.Counter(i),o=new _n.ModeOfOperation.ctr(e,s);return Wi(o.decrypt(r))}return null}function nH(t,e){const r=Md(cn(t,"crypto/ciphertext"));if(ju(Ht(XW([e.slice(16,32),r]))).substring(2)!==cn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=__e(t,e.slice(0,16),r);i||KR.throwError("unsupported cipher",Zd.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Ql(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Xt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ju(i)};if(cn(t,"x-ethers/version")==="0.1"){const c=Md(cn(t,"x-ethers/mnemonicCiphertext")),f=Md(cn(t,"x-ethers/mnemonicCounter")),l=new _n.Counter(f),u=new _n.ModeOfOperation.ctr(s,l),h=cn(t,"x-ethers/path")||dh,g=cn(t,"x-ethers/locale")||"en",m=Wi(u.decrypt(c));try{const w=LA(m,g),N=hg.fromMnemonic(w,null,g).derivePath(h);if(N.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=N.mnemonic}catch(w){if(w.code!==Zd.errors.INVALID_ARGUMENT||w.argument!=="wordlist")throw w}}return new v_e(a)}function iH(t,e,r,n,i){return Wi(_y(t,e,r,n,i))}function A_e(t,e,r,n,i){return Promise.resolve(iH(t,e,r,n,i))}function sH(t,e,r,n,i){const s=YC(e),o=cn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,f){return KR.throwArgumentError("invalid key-derivation function parameters",c,f)};if(o.toLowerCase()==="scrypt"){const c=Md(cn(t,"crypto/kdfparams/salt")),f=parseInt(cn(t,"crypto/kdfparams/n")),l=parseInt(cn(t,"crypto/kdfparams/r")),u=parseInt(cn(t,"crypto/kdfparams/p"));(!f||!l||!u)&&a("kdf",o),f&f-1&&a("N",f);const h=parseInt(cn(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),n(s,c,f,l,u,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Md(cn(t,"crypto/kdfparams/salt"));let f=null;const l=cn(t,"crypto/kdfparams/prf");l==="hmac-sha256"?f="sha256":l==="hmac-sha512"?f="sha512":a("prf",l);const u=parseInt(cn(t,"crypto/kdfparams/c")),h=parseInt(cn(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),r(s,c,u,h,f)}}return KR.throwArgumentError("unsupported key-derivation function","kdf",o)}function N_e(t,e){const r=JSON.parse(t),n=sH(r,e,iH,Fg.syncScrypt);return nH(r,n)}function x_e(t,e,r){return w_e(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield sH(n,e,A_e,Fg.scrypt,r);return nH(n,i)})}function I_e(t,e,r,n){try{if(Xt(t.address)!==Ql(t.privateKey))throw new Error("address/privateKey mismatch");if(_M(t)){const N=t.mnemonic;if(hg.fromMnemonic(N.phrase,null,N.locale).derivePath(N.path||dh).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(N){return Promise.reject(N)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=Wi(t.privateKey),s=YC(e);let o=null,a=null,c=null;if(_M(t)){const N=t.mnemonic;o=Wi(XC(N.phrase,N.locale||"en")),a=N.path||dh,c=N.locale||"en"}let f=r.client;f||(f="ethers.js");let l=null;r.salt?l=Wi(r.salt):l=ql(32);let u=null;if(r.iv){if(u=Wi(r.iv),u.length!==16)throw new Error("invalid iv")}else u=ql(16);let h=null;if(r.uuid){if(h=Wi(r.uuid),h.length!==16)throw new Error("invalid uuid")}else h=ql(16);let g=1<<17,m=8,w=1;return r.scrypt&&(r.scrypt.N&&(g=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(w=r.scrypt.p)),Fg.scrypt(s,l,g,m,w,64,n).then(N=>{N=Wi(N);const I=N.slice(0,16),C=N.slice(16,32),M=N.slice(32,64),k=new _n.Counter(u),L=new _n.ModeOfOperation.ctr(I,k),$=Wi(L.encrypt(i)),V=Ht(XW([C,$])),P={address:t.address.substring(2).toLowerCase(),id:m_e(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ju(u).substring(2)},ciphertext:ju($).substring(2),kdf:"scrypt",kdfparams:{salt:ju(l).substring(2),n:g,dklen:32,p:w,r:m},mac:V.substring(2)}};if(o){const O=ql(16),F=new _n.Counter(O),U=new _n.ModeOfOperation.ctr(M,F),b=Wi(U.encrypt(o)),y=new Date,d=y.getUTCFullYear()+"-"+mm(y.getUTCMonth()+1,2)+"-"+mm(y.getUTCDate(),2)+"T"+mm(y.getUTCHours(),2)+"-"+mm(y.getUTCMinutes(),2)+"-"+mm(y.getUTCSeconds(),2)+".0Z";P["x-ethers"]={client:f,gethFilename:"UTC--"+d+"--"+P.address,mnemonicCounter:ju(O).substring(2),mnemonicCiphertext:ju(b).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(P)})}function S_e(t,e,r){if(eH(t)){r&&r(0);const n=QW(t,e);return r&&r(1),Promise.resolve(n)}return tH(t)?x_e(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function R_e(t,e){if(eH(t))return QW(t,e);if(tH(t))return N_e(t,e);throw new Error("invalid JSON wallet")}const T_e="wallet/5.7.0";var AM=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const W0=new ie(T_e);function C_e(t){return t!=null&&Pt(t.privateKey,32)&&t.address!=null}function O_e(t){const e=t.mnemonic;return e&&e.phrase}class bd extends Dg{constructor(e,r){if(super(),C_e(e)){const n=new Dp(e.privateKey);if(ae(this,"_signingKey",()=>n),ae(this,"address",Ql(this.publicKey)),this.address!==Xt(e.address)&&W0.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),O_e(e)){const i=e.mnemonic;ae(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||dh,locale:i.locale||"en"}));const s=this.mnemonic,o=hg.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Ql(o.privateKey)!==this.address&&W0.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ae(this,"_mnemonic",()=>null)}else{if(Dp.isSigningKey(e))e.curve!=="secp256k1"&&W0.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ae(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Dp(e);ae(this,"_signingKey",()=>n)}ae(this,"_mnemonic",()=>null),ae(this,"address",Ql(this.publicKey))}r&&!yy.isProvider(r)&&W0.throwArgumentError("invalid provider","provider",r),ae(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new bd(this,e)}signTransaction(e){return on(e).then(r=>{r.from!=null&&(Xt(r.from)!==this.address&&W0.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(Ht(NU(r)));return NU(r,n)})}signMessage(e){return AM(this,void 0,void 0,function*(){return PR(this._signingKey().signDigest(hW(e)))})}_signTypedData(e,r,n){return AM(this,void 0,void 0,function*(){const i=yield AE.resolveNames(e,r,n,s=>(this.provider==null&&W0.throwError("cannot resolve ENS names without a provider",ie.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return PR(this._signingKey().signDigest(AE.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),I_e(this,e,r,n)}static createRandom(e){let r=ql(16);e||(e={}),e.extraEntropy&&(r=me(ln(Ht(Lr([r,e.extraEntropy])),0,16)));const n=LA(r,e.locale);return bd.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return S_e(e,r,n).then(i=>new bd(i))}static fromEncryptedJsonSync(e,r){return new bd(R_e(e,r))}static fromMnemonic(e,r,n){return r||(r=dh),new bd(hg.fromMnemonic(e,null,n).derivePath(r))}}function P_e(t,e){return MA(hW(t),e)}function U_e(t,e,r,n){return MA(AE.hash(t,e,r),n)}const M_e=Object.freeze(Object.defineProperty({__proto__:null,Wallet:bd,verifyMessage:P_e,verifyTypedData:U_e},Symbol.toStringTag,{value:"Module"})),D_e="0x0000000000000000000000000000000000000000",k_e=xe.from(-1),oH=xe.from(0),L_e=xe.from(1),F_e=xe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aH="0x0000000000000000000000000000000000000000000000000000000000000000",$_e="logger/5.8.0";let NM=!1,xM=!1;const Iw={debug:1,default:2,info:2,warning:3,error:4,off:5};let IM=Iw.default,U2=null;function B_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const SM=B_e();var JR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(JR||(JR={}));var yc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(yc||(yc={}));const RM="0123456789abcdef";let ZC=class Wn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Iw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(IM>Iw[n])&&console.log.apply(console,r)}debug(...e){this._log(Wn.levels.DEBUG,e)}info(...e){this._log(Wn.levels.INFO,e)}warn(...e){this._log(Wn.levels.WARNING,e)}makeError(e,r,n){if(xM)return this.makeError("censored error",r,{});r||(r=Wn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=RM[f[u]>>4],l+=RM[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case yc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case yc.CALL_EXCEPTION:case yc.INSUFFICIENT_FUNDS:case yc.MISSING_NEW:case yc.NONCE_EXPIRED:case yc.REPLACEMENT_UNDERPRICED:case yc.TRANSACTION_REPLACED:case yc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Wn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){SM&&this.throwError("platform missing String.prototype.normalize",Wn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:SM})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Wn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Wn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Wn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Wn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Wn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return U2||(U2=new Wn($_e)),U2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),NM){if(!e)return;this.globalLogger().throwError("error censorship permanent",Wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}xM=!!e,NM=!!r}static setLogLevel(e){const r=Iw[e.toLowerCase()];if(r==null){Wn.globalLogger().warn("invalid log level - "+e);return}IM=r}static from(e){return new Wn(e)}};ZC.errors=yc;ZC.levels=JR;const G_e="networks/5.8.0",TM=new ZC(G_e);function j_e(t){return t&&typeof t.renetwork=="function"}function wc(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return wc(r)},e}function b_(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return b_(t,n)},r}const CM={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:wc("homestead")},OM={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:wc("ropsten")},PM={chainId:63,name:"classicMordor",_defaultProvider:b_("https://www.ethercluster.com/mordor","classicMordor")},l1={unspecified:{chainId:0,name:"unspecified"},homestead:CM,mainnet:CM,morden:{chainId:2,name:"morden"},ropsten:OM,testnet:OM,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:wc("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:wc("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:wc("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:wc("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:wc("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:b_("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:PM,classicTestnet:PM,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:b_("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:wc("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:wc("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:wc("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function z_e(t){if(t==null)return null;if(typeof t=="number"){for(const n in l1){const i=l1[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=l1[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=l1[t.name];if(!e)return typeof t.chainId!="number"&&TM.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&TM.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(j_e(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const W_e="logger/5.8.0";let UM=!1,MM=!1;const Sw={debug:1,default:2,info:2,warning:3,error:4,off:5};let DM=Sw.default,M2=null;function H_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const kM=H_e();var XR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(XR||(XR={}));var vc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(vc||(vc={}));const LM="0123456789abcdef";let fa=class Hn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Sw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(DM>Sw[n])&&console.log.apply(console,r)}debug(...e){this._log(Hn.levels.DEBUG,e)}info(...e){this._log(Hn.levels.INFO,e)}warn(...e){this._log(Hn.levels.WARNING,e)}makeError(e,r,n){if(MM)return this.makeError("censored error",r,{});r||(r=Hn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=LM[f[u]>>4],l+=LM[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case vc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case vc.CALL_EXCEPTION:case vc.INSUFFICIENT_FUNDS:case vc.MISSING_NEW:case vc.NONCE_EXPIRED:case vc.REPLACEMENT_UNDERPRICED:case vc.TRANSACTION_REPLACED:case vc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Hn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){kM&&this.throwError("platform missing String.prototype.normalize",Hn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:kM})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Hn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Hn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Hn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Hn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Hn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Hn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Hn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return M2||(M2=new Hn(W_e)),M2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Hn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),UM){if(!e)return;this.globalLogger().throwError("error censorship permanent",Hn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}MM=!!e,UM=!!r}static setLogLevel(e){const r=Sw[e.toLowerCase()];if(r==null){Hn.globalLogger().warn("invalid log level - "+e);return}DM=r}static from(e){return new Hn(e)}};fa.errors=vc;fa.levels=XR;const q_e="bytes/5.8.0",Fp=new fa(q_e);function cH(t){return!!t.toHexString}function Rw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Rw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function V_e(t){return e6(t)&&!(t.length%2)||QC(t)}function FM(t){return typeof t=="number"&&t==t&&t%1===0}function QC(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!FM(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!FM(r)||r<0||r>=256)return!1}return!0}function K_e(t,e){if(e||(e={}),typeof t=="number"){Fp.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Rw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),cH(t)&&(t=t.toHexString()),e6(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Fp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Rw(new Uint8Array(n))}return QC(t)?Rw(new Uint8Array(t)):Fp.throwArgumentError("invalid arrayify value","value",t)}function e6(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const D2="0123456789abcdef";function J_e(t,e){if(e||(e={}),typeof t=="number"){Fp.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=D2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),cH(t))return t.toHexString();if(e6(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Fp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(QC(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=D2[(i&240)>>4]+D2[i&15]}return r}return Fp.throwArgumentError("invalid hexlify value","value",t)}const X_e="web/5.8.0";var Y_e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};function Z_e(t,e){return Y_e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:K_e(new Uint8Array(i))}})}var Q_e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const Za=new fa(X_e);function $M(t){return new Promise(e=>{setTimeout(e,t)})}function Nu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(V_e(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Mg(t)}catch{}return J_e(t)}return t}function eAe(t){return nn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function tAe(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Za.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Za.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const f={method:"GET"};let l=!1,u=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Za.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(u=t.timeout),t.headers)for(const I in t.headers)a[I.toLowerCase()]={key:I,value:String(t.headers[I])},["if-none-match","if-modified-since"].indexOf(I.toLowerCase())>=0&&(l=!0);if(f.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Za.throwError("basic authentication requires a secure https url",fa.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const I=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+sW(nn(I))}}t.skipFetchSetup!=null&&(f.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(f.fetchOptions=yi(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(h):null;if(g)try{const I={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?iW(g[3]):eAe(g[3])};let C=I.body;return r&&(C=r(I.body,I)),Promise.resolve(C)}catch(I){Za.throwError("processing response error",fa.errors.SERVER_ERROR,{body:Nu(g[1],g[2]),error:I,requestBody:null,requestMethod:"GET",url:c})}e&&(f.method="POST",f.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(I=>{const C=a[I];m[C.key]=C.value}),f.headers=m;const w=function(){let I=null;return{promise:new Promise(function(k,L){u&&(I=setTimeout(()=>{I!=null&&(I=null,L(Za.makeError("timeout",fa.errors.TIMEOUT,{requestBody:Nu(f.body,m["content-type"]),requestMethod:f.method,timeout:u,url:c})))},u))}),cancel:function(){I!=null&&(clearTimeout(I),I=null)}}}(),N=function(){return Q_e(this,void 0,void 0,function*(){for(let I=0;I<n;I++){let C=null;try{if(C=yield Z_e(c,f),I<n){if(C.statusCode===301||C.statusCode===302){const k=C.headers.location||"";if(f.method==="GET"&&k.match(/^https:/)){c=C.headers.location;continue}}else if(C.statusCode===429){let k=!0;if(i&&(k=yield i(I,c)),k){let L=0;const $=C.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?L=parseInt($)*1e3:L=s*parseInt(String(Math.random()*Math.pow(2,I))),yield $M(L);continue}}}}catch(k){C=k.response,C==null&&(w.cancel(),Za.throwError("missing response",fa.errors.SERVER_ERROR,{requestBody:Nu(f.body,m["content-type"]),requestMethod:f.method,serverError:k,url:c}))}let M=C.body;if(l&&C.statusCode===304?M=null:!o&&(C.statusCode<200||C.statusCode>=300)&&(w.cancel(),Za.throwError("bad response",fa.errors.SERVER_ERROR,{status:C.statusCode,headers:C.headers,body:Nu(M,C.headers?C.headers["content-type"]:null),requestBody:Nu(f.body,m["content-type"]),requestMethod:f.method,url:c})),r)try{const k=yield r(M,C);return w.cancel(),k}catch(k){if(k.throttleRetry&&I<n){let L=!0;if(i&&(L=yield i(I,c)),L){const $=s*parseInt(String(Math.random()*Math.pow(2,I)));yield $M($);continue}}w.cancel(),Za.throwError("processing response error",fa.errors.SERVER_ERROR,{body:Nu(M,C.headers?C.headers["content-type"]:null),error:k,requestBody:Nu(f.body,m["content-type"]),requestMethod:f.method,url:c})}return w.cancel(),M}return Za.throwError("failed response",fa.errors.SERVER_ERROR,{requestBody:Nu(f.body,m["content-type"]),requestMethod:f.method,url:c})})}();return Promise.race([w.promise,N])}function t6(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Mg(s))}catch(c){Za.throwError("invalid JSON",fa.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=nn(e);const s=typeof t=="string"?{url:t}:yi(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=yi(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return tAe(t,i,n)}function Lm(t,e){return e||(e={}),e=yi(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function f(){return t().then(function(l){if(l!==void 0)o()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let u=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));u<e.floor&&(u=e.floor),u>e.ceiling&&(u=e.ceiling),setTimeout(f,u)}return null},function(l){o()&&n(l)})}f()})}var E_="qpzry9x8gf2tvdw0s3jn54khce6mua7l",YR={};for(var u1=0;u1<E_.length;u1++){var k2=E_.charAt(u1);if(YR[k2]!==void 0)throw new TypeError(k2+" is ambiguous");YR[k2]=u1}function $p(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function fH(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=$p(e)^n>>5}for(e=$p(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=$p(e)^i&31}return e}function rAe(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=fH(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=$p(n)^o,i+=E_.charAt(o)}for(s=0;s<6;++s)n=$p(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=E_.charAt(a)}return i}function lH(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=fH(s);if(typeof a=="string")return a;for(var c=[],f=0;f<o.length;++f){var l=o.charAt(f),u=YR[l];if(u===void 0)return"Unknown character "+l;a=$p(a)^u,!(f+6>=o.length)&&c.push(u)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function nAe(){var t=lH.apply(null,arguments);if(typeof t=="object")return t}function iAe(t){var e=lH.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function FA(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function sAe(t){var e=FA(t,8,5,!0);if(Array.isArray(e))return e}function oAe(t){var e=FA(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function aAe(t){var e=FA(t,5,8,!1);if(Array.isArray(e))return e}function cAe(t){var e=FA(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var fAe={decodeUnsafe:nAe,decode:iAe,encode:rAe,toWordsUnsafe:sAe,toWords:oAe,fromWordsUnsafe:aAe,fromWords:cAe};const BM=va(fAe),Rh="providers/5.7.2",bm=new ie(Rh);class Ue{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this),l=u=>this.data(u,!0);return e.transaction={hash:o,type:f,accessList:Ue.allowNull(this.accessList.bind(this),null),blockHash:Ue.allowNull(o,null),blockNumber:Ue.allowNull(c,null),transactionIndex:Ue.allowNull(c,null),confirmations:Ue.allowNull(c,null),from:r,gasPrice:Ue.allowNull(n),maxPriorityFeePerGas:Ue.allowNull(n),maxFeePerGas:Ue.allowNull(n),gasLimit:n,to:Ue.allowNull(r,null),value:n,nonce:c,data:s,r:Ue.allowNull(this.uint256),s:Ue.allowNull(this.uint256),v:Ue.allowNull(c),creates:Ue.allowNull(r,null),raw:Ue.allowNull(s)},e.transactionRequest={from:Ue.allowNull(r),nonce:Ue.allowNull(c),gasLimit:Ue.allowNull(n),gasPrice:Ue.allowNull(n),maxPriorityFeePerGas:Ue.allowNull(n),maxFeePerGas:Ue.allowNull(n),to:Ue.allowNull(r),value:Ue.allowNull(n),data:Ue.allowNull(l),type:Ue.allowNull(c),accessList:Ue.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:Ue.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Ue.allowNull(this.address,null),from:Ue.allowNull(this.address,null),contractAddress:Ue.allowNull(r,null),transactionIndex:c,root:Ue.allowNull(a),gasUsed:n,logsBloom:Ue.allowNull(s),blockHash:o,transactionHash:o,logs:Ue.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ue.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Ue.allowNull(n),status:Ue.allowNull(c),type:f},e.block={hash:Ue.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Ue.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ue.allowNull(r),extraData:s,transactions:Ue.allowNull(Ue.arrayOf(o)),baseFeePerGas:Ue.allowNull(n)},e.blockWithTransactions=yi(e.block),e.blockWithTransactions.transactions=Ue.allowNull(Ue.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ue.allowNull(i,void 0),toBlock:Ue.allowNull(i,void 0),blockHash:Ue.allowNull(o,void 0),address:Ue.allowNull(r,void 0),topics:Ue.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ue.allowNull(c),blockHash:Ue.allowNull(o),transactionIndex:c,removed:Ue.allowNull(this.boolean.bind(this)),address:r,data:Ue.allowFalsish(s,"0x"),topics:Ue.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return Lg(e||[])}number(e){return e==="0x"?0:xe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:xe.from(e).toNumber()}bigNumber(e){return xe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Pt(e))?e.toLowerCase():bm.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Xt(e)}callAddress(e){if(!Pt(e,32))return null;const r=Xt(ln(e,12));return r===D_e?null:r}contractAddress(e){return Vz(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Pt(e))return TA(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return ul(n)!==32?bm.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=xe.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Pt(e))throw new Error("invalid uint256");return Tr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ue.check(r,e);return i._difficulty=n==null?null:xe.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ue.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&xe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Ue.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Pt(n)&&(n=xe.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Pt(n)&&(n=xe.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return gve(e)}receiptLog(e){return Ue.check(this.formats.receiptLog,e)}receipt(e){const r=Ue.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=xe.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&bm.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):bm.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&bm.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Ue.check(this.formats.filter,e)}filterLog(e){return Ue.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}let GM=!1;function lAe(){GM||(GM=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var st=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const Et=new ie(Rh),uAe=10;function jM(t){return t==null?"null":(ul(t)!==32&&Et.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function zM(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[jM(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return jM(e)}).join("&")}function hAe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function H0(t){if(typeof t=="string"){if(t=t.toLowerCase(),ul(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+zM(t);if(_we.isForkEvent(t))throw Et.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+zM(t.topics||[])}throw new Error("invalid event - "+t)}function Em(){return new Date().getTime()}function WM(t){return new Promise(e=>{setTimeout(e,t)})}const dAe=["block","network","pending","poll"];let pAe=class{constructor(e,r,n){ae(this,"tag",e),ae(this,"listener",r),ae(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=hAe(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||dAe.indexOf(this.tag)>=0}};const gAe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function L2(t){return Tr(xe.from(t).toHexString(),32)}function HM(t){return TE.encode(Lr([t,ln(hh(hh(t)),0,4)]))}const uH=new RegExp("^(ipfs)://(.*)$","i"),qM=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),uH,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Tw(t,e){try{return Mg(PE(t,e))}catch{}return null}function PE(t,e){if(t==="0x")return null;const r=xe.from(ln(t,e,e+32)).toNumber(),n=xe.from(ln(t,r,r+32)).toNumber();return ln(t,r+32,r+32+n)}function F2(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Et.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function VM(t){const e=me(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function mAe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function hH(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=me(t[n]);e[n]=VM(r),e.push(VM(i.length)),e.push(mAe(i)),r+=32+Math.ceil(i.length/32)*32}return Cs(e)}class KM{constructor(e,r,n,i){ae(this,"provider",e),ae(this,"name",n),ae(this,"address",e.formatter.address(r)),ae(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>xe.from(e).eq(1)).catch(e=>{if(e.code===ie.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return st(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Cs([e,iw(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Cs(["0x9061b923",hH([Q1e(this.name),n.data])]));try{let s=yield this.provider.call(n);return me(s).length%32===4&&Et.throwError("resolver threw error",ie.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=PE(s,0)),s}catch(s){if(s.code===ie.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return st(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?PE(n,0):null})}_getAddress(e,r){const n=gAe[String(e)];if(n==null&&Et.throwError(`unsupported coin type: ${e}`,ie.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=me(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return HM(Lr([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return HM(Lr([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=BM.toWords(i.slice(2));return a.unshift(o),BM.encode(n.prefix,a)}}return null}getAddress(e){return st(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===aH?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ie.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",L2(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Et.throwError("invalid or unsupported coin data",ie.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return st(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<qM.length;n++){const i=r.match(qM[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:F2(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const f=yield this.provider.formatter.address(c[0]),l=Tr(xe.from(c[1]).toHexString(),32);if(s==="erc721"){const w=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:Cs(["0x6352211e",l])}));if(a!==w)return null;e.push({type:"owner",content:w})}else if(s==="erc1155"){const w=xe.from(yield this.provider.call({to:f,data:Cs(["0x00fdd58e",Tr(a,32),l])}));if(w.isZero())return null;e.push({type:"balance",content:w.toString()})}const u={to:this.provider.formatter.address(c[0]),data:Cs([o,l])};let h=Tw(yield this.provider.call(u),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=F2(h)),e.push({type:"metadata-url",content:h});const g=yield t6(h);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let m=g.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(uH)==null)return null;e.push({type:"url-ipfs",content:m}),m=F2(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return st(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+TE.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+TE.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+sW("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Et.throwError("invalid or unsupported content hash data",ie.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return st(this,void 0,void 0,function*(){let r=nn(e);r=Lr([L2(64),L2(r.length),r]),r.length%32!==0&&(r=Lr([r,Tr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ye(r));return n==null||n==="0x"?null:Mg(n)})}}let $2=null,bAe=1;class EAe extends yy{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ae(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Ki(new.target,"getNetwork")(e);r?(ae(this,"_network",r),this.emit("network",r,null)):Et.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return st(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Et.throwError("no network detected",ie.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ae(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Lm(()=>this._ready().then(e=>e,e=>{if(!(e.code===ie.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return $2==null&&($2=new Ue),$2}static getNetwork(e){return z_e(e??"homestead")}ccipReadFetch(e,r,n){return st(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],f=c.replace("{sender}",i).replace("{data}",s),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),u=yield t6({url:f,errorPassThrough:!0},l,(g,m)=>(g.status=m.statusCode,g));if(u.data)return u.data;const h=u.message||"unknown error";if(u.status>=400&&u.status<500)return Et.throwError(`response not found during CCIP fetch: ${h}`,ie.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return Et.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,ie.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return st(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Em()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Em(),n=on({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Em();return i=xe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return st(this,void 0,void 0,function*(){const e=bAe++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Et.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Et.makeError("network block skew detected",ie.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(f=>{f.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=f.blockNumber),this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(s,f)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return st(this,void 0,void 0,function*(){return Et.throwError("provider does not support network detection",ie.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return st(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield WM(0),this._network;const n=Et.makeError("underlying network changed",ie.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Em();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Em(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return st(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return st(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let f=!1;const l=function(){return f?!0:(f=!0,c.forEach(h=>{h()}),!1)},u=h=>{h.confirmations<r||l()||o(h)};if(this.on(e,u),c.push(()=>{this.removeListener(e,u)}),i){let h=i.startBlock,g=null;const m=w=>st(this,void 0,void 0,function*(){f||(yield WM(1e3),this.getTransactionCount(i.from).then(N=>st(this,void 0,void 0,function*(){if(!f){if(N<=i.nonce)h=w;else{{const I=yield this.getTransaction(e);if(I&&I.blockNumber!=null)return}for(g==null&&(g=h-3,g<i.startBlock&&(g=i.startBlock));g<=w;){if(f)return;const I=yield this.getBlockWithTransactions(g);for(let C=0;C<I.transactions.length;C++){const M=I.transactions[C];if(M.hash===e)return;if(M.from===i.from&&M.nonce===i.nonce){if(f)return;const k=yield this.waitForTransaction(M.hash,r);if(l())return;let L="replaced";M.data===i.data&&M.to===i.to&&M.value.eq(i.value)?L="repriced":M.data==="0x"&&M.from===M.to&&M.value.isZero()&&(L="cancelled"),a(Et.makeError("transaction was replaced",ie.errors.TRANSACTION_REPLACED,{cancelled:L==="replaced"||L==="cancelled",reason:L,replacement:this._wrapTransaction(M),hash:e,receipt:k}));return}}g++}}f||this.once("block",m)}}),N=>{f||this.once("block",m)}))});if(f)return;this.once("block",m),c.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{l()||a(Et.makeError("timeout exceeded",ie.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return st(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return st(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return xe.from(e)}catch(r){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return st(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield on({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return xe.from(i)}catch(s){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return st(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield on({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return xe.from(i).toNumber()}catch(s){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return st(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield on({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ye(i)}catch(s){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return st(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield on({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>TA(o))}),s=yield this.perform("getStorageAt",i);try{return ye(s)}catch(o){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&ul(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Et.throwError("Transaction hash mismatch from Provider.sendTransaction.",ie.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>st(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Et.throwError("transaction failed",ie.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return st(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>ye(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return st(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?xe.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ye(s):null))}),this.formatter.transactionRequest(yield on(n))})}_getFilter(e){return st(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield on(r))})}_call(e,r,n){return st(this,void 0,void 0,function*(){n>=uAe&&Et.throwError("CCIP read exceeded maximum redirections",ie.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&ul(s)%32===4)try{const o=ln(s,4),a=ln(o,0,32);xe.from(a).eq(i)||Et.throwError("CCIP Read sender did not match",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],f=xe.from(ln(o,32,64)).toNumber(),l=xe.from(ln(o,f,f+32)).toNumber(),u=ln(o,f+32);for(let I=0;I<l;I++){const C=Tw(u,I*32);C==null&&Et.throwError("CCIP Read contained corrupt URL string",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(C)}const h=PE(o,64);xe.from(ln(o,100,128)).isZero()||Et.throwError("CCIP Read callback selector included junk",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const g=ln(o,96,100),m=PE(o,128),w=yield this.ccipReadFetch(e,h,c);w==null&&Et.throwError("CCIP Read disabled or provided no URLs",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const N={to:i,data:Cs([g,hH([w,m])])};return this._call(N,r,n+1)}catch(o){if(o.code===ie.errors.SERVER_ERROR)throw o}try{return ye(s)}catch(o){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return st(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield on({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return st(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield on({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return xe.from(n)}catch(i){return Et.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return st(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Et.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Et.throwError("ENS name not configured",ie.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return st(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Pt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Pt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Et.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Lm(()=>st(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const f=s.transactions[c];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=o-f.blockNumber+1;l<=0&&(l=1),f.confirmations=l}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return st(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Lm(()=>st(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return st(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Lm(()=>st(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return st(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield on({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ue.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return st(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return st(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Et.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return st(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new KM(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return st(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Et.throwError("network does not support ENS",ie.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+iw(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return st(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Pt(e))throw n}typeof e!="string"&&Et.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return st(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Tw(yield this.call({to:n,data:"0x691f3431"+iw(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return st(this,void 0,void 0,function*(){let r=null;if(Pt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new KM(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==ie.errors.CALL_EXCEPTION)throw a}try{const a=Tw(yield this.call({to:o,data:"0x691f3431"+iw(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==ie.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Et.throwError(e+" not implemented",ie.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new pAe(H0(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=H0(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=H0(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=H0(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=H0(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=H0(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Fl=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const bn=new ie(Rh),yAe=["call","estimateGas"];function Eb(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Pt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Eb(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Eb(JSON.parse(t),e)}catch{}return null}function dH(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=Eb(e,!0);if(s)return s.data;bn.throwError("missing revert data in call exception; Transaction reverted without a reason string",ie.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=Eb(e.body,!1);s==null&&(s=Eb(e,!1)),s&&bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ie.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&bn.throwError("insufficient funds for intrinsic transaction cost",ie.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&bn.throwError("nonce has already been used",ie.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&bn.throwError("replacement fee too low",ie.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&bn.throwError("legacy pre-eip-155 transactions not supported",ie.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),yAe.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function JM(t){return new Promise(function(e){setTimeout(e,t)})}function wAe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ym(t){return t&&t.toLowerCase()}const ZR={};class pH extends Dg{constructor(e,r,n){if(super(),e!==ZR)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ae(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ae(this,"_address",this.provider.formatter.address(n)),ae(this,"_index",null)):typeof n=="number"?(ae(this,"_index",n),ae(this,"_address",null)):bn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return bn.throwError("cannot alter JSON-RPC Signer connection",ie.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new vAe(ZR,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&bn.throwError("unknown account #"+this._index,ie.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=yi(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=yi(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Fl(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&bn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),on({tx:on(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&bn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&bn.throwError("user rejected transaction",ie.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),dH("sendTransaction",o,s)))})}signTransaction(e){return bn.throwError("signing transactions is unsupported",ie.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Fl(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Lm(()=>Fl(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Fl(this,void 0,void 0,function*(){const r=typeof e=="string"?nn(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ye(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&bn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Fl(this,void 0,void 0,function*(){const r=typeof e=="string"?nn(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ye(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&bn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Fl(this,void 0,void 0,function*(){const i=yield AE.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(AE.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&bn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Fl(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class vAe extends pH{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const _Ae={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class $A extends EAe{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Ki(this.constructor,"defaultUrl")()),typeof e=="string"?ae(this,"connection",Object.freeze({url:e})):ae(this,"connection",Object.freeze(yi(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Fl(this,void 0,void 0,function*(){yield JM(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Ki(this.constructor,"getNetwork");try{return r(xe.from(e).toNumber())}catch(n){return bn.throwError("could not detect network",ie.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return bn.throwError("could not detect network",ie.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new pH(ZR,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:su(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=t6(this.connection,JSON.stringify(n),wAe).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ym(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ym(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ym(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ym(r.address),Tr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Ki(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Ki(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ym(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Fl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&xe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=yi(r),r.transaction=yi(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&bn.throwError(e+" not implemented",ie.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return dH(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return JM(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=yi(_Ae);if(r)for(const s in r)r[s]&&(n[s]=!0);Dz(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=TA(xe.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ye(e[s]))}),e.accessList&&(i.accessList=Lg(e.accessList)),i}}let yb=null;try{if(yb=WebSocket,yb==null)throw new Error("inject please")}catch{const e=new ie(Rh);yb=function(){e.throwError("WebSockets not supported in this environment",ie.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var B2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const h1=new ie(Rh);let AAe=1;class NAe extends $A{constructor(e,r){r==="any"&&h1.throwError("WebSocketProvider does not support 'any' network yet",ie.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?ae(this,"_websocket",new yb(this.connection.url)):ae(this,"_websocket",e),ae(this,"_requests",{}),ae(this,"_subs",{}),ae(this,"_subIds",{}),ae(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let f=null;o.error?(f=new Error(o.error.message||"unknown error"),ae(f,"code",o.error.code||null),ae(f,"response",s)):f=new Error("unknown error"),c.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){h1.throwError("cannot reset events block on WebSocketProvider",ie.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){h1.throwError("cannot set polling interval on WebSocketProvider",ie.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return B2(this,void 0,void 0,function*(){return null})}set polling(e){e&&h1.throwError("cannot set polling on WebSocketProvider",ie.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=AAe++;return new Promise((i,s)=>{function o(c,f){return c?s(c):i(f)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return B2(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=xe.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return B2(this,void 0,void 0,function*(){this.websocket.readyState===yb.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var xAe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const Fm=new ie(Rh);class IAe extends $A{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return xAe(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||Fm.throwError("no network detected",ie.errors.UNKNOWN_ERROR,{}),this._network==null&&(ae(this,"_network",r),this.emit("network",r,null))),r})}}class r6 extends IAe{constructor(e,r){Fm.checkAbstract(new.target,r6),e=Ki(new.target,"getNetwork")(e),r=Ki(new.target,"getApiKey")(r);const n=Ki(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?ae(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{ae(this,i,r[i])})}_startPending(){Fm.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Fm.throwError("API provider does not support signing",ie.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return Fm.throwError("not implemented; sub-classes must override getUrl",ie.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Cw=new ie(Rh),$m="84842078b09946638c03157f83405213";class SAe extends NAe{constructor(e,r){const n=new y_(e,r),i=n.connection;i.password&&Cw.throwError("INFURA WebSocket project secrets unsupported",ie.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),ae(this,"apiKey",n.projectId),ae(this,"projectId",n.projectId),ae(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===$m}}class y_ extends r6{static getWebSocketProvider(e,r){return new SAe(e,r)}static getApiKey(e){const r={apiKey:$m,projectId:$m,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(Cw.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Cw.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Cw.throwError("unsupported network",ie.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(s,o)=>(r.projectId===$m&&lAe(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===$m}}const XM=new ie(Rh);let RAe=1;function YM(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:RAe++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:su(s),provider:this}),e(s,(c,f)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:f,provider:this}),f.error){const l=new Error(f.error.message);return l.code=f.error.code,l.data=f.error.data,a(l)}o(f.result)})})}}function TAe(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:su(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class zu extends $A{constructor(e,r){e==null&&XM.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=TAe(e)):e.sendAsync?i=YM(e,e.sendAsync.bind(e)):e.send?i=YM(e,e.send.bind(e)):XM.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ae(this,"jsonRpcFetchFunc",i),ae(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const Ny="abi/5.7.0",Mt=new ie(Ny),Qd={};let ZM={calldata:!0,memory:!0,storage:!0},CAe={calldata:!0,memory:!0};function d1(t,e){if(t==="bytes"||t==="string"){if(ZM[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&CAe[e])return!0;return(ZM[e]||e==="payable")&&Mt.throwArgumentError("invalid modifier","name",e),!1}function OAe(t,e){let r=t;function n(a){Mt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=cp(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),d1(o.type,o.name)&&(o.name=""),o.type=cp(o.type);let f=o;o=o.parent,o||n(a),delete f.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),d1(o.type,o.name)&&(o.name=""),o.type=cp(o.type);let l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&o.type!==""&&(o.type=cp(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):d1(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Mt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):d1(o.type,o.name)&&(o.name=""),s.type=cp(s.type),s}function Ow(t,e){for(let r in e)ae(t,r,e[r])}const kt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),PAe=new RegExp(/^(.*)\[([0-9]*)\]$/);class bi{constructor(e,r){e!==Qd&&Mt.throwError("use fromString",ie.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ow(this,r);let n=this.type.match(PAe);n?Ow(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:bi.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ow(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=kt.sighash),kt[e]||Mt.throwArgumentError("invalid format type","format",e),e===kt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==kt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===kt.full?", ":",")+")"):r+=this.type,e!==kt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===kt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?bi.fromString(e,r):bi.fromObject(e)}static fromObject(e){return bi.isParamType(e)?e:new bi(Qd,{name:e.name||null,type:cp(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(bi.fromObject):null})}static fromString(e,r){function n(i){return bi.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(OAe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function UE(t,e){return MAe(t).map(r=>bi.fromString(r,e))}class qf{constructor(e,r){e!==Qd&&Mt.throwError("use a static from method",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ow(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return qf.isFragment(e)?e:typeof e=="string"?qf.fromString(e):qf.fromObject(e)}static fromObject(e){if(qf.isFragment(e))return e;switch(e.type){case"function":return Kc.fromObject(e);case"event":return Gf.fromObject(e);case"constructor":return Vc.fromObject(e);case"error":return jl.fromObject(e);case"fallback":case"receive":return null}return Mt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Gf.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Kc.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Vc.fromString(e.trim()):e.split(" ")[0]==="error"?jl.fromString(e.substring(5).trim()):Mt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Gf extends qf{format(e){if(e||(e=kt.sighash),kt[e]||Mt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Gf.fromString(e):Gf.fromObject(e)}static fromObject(e){if(Gf.isEventFragment(e))return e;e.type!=="event"&&Mt.throwArgumentError("invalid event object","value",e);const r={name:ME(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(bi.fromObject):[],type:"event"};return new Gf(Qd,r)}static fromString(e){let r=e.match(DE);r||Mt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Mt.warn("unknown modifier: "+i)}}),Gf.fromObject({name:r[1].trim(),anonymous:n,inputs:UE(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function gH(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Mt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Mt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=xe.from(r[1]),r[0]):t}function mH(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function bH(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Mt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Mt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Mt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Mt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Mt.throwArgumentError("unable to determine stateMutability","value",t),e}class Vc extends qf{format(e){if(e||(e=kt.sighash),kt[e]||Mt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===kt.sighash&&Mt.throwError("cannot format a constructor for sighash",ie.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Vc.fromString(e):Vc.fromObject(e)}static fromObject(e){if(Vc.isConstructorFragment(e))return e;e.type!=="constructor"&&Mt.throwArgumentError("invalid constructor object","value",e);let r=bH(e);r.constant&&Mt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(bi.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?xe.from(e.gas):null};return new Vc(Qd,n)}static fromString(e){let r={type:"constructor"};e=gH(e,r);let n=e.match(DE);return(!n||n[1].trim()!=="constructor")&&Mt.throwArgumentError("invalid constructor string","value",e),r.inputs=UE(n[2].trim(),!1),mH(n[3].trim(),r),Vc.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Kc extends Vc{format(e){if(e||(e=kt.sighash),kt[e]||Mt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Kc.fromString(e):Kc.fromObject(e)}static fromObject(e){if(Kc.isFunctionFragment(e))return e;e.type!=="function"&&Mt.throwArgumentError("invalid function object","value",e);let r=bH(e);const n={type:e.type,name:ME(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(bi.fromObject):[],outputs:e.outputs?e.outputs.map(bi.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?xe.from(e.gas):null};return new Kc(Qd,n)}static fromString(e){let r={type:"function"};e=gH(e,r);let n=e.split(" returns ");n.length>2&&Mt.throwArgumentError("invalid function string","value",e);let i=n[0].match(DE);if(i||Mt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ME(r.name),r.inputs=UE(i[2],!1),mH(i[3].trim(),r),n.length>1){let s=n[1].match(DE);(s[1].trim()!=""||s[3].trim()!="")&&Mt.throwArgumentError("unexpected tokens","value",e),r.outputs=UE(s[2],!1)}else r.outputs=[];return Kc.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function QM(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Mt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class jl extends qf{format(e){if(e||(e=kt.sighash),kt[e]||Mt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?jl.fromString(e):jl.fromObject(e)}static fromObject(e){if(jl.isErrorFragment(e))return e;e.type!=="error"&&Mt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ME(e.name),inputs:e.inputs?e.inputs.map(bi.fromObject):[]};return QM(new jl(Qd,r))}static fromString(e){let r={type:"error"},n=e.match(DE);return n||Mt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ME(r.name),r.inputs=UE(n[2],!1),QM(jl.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function cp(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const UAe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ME(t){return(!t||!t.match(UAe))&&Mt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const DE=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function MAe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Mt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const n6=new ie(Ny);function DAe(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class du{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){n6.throwArgumentError(e,this.localName,r)}}class QR{constructor(e){ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Cs(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Lr(e._data))}writeBytes(e){let r=me(e);const n=r.length%this.wordSize;return n&&(r=Lr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=me(xe.from(e));return r.length>this.wordSize&&n6.throwError("value out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Lr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class w_{constructor(e,r,n,i){ae(this,"_data",me(e)),ae(this,"wordSize",r||32),ae(this,"_coerceFunc",n),ae(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):w_.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:n6.throwError("data out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new w_(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return xe.from(this.readBytes(this.wordSize))}}class kAe extends du{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Xt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Xt(Tr(e.readValue().toHexString(),20))}}class LAe extends du{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const yp=new ie(Ny);function EH(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(f=>{const l=f.localName;return l||yp.throwError("cannot encode object for signature with missing names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]&&yp.throwError("cannot encode object for signature with duplicate names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:r}),c[l]=!0,r[l]})}else yp.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&yp.throwArgumentError("types/value length mismatch","tuple",r);let i=new QR(t.wordSize),s=new QR(t.wordSize),o=[];e.forEach((c,f)=>{let l=n[f];if(c.dynamic){let u=s.length;c.encode(s,l);let h=i.writeUpdatableValue();o.push(g=>{h(g+u)})}else c.encode(i,l)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function yH(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(f){if(f.code===ie.errors.BUFFER_OVERRUN)throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===ie.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class FAe extends du{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),yp.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return EH(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&yp.throwError("insufficient data length",ie.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new LAe(this.coder));return e.coerce(this.name,yH(e,n))}}class $Ae extends du{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class wH extends du{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=me(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class BAe extends wH{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}}class GAe extends du{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=me(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}}class jAe extends du{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class zAe extends du{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=xe.from(r),i=F_e.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(L_e).mul(k_e)))&&this._throwError("value out-of-bounds",r)}else(n.lt(oH)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class WAe extends wH{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,nn(r))}decode(e){return Mg(super.decode(e))}}class p1 extends du{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return EH(e,this.coders,r)}decode(e){return e.coerce(this.name,yH(e,this.coders))}}const g1=new ie(Ny),HAe=new RegExp(/^bytes([0-9]*)$/),qAe=new RegExp(/^(u?int)([0-9]*)$/);class vH{constructor(e){ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new kAe(e.name);case"bool":return new $Ae(e.name);case"string":return new WAe(e.name);case"bytes":return new BAe(e.name);case"array":return new FAe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new p1((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new jAe(e.name)}let r=e.type.match(qAe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&g1.throwArgumentError("invalid "+r[1]+" bit length","param",e),new zAe(n/8,r[1]==="int",e.name)}if(r=e.type.match(HAe),r){let n=parseInt(r[1]);return(n===0||n>32)&&g1.throwArgumentError("invalid bytes length","param",e),new GAe(n,e.name)}return g1.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new w_(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new QR(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(bi.from(i)));return new p1(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&g1.throwError("types/values length mismatch",ie.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(bi.from(o))),i=new p1(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(bi.from(o)));return new p1(i,"_").decode(this._getReader(me(r),n))}}const _H=new vH,Wr=new ie(Ny);class AH extends Oo{}class NH extends Oo{}class VAe extends Oo{}class e3 extends Oo{static isIndexed(e){return!!(e&&e._isIndexed)}}const KAe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function e7(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class JAe{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ae(this,"fragments",r.map(n=>qf.from(n)).filter(n=>n!=null)),ae(this,"_abiCoder",Ki(new.target,"getAbiCoder")()),ae(this,"functions",{}),ae(this,"errors",{}),ae(this,"events",{}),ae(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Wr.warn("duplicate definition - constructor");return}ae(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Wr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ae(this,"deploy",Vc.from({payable:!1,type:"constructor"})),ae(this,"_isInterface",!0)}format(e){e||(e=kt.full),e===kt.sighash&&Wr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===kt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return _H}static getAddress(e){return Xt(e)}static getSighash(e){return ln(Zc(e.format()),0,4)}static getEventTopic(e){return Zc(e.format())}getFunction(e){if(Pt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Wr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Wr.throwArgumentError("no matching function","name",n):i.length>1&&Wr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Kc.fromString(e).format()];return r||Wr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Pt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Wr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Wr.throwArgumentError("no matching event","name",n):i.length>1&&Wr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Gf.fromString(e).format()];return r||Wr.throwArgumentError("no matching event","signature",e),r}getError(e){if(Pt(e)){const n=Ki(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Wr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Wr.throwArgumentError("no matching error","name",n):i.length>1&&Wr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Kc.fromString(e).format()];return r||Wr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Ki(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ki(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=me(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Wr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(Lr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=me(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Wr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(Lr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=me(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=ye(n.slice(0,4)),l=KAe[f];if(l)o=this._abiCoder.decode(l.inputs,n.slice(4)),a=l.name,c=l.signature,l.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const u=this.getError(f);o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.format()}catch{}break}}return Wr.throwError("call revert exception"+s,ie.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Wr.throwError("too many arguments for "+e.format(),ie.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Zc(o):s.type==="bytes"?Ht(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=xe.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Tr(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Wr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Wr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Wr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Zc(c));else if(o.type==="bytes")n.push(Ht(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Pt(n[0],32)||n[0].toLowerCase()!==h)&&Wr.throwError("fragment/topic mismatch",ie.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(bi.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Lr(n)):null,c=this._abiCoder.decode(s,r,!0),f=[],l=0,u=0;e.inputs.forEach((h,g)=>{if(h.indexed)if(a==null)f[g]=new e3({_isIndexed:!0,hash:null});else if(o[g])f[g]=new e3({_isIndexed:!0,hash:a[u++]});else try{f[g]=a[u++]}catch(m){f[g]=m}else try{f[g]=c[l++]}catch(m){f[g]=m}if(h.name&&f[h.name]==null){const m=f[g];m instanceof Error?Object.defineProperty(f,h.name,{enumerable:!0,get:()=>{throw e7(`property ${JSON.stringify(h.name)}`,m)}}):f[h.name]=m}});for(let h=0;h<f.length;h++){const g=f[h];g instanceof Error&&Object.defineProperty(f,h,{enumerable:!0,get:()=>{throw e7(`index ${h}`,g)}})}return Object.freeze(f)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new NH({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:xe.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new AH({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new VAe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const XAe=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:vH,ConstructorFragment:Vc,ErrorFragment:jl,EventFragment:Gf,FormatTypes:kt,Fragment:qf,FunctionFragment:Kc,Indexed:e3,Interface:JAe,LogDescription:AH,ParamType:bi,TransactionDescription:NH,checkResultErrors:DAe,defaultAbiCoder:_H},Symbol.toStringTag,{value:"Module"})),YAe="logger/5.8.0";let t7=!1,r7=!1;const Pw={debug:1,default:2,info:2,warning:3,error:4,off:5};let n7=Pw.default,G2=null;function ZAe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const i7=ZAe();var t3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(t3||(t3={}));var _c;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(_c||(_c={}));const s7="0123456789abcdef";let i6=class qn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Pw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(n7>Pw[n])&&console.log.apply(console,r)}debug(...e){this._log(qn.levels.DEBUG,e)}info(...e){this._log(qn.levels.INFO,e)}warn(...e){this._log(qn.levels.WARNING,e)}makeError(e,r,n){if(r7)return this.makeError("censored error",r,{});r||(r=qn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=s7[f[u]>>4],l+=s7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case _c.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case _c.CALL_EXCEPTION:case _c.INSUFFICIENT_FUNDS:case _c.MISSING_NEW:case _c.NONCE_EXPIRED:case _c.REPLACEMENT_UNDERPRICED:case _c.TRANSACTION_REPLACED:case _c.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,qn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){i7&&this.throwError("platform missing String.prototype.normalize",qn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:i7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,qn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,qn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,qn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,qn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",qn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",qn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",qn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return G2||(G2=new qn(YAe)),G2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",qn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),t7){if(!e)return;this.globalLogger().throwError("error censorship permanent",qn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}r7=!!e,t7=!!r}static setLogLevel(e){const r=Pw[e.toLowerCase()];if(r==null){qn.globalLogger().warn("invalid log level - "+e);return}n7=r}static from(e){return new qn(e)}};i6.errors=_c;i6.levels=t3;const QAe="bytes/5.8.0",j2=new i6(QAe);function eNe(t){return!!t.toHexString}function Uw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Uw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function o7(t){return typeof t=="number"&&t==t&&t%1===0}function tNe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!o7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!o7(r)||r<0||r>=256)return!1}return!0}function rNe(t,e){if(e||(e={}),typeof t=="number"){j2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Uw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),eNe(t)&&(t=t.toHexString()),nNe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":j2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Uw(new Uint8Array(n))}return tNe(t)?Uw(new Uint8Array(t)):j2.throwArgumentError("invalid arrayify value","value",t)}function nNe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function s6(t){return"0x"+Ug.keccak_256(rNe(t))}const iNe="logger/5.8.0";let a7=!1,c7=!1;const Mw={debug:1,default:2,info:2,warning:3,error:4,off:5};let f7=Mw.default,z2=null;function sNe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const l7=sNe();var r3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(r3||(r3={}));var Ac;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ac||(Ac={}));const u7="0123456789abcdef";let BA=class Vn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Mw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(f7>Mw[n])&&console.log.apply(console,r)}debug(...e){this._log(Vn.levels.DEBUG,e)}info(...e){this._log(Vn.levels.INFO,e)}warn(...e){this._log(Vn.levels.WARNING,e)}makeError(e,r,n){if(c7)return this.makeError("censored error",r,{});r||(r=Vn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=u7[f[u]>>4],l+=u7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ac.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ac.CALL_EXCEPTION:case Ac.INSUFFICIENT_FUNDS:case Ac.MISSING_NEW:case Ac.NONCE_EXPIRED:case Ac.REPLACEMENT_UNDERPRICED:case Ac.TRANSACTION_REPLACED:case Ac.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Vn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){l7&&this.throwError("platform missing String.prototype.normalize",Vn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Vn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Vn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Vn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Vn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Vn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return z2||(z2=new Vn(iNe)),z2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c7=!!e,a7=!!r}static setLogLevel(e){const r=Mw[e.toLowerCase()];if(r==null){Vn.globalLogger().warn("invalid log level - "+e);return}f7=r}static from(e){return new Vn(e)}};BA.errors=Ac;BA.levels=r3;const oNe="bytes/5.8.0",Bp=new BA(oNe);function xH(t){return!!t.toHexString}function Dw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Dw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function aNe(t){return a6(t)&&!(t.length%2)||o6(t)}function h7(t){return typeof t=="number"&&t==t&&t%1===0}function o6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!h7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!h7(r)||r<0||r>=256)return!1}return!0}function cNe(t,e){if(e||(e={}),typeof t=="number"){Bp.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Dw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),xH(t)&&(t=t.toHexString()),a6(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Bp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Dw(new Uint8Array(n))}return o6(t)?Dw(new Uint8Array(t)):Bp.throwArgumentError("invalid arrayify value","value",t)}function a6(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const W2="0123456789abcdef";function fNe(t,e){if(e||(e={}),typeof t=="number"){Bp.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=W2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),xH(t))return t.toHexString();if(a6(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Bp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(o6(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=W2[(i&240)>>4]+W2[i&15]}return r}return Bp.throwArgumentError("invalid hexlify value","value",t)}const lNe="rlp/5.8.0",uNe=new BA(lNe);function d7(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function IH(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(IH(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=d7(n.length);return i.unshift(247+i.length),i.concat(n)}aNe(t)||uNe.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(cNe(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=d7(e.length);return r.unshift(183+r.length),r.concat(e)}function hNe(t){return fNe(IH(t))}const dNe="address/5.7.0",Ju=new ie(dNe);function p7(t){Pt(t,20)||Ju.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=me(s6(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const pNe=9007199254740991;function gNe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const c6={};for(let t=0;t<10;t++)c6[String(t)]=String(t);for(let t=0;t<26;t++)c6[String.fromCharCode(65+t)]=String(10+t);const g7=Math.floor(gNe(pNe));function SH(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>c6[n]).join("");for(;e.length>=g7;){let n=e.substring(0,g7);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function e0(t){let e=null;if(typeof t!="string"&&Ju.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=p7(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ju.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==SH(t)&&Ju.throwArgumentError("bad icap checksum","address",t),e=Mwe(t.substring(4));e.length<40;)e="0"+e;e=p7("0x"+e)}else Ju.throwArgumentError("invalid address","address",t);return e}function mNe(t){try{return e0(t),!0}catch{}return!1}function bNe(t){let e=Dwe(e0(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+SH("XE00"+e)+e}function ENe(t){let e=null;try{e=e0(t.from)}catch{Ju.throwArgumentError("missing from address","transaction",t)}const r=tl(me(xe.from(t.nonce).toHexString()));return e0(ln(s6(hNe([e,r])),12))}function yNe(t,e,r){return ul(e)!==32&&Ju.throwArgumentError("salt must be 32 bytes","salt",e),ul(r)!==32&&Ju.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),e0(ln(s6(Lr(["0xff",e0(t),e,r])),12))}const wNe=Object.freeze(Object.defineProperty({__proto__:null,getAddress:e0,getContractAddress:ENe,getCreate2Address:yNe,getIcapAddress:bNe,isAddress:mNe},Symbol.toStringTag,{value:"Module"}));function vNe(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return me(e)}function _Ne(t){t=me(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const ANe=Object.freeze(Object.defineProperty({__proto__:null,decode:vNe,encode:_Ne},Symbol.toStringTag,{value:"Module"}));globalThis&&globalThis.__awaiter;function m1(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}let f6=class{constructor(e){m1(this,"alphabet",e),m1(this,"base",e.length),m1(this,"_alphabetMap",{}),m1(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=me(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return me(new Uint8Array(r.reverse()))}};const NNe=new f6("abcdefghijklmnopqrstuvwxyz234567"),xNe=new f6("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),INe=Object.freeze(Object.defineProperty({__proto__:null,Base32:NNe,Base58:xNe,BaseX:f6},Symbol.toStringTag,{value:"Module"})),SNe="logger/5.8.0";let m7=!1,b7=!1;const kw={debug:1,default:2,info:2,warning:3,error:4,off:5};let E7=kw.default,H2=null;function RNe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const y7=RNe();var n3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(n3||(n3={}));var Nc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Nc||(Nc={}));const w7="0123456789abcdef";let l6=class Kn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();kw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E7>kw[n])&&console.log.apply(console,r)}debug(...e){this._log(Kn.levels.DEBUG,e)}info(...e){this._log(Kn.levels.INFO,e)}warn(...e){this._log(Kn.levels.WARNING,e)}makeError(e,r,n){if(b7)return this.makeError("censored error",r,{});r||(r=Kn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=w7[f[u]>>4],l+=w7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Nc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Nc.CALL_EXCEPTION:case Nc.INSUFFICIENT_FUNDS:case Nc.MISSING_NEW:case Nc.NONCE_EXPIRED:case Nc.REPLACEMENT_UNDERPRICED:case Nc.TRANSACTION_REPLACED:case Nc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Kn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){y7&&this.throwError("platform missing String.prototype.normalize",Kn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:y7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Kn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Kn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Kn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Kn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Kn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return H2||(H2=new Kn(SNe)),H2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),m7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}b7=!!e,m7=!!r}static setLogLevel(e){const r=kw[e.toLowerCase()];if(r==null){Kn.globalLogger().warn("invalid log level - "+e);return}E7=r}static from(e){return new Kn(e)}};l6.errors=Nc;l6.levels=n3;const TNe="bytes/5.8.0",q2=new l6(TNe);function CNe(t){return!!t.toHexString}function Lw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Lw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function v7(t){return typeof t=="number"&&t==t&&t%1===0}function ONe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!v7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!v7(r)||r<0||r>=256)return!1}return!0}function PNe(t,e){if(e||(e={}),typeof t=="number"){q2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Lw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),CNe(t)&&(t=t.toHexString()),UNe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":q2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Lw(new Uint8Array(n))}return ONe(t)?Lw(new Uint8Array(t)):q2.throwArgumentError("invalid arrayify value","value",t)}function UNe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Jc(t){return"0x"+Ug.keccak_256(PNe(t))}const MNe="logger/5.8.0";let _7=!1,A7=!1;const Fw={debug:1,default:2,info:2,warning:3,error:4,off:5};let N7=Fw.default,V2=null;function DNe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const x7=DNe();var i3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(i3||(i3={}));var xc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xc||(xc={}));const I7="0123456789abcdef";let GA=class Jn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Fw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(N7>Fw[n])&&console.log.apply(console,r)}debug(...e){this._log(Jn.levels.DEBUG,e)}info(...e){this._log(Jn.levels.INFO,e)}warn(...e){this._log(Jn.levels.WARNING,e)}makeError(e,r,n){if(A7)return this.makeError("censored error",r,{});r||(r=Jn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=I7[f[u]>>4],l+=I7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xc.CALL_EXCEPTION:case xc.INSUFFICIENT_FUNDS:case xc.MISSING_NEW:case xc.NONCE_EXPIRED:case xc.REPLACEMENT_UNDERPRICED:case xc.TRANSACTION_REPLACED:case xc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Jn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){x7&&this.throwError("platform missing String.prototype.normalize",Jn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:x7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Jn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Jn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Jn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Jn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Jn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Jn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Jn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return V2||(V2=new Jn(MNe)),V2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Jn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Jn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}A7=!!e,_7=!!r}static setLogLevel(e){const r=Fw[e.toLowerCase()];if(r==null){Jn.globalLogger().warn("invalid log level - "+e);return}N7=r}static from(e){return new Jn(e)}};GA.errors=xc;GA.levels=i3;const kNe="bytes/5.8.0",K2=new GA(kNe);function LNe(t){return!!t.toHexString}function $w(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return $w(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function S7(t){return typeof t=="number"&&t==t&&t%1===0}function FNe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!S7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!S7(r)||r<0||r>=256)return!1}return!0}function RH(t,e){if(e||(e={}),typeof t=="number"){K2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),$w(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),LNe(t)&&(t=t.toHexString()),$Ne(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":K2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return $w(new Uint8Array(n))}return FNe(t)?$w(new Uint8Array(t)):K2.throwArgumentError("invalid arrayify value","value",t)}function $Ne(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const BNe="strings/5.8.0",TH=new GA(BNe);var kE;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(kE||(kE={}));var _o;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(_o||(_o={}));function GNe(t,e,r,n,i){return TH.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function CH(t,e,r,n,i){if(t===_o.BAD_PREFIX||t===_o.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===_o.OVERRUN?r.length-e-1:0}function jNe(t,e,r,n,i){return t===_o.OVERLONG?(n.push(i),0):(n.push(65533),CH(t,e,r))}const zNe=Object.freeze({error:GNe,ignore:CH,replace:jNe});function OH(t,e){e==null&&(e=zNe.error),t=RH(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(_o.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(_o.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(_o.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let f=t[n];if((f&192)!=128){n+=e(_o.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e(_o.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(_o.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(_o.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Gp(t,e=kE.current){e!=kE.current&&(TH.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return RH(r)}function WNe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function HNe(t,e){return WNe(OH(t,e))}function qNe(t,e=kE.current){return OH(Gp(t,e))}function u6(t){return Jc(Gp(t))}const PH="hash/5.7.0",VNe="logger/5.8.0";let R7=!1,T7=!1;const Bw={debug:1,default:2,info:2,warning:3,error:4,off:5};let C7=Bw.default,J2=null;function KNe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const O7=KNe();var s3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(s3||(s3={}));var Ic;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ic||(Ic={}));const P7="0123456789abcdef";let h6=class Xn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Bw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(C7>Bw[n])&&console.log.apply(console,r)}debug(...e){this._log(Xn.levels.DEBUG,e)}info(...e){this._log(Xn.levels.INFO,e)}warn(...e){this._log(Xn.levels.WARNING,e)}makeError(e,r,n){if(T7)return this.makeError("censored error",r,{});r||(r=Xn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=P7[f[u]>>4],l+=P7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ic.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ic.CALL_EXCEPTION:case Ic.INSUFFICIENT_FUNDS:case Ic.MISSING_NEW:case Ic.NONCE_EXPIRED:case Ic.REPLACEMENT_UNDERPRICED:case Ic.TRANSACTION_REPLACED:case Ic.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Xn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){O7&&this.throwError("platform missing String.prototype.normalize",Xn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:O7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Xn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Xn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Xn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Xn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Xn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return J2||(J2=new Xn(VNe)),J2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),R7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}T7=!!e,R7=!!r}static setLogLevel(e){const r=Bw[e.toLowerCase()];if(r==null){Xn.globalLogger().warn("invalid log level - "+e);return}C7=r}static from(e){return new Xn(e)}};h6.errors=Ic;h6.levels=s3;const JNe="bytes/5.8.0",X2=new h6(JNe);function XNe(t){return!!t.toHexString}function Gw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function U7(t){return typeof t=="number"&&t==t&&t%1===0}function YNe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!U7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!U7(r)||r<0||r>=256)return!1}return!0}function ZNe(t,e){if(e||(e={}),typeof t=="number"){X2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Gw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),XNe(t)&&(t=t.toHexString()),QNe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":X2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Gw(new Uint8Array(n))}return YNe(t)?Gw(new Uint8Array(t)):X2.throwArgumentError("invalid arrayify value","value",t)}function QNe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function exe(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ZNe(e)}function UH(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function txe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function rxe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let L=1;L<n;L++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,f=0;function l(){return c==0&&(f=f<<8|t[e++],c=8),f>>--c&1}const u=31,h=Math.pow(2,u),g=h>>>1,m=g>>1,w=h-1;let N=0;for(let L=0;L<u;L++)N=N<<1|l();let I=[],C=0,M=h;for(;;){let L=Math.floor(((N-C+1)*i-1)/M),$=0,V=n;for(;V-$>1;){let F=$+V>>>1;L<s[F]?V=F:$=F}if($==0)break;I.push($);let P=C+Math.floor(M*s[$]/i),O=C+Math.floor(M*s[$+1]/i)-1;for(;!((P^O)&g);)N=N<<1&w|l(),P=P<<1&w,O=O<<1&w|1;for(;P&~O&m;)N=N&g|N<<1&w>>>1|l(),P=P<<1^g,O=(O^g)<<1|g|1;C=P,M=1+O-P}let k=n-4;return I.map(L=>{switch(L-k){case 3:return k+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return k+256+(t[a++]<<8|t[a++]);case 1:return k+t[a++];default:return L-1}})}function nxe(t){let e=0;return()=>t[e++]}function ixe(t){return nxe(rxe(t))}function sxe(t){return t&1?~t>>1:t>>1}function oxe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function M7(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function axe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=sxe(e());return r}function v_(t,e){let r=M7(t(),t),n=t(),i=M7(n,t),s=oxe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function cxe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(lxe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(uxe(r,t))}return txe(UH(e))}function fxe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function MH(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)axe(t,r).forEach((s,o)=>n[o].push(s));return n}function lxe(t,e){let r=1+e(),n=e(),i=fxe(e),s=MH(i.length,1+t,e);return UH(s.map((o,a)=>{const c=o[0],f=o.slice(1);return Array(i[a]).fill(void 0).map((l,u)=>{let h=u*n;return[c+u*r,f.map(g=>g+h)]})}))}function uxe(t,e){let r=1+e();return MH(r,1+t,e).map(i=>[i[0],i.slice(1)])}function hxe(t){let e=v_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let f=v_(t,e);if(f.length==0)break;n.push({set:new Set(f),node:r()})}n.sort((f,l)=>l.set.size-f.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function dxe(){return ixe(exe("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const jA=dxe(),pxe=new Set(v_(jA)),gxe=new Set(v_(jA)),mxe=cxe(jA),bxe=hxe(jA),D7=45,k7=95;function DH(t){return qNe(t)}function Exe(t){return t.filter(e=>e!=65039)}function kH(t){for(let e of t.split(".")){let r=DH(e);try{for(let n=r.lastIndexOf(k7)-1;n>=0;n--)if(r[n]!==k7)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===D7&&r[3]===D7)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function yxe(t){return kH(wxe(t,Exe))}function wxe(t,e){let r=DH(t).reverse(),n=[];for(;r.length;){let i=_xe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(pxe.has(s)){n.push(s);continue}if(gxe.has(s))continue;let o=mxe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return kH(vxe(String.fromCodePoint(...n)))}function vxe(t){return t.normalize("NFC")}function _xe(t,e){var r;let n=bxe,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=(r=n.branches.find(f=>f.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const Axe=new ie(PH),LH=new Uint8Array(32);LH.fill(0);function L7(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function zA(t){const e=Gp(yxe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(L7(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(L7(e.slice(n))),r}function Nxe(t){return zA(t).map(e=>HNe(e)).join(".")}function xxe(t){try{return zA(t).length!==0}catch{}return!1}function Ixe(t){typeof t!="string"&&Axe.throwArgumentError("invalid ENS name; not a string","name",t);let e=LH;const r=zA(t);for(;r.length;)e=Jc(Lr([e,Jc(r.pop())]));return ye(e)}function Sxe(t){return ye(Lr(zA(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const FH=`Ethereum Signed Message:
`;function Rxe(t){return typeof t=="string"&&(t=Gp(t)),Jc(Lr([Gp(FH),Gp(String(t.length)),t]))}const Txe="logger/5.8.0";let F7=!1,$7=!1;const jw={debug:1,default:2,info:2,warning:3,error:4,off:5};let B7=jw.default,Y2=null;function Cxe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const G7=Cxe();var o3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(o3||(o3={}));var Sc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Sc||(Sc={}));const j7="0123456789abcdef";let WA=class Yn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();jw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(B7>jw[n])&&console.log.apply(console,r)}debug(...e){this._log(Yn.levels.DEBUG,e)}info(...e){this._log(Yn.levels.INFO,e)}warn(...e){this._log(Yn.levels.WARNING,e)}makeError(e,r,n){if($7)return this.makeError("censored error",r,{});r||(r=Yn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=j7[f[u]>>4],l+=j7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Sc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sc.CALL_EXCEPTION:case Sc.INSUFFICIENT_FUNDS:case Sc.MISSING_NEW:case Sc.NONCE_EXPIRED:case Sc.REPLACEMENT_UNDERPRICED:case Sc.TRANSACTION_REPLACED:case Sc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Yn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){G7&&this.throwError("platform missing String.prototype.normalize",Yn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:G7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Yn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Yn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Yn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Yn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Yn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Yn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Yn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Y2||(Y2=new Yn(Txe)),Y2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Yn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),F7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Yn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$7=!!e,F7=!!r}static setLogLevel(e){const r=jw[e.toLowerCase()];if(r==null){Yn.globalLogger().warn("invalid log level - "+e);return}B7=r}static from(e){return new Yn(e)}};WA.errors=Sc;WA.levels=o3;const Oxe="bytes/5.8.0",Z2=new WA(Oxe);function Pxe(t){return!!t.toHexString}function zw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return zw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function z7(t){return typeof t=="number"&&t==t&&t%1===0}function Uxe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!z7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!z7(r)||r<0||r>=256)return!1}return!0}function Mxe(t,e){if(e||(e={}),typeof t=="number"){Z2.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),zw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Pxe(t)&&(t=t.toHexString()),$H(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Z2.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return zw(new Uint8Array(n))}return Uxe(t)?zw(new Uint8Array(t)):Z2.throwArgumentError("invalid arrayify value","value",t)}function $H(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var Dxe=te.BN;function kxe(t){return new Dxe(t,36).toString(16)}const Lxe="address/5.8.0",Bm=new WA(Lxe);function W7(t){$H(t,20)||Bm.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Mxe(Jc(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Fxe=9007199254740991;function $xe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const d6={};for(let t=0;t<10;t++)d6[String(t)]=String(t);for(let t=0;t<26;t++)d6[String.fromCharCode(65+t)]=String(10+t);const H7=Math.floor($xe(Fxe));function Bxe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>d6[n]).join("");for(;e.length>=H7;){let n=e.substring(0,H7);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function BH(t){let e=null;if(typeof t!="string"&&Bm.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=W7(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Bm.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Bxe(t)&&Bm.throwArgumentError("bad icap checksum","address",t),e=kxe(t.substring(4));e.length<40;)e="0"+e;e=W7("0x"+e)}else Bm.throwArgumentError("invalid address","address",t);return e}const Gxe="logger/5.8.0";let q7=!1,V7=!1;const Ww={debug:1,default:2,info:2,warning:3,error:4,off:5};let K7=Ww.default,Q2=null;function jxe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const J7=jxe();var a3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(a3||(a3={}));var Rc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Rc||(Rc={}));const X7="0123456789abcdef";let p6=class Zn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Ww[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(K7>Ww[n])&&console.log.apply(console,r)}debug(...e){this._log(Zn.levels.DEBUG,e)}info(...e){this._log(Zn.levels.INFO,e)}warn(...e){this._log(Zn.levels.WARNING,e)}makeError(e,r,n){if(V7)return this.makeError("censored error",r,{});r||(r=Zn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=X7[f[u]>>4],l+=X7[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Rc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Rc.CALL_EXCEPTION:case Rc.INSUFFICIENT_FUNDS:case Rc.MISSING_NEW:case Rc.NONCE_EXPIRED:case Rc.REPLACEMENT_UNDERPRICED:case Rc.TRANSACTION_REPLACED:case Rc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Zn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){J7&&this.throwError("platform missing String.prototype.normalize",Zn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:J7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Zn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Zn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Zn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Zn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Zn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Zn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Zn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Q2||(Q2=new Zn(Gxe)),Q2}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Zn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),q7){if(!e)return;this.globalLogger().throwError("error censorship permanent",Zn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}V7=!!e,q7=!!r}static setLogLevel(e){const r=Ww[e.toLowerCase()];if(r==null){Zn.globalLogger().warn("invalid log level - "+e);return}K7=r}static from(e){return new Zn(e)}};p6.errors=Rc;p6.levels=a3;const zxe="properties/5.8.0";globalThis&&globalThis.__awaiter;const GH=new p6(zxe);function Gm(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Y7(t){const e={};for(const r in t)e[r]=t[r];return e}const Wxe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function jH(t){if(t==null||Wxe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!jH(n))return!1}return!0}return GH.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Hxe(t){if(jH(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>c3(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Gm(e,r,c3(n))}return e}return GH.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function c3(t){return Hxe(t)}var qxe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const Kr=new ie(PH),zH=new Uint8Array(32);zH.fill(0);const Vxe=xe.from(-1),WH=xe.from(0),HH=xe.from(1),Kxe=xe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Jxe(t){const e=me(t),r=e.length%32;return r?Cs([e,zH.slice(r)]):ye(e)}const Xxe=Tr(HH.toHexString(),32),Yxe=Tr(WH.toHexString(),32),Z7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},eI=["name","version","chainId","verifyingContract","salt"];function Q7(t){return function(e){return typeof e!="string"&&Kr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Zxe={name:Q7("name"),version:Q7("version"),chainId:function(t){try{return xe.from(t).toString()}catch{}return Kr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return BH(t).toLowerCase()}catch{}return Kr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=me(t);if(e.length!==32)throw new Error("bad length");return ye(e)}catch{}return Kr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function tI(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Kr.throwArgumentError("invalid numeric width","type",t);const i=Kxe.mask(r?n-1:n),s=r?i.add(HH).mul(Vxe):WH;return function(o){const a=xe.from(o);return(a.lt(s)||a.gt(i))&&Kr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Tr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Kr.throwArgumentError("invalid bytes width","type",t),function(n){return me(n).length!==r&&Kr.throwArgumentError(`invalid length for ${t}`,"value",n),Jxe(n)}}}switch(t){case"address":return function(e){return Tr(BH(e),32)};case"bool":return function(e){return e?Xxe:Yxe};case"bytes":return function(e){return Jc(e)};case"string":return function(e){return u6(e)}}return null}function eD(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class sa{constructor(e){Gm(this,"types",Object.freeze(c3(e))),Gm(this,"_encoderCache",{}),Gm(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(f=>{c[f.name]&&Kr.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),c[f.name]=!0;const l=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&Kr.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!tI(l)&&(n[l]||Kr.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),r[a][l]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Kr.throwArgumentError("missing primary type","types",e):s.length>1&&Kr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Gm(this,"primaryType",s[0]);function o(a,c){c[a]&&Kr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(f=>{n[f]&&(o(f,c),Object.keys(c).forEach(l=>{i[l][f]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=eD(a,e[a])+c.map(f=>eD(f,e[f])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=tI(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Kr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Jc)),Jc(Cs(c))}}const n=this.types[e];if(n){const i=u6(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const f=this.getEncoder(c)(s[a]);return this._types[c]?Jc(f):f});return o.unshift(i),Cs(o)}}return Kr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Kr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Jc(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(tI(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Kr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Kr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new sa(e)}static getPrimaryType(e){return sa.from(e).primaryType}static hashStruct(e,r,n){return sa.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Z7[n];i||Kr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>eI.indexOf(n.name)-eI.indexOf(i.name)),sa.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Cs(["0x1901",sa.hashDomain(e),sa.from(r).hash(n)])}static hash(e,r,n){return Jc(sa.encode(e,r,n))}static resolveNames(e,r,n,i){return qxe(this,void 0,void 0,function*(){e=Y7(e);const s={};e.verifyingContract&&!Pt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=sa.from(r);o.visit(n,(a,c)=>(a==="address"&&!Pt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){sa.hashDomain(e);const i={},s=[];eI.forEach(c=>{const f=e[c];f!=null&&(i[c]=Zxe[c](f),s.push({name:c,type:Z7[c]}))});const o=sa.from(r),a=Y7(r);return a.EIP712Domain?Kr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return ye(me(f));if(c.match(/^u?int/))return xe.from(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&Kr.throwArgumentError("invalid string","value",f),f}return Kr.throwArgumentError("unsupported type","type",c)})}}}const Qxe=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:sa,dnsEncode:Sxe,ensNormalize:Nxe,hashMessage:Rxe,id:u6,isValidName:xxe,messagePrefix:FH,namehash:Ixe},Symbol.toStringTag,{value:"Module"})),e2e="logger/5.8.0";let tD=!1,rD=!1;const Hw={debug:1,default:2,info:2,warning:3,error:4,off:5};let nD=Hw.default,rI=null;function t2e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const iD=t2e();var f3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(f3||(f3={}));var Tc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Tc||(Tc={}));const sD="0123456789abcdef";let g6=class Qn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Hw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(nD>Hw[n])&&console.log.apply(console,r)}debug(...e){this._log(Qn.levels.DEBUG,e)}info(...e){this._log(Qn.levels.INFO,e)}warn(...e){this._log(Qn.levels.WARNING,e)}makeError(e,r,n){if(rD)return this.makeError("censored error",r,{});r||(r=Qn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=sD[f[u]>>4],l+=sD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Tc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Tc.CALL_EXCEPTION:case Tc.INSUFFICIENT_FUNDS:case Tc.MISSING_NEW:case Tc.NONCE_EXPIRED:case Tc.REPLACEMENT_UNDERPRICED:case Tc.TRANSACTION_REPLACED:case Tc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Qn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){iD&&this.throwError("platform missing String.prototype.normalize",Qn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:iD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Qn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Qn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Qn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Qn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Qn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Qn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Qn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return rI||(rI=new Qn(e2e)),rI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Qn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),tD){if(!e)return;this.globalLogger().throwError("error censorship permanent",Qn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rD=!!e,tD=!!r}static setLogLevel(e){const r=Hw[e.toLowerCase()];if(r==null){Qn.globalLogger().warn("invalid log level - "+e);return}nD=r}static from(e){return new Qn(e)}};g6.errors=Tc;g6.levels=f3;const r2e="bytes/5.8.0",nI=new g6(r2e);function n2e(t){return!!t.toHexString}function qw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return qw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function oD(t){return typeof t=="number"&&t==t&&t%1===0}function i2e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!oD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!oD(r)||r<0||r>=256)return!1}return!0}function aD(t,e){if(e||(e={}),typeof t=="number"){nI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),qw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),n2e(t)&&(t=t.toHexString()),s2e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":nI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return qw(new Uint8Array(n))}return i2e(t)?qw(new Uint8Array(t)):nI.throwArgumentError("invalid arrayify value","value",t)}function s2e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}globalThis&&globalThis.__awaiter;function Ur(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class qH{constructor(e){Ur(this,"alphabet",e),Ur(this,"base",e.length),Ur(this,"_alphabetMap",{}),Ur(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=aD(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return aD(new Uint8Array(r.reverse()))}}new qH("abcdefghijklmnopqrstuvwxyz234567");const VH=new qH("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),o2e="logger/5.8.0";let cD=!1,fD=!1;const Vw={debug:1,default:2,info:2,warning:3,error:4,off:5};let lD=Vw.default,iI=null;function a2e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const uD=a2e();var l3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(l3||(l3={}));var Cc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Cc||(Cc={}));const hD="0123456789abcdef";let HA=class ei{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Vw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(lD>Vw[n])&&console.log.apply(console,r)}debug(...e){this._log(ei.levels.DEBUG,e)}info(...e){this._log(ei.levels.INFO,e)}warn(...e){this._log(ei.levels.WARNING,e)}makeError(e,r,n){if(fD)return this.makeError("censored error",r,{});r||(r=ei.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=hD[f[u]>>4],l+=hD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Cc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Cc.CALL_EXCEPTION:case Cc.INSUFFICIENT_FUNDS:case Cc.MISSING_NEW:case Cc.NONCE_EXPIRED:case Cc.REPLACEMENT_UNDERPRICED:case Cc.TRANSACTION_REPLACED:case Cc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ei.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){uD&&this.throwError("platform missing String.prototype.normalize",ei.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:uD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ei.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ei.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ei.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ei.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ei.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ei.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ei.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return iI||(iI=new ei(o2e)),iI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ei.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),cD){if(!e)return;this.globalLogger().throwError("error censorship permanent",ei.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fD=!!e,cD=!!r}static setLogLevel(e){const r=Vw[e.toLowerCase()];if(r==null){ei.globalLogger().warn("invalid log level - "+e);return}lD=r}static from(e){return new ei(e)}};HA.errors=Cc;HA.levels=l3;const c2e="bytes/5.8.0",sI=new HA(c2e);function f2e(t){return!!t.toHexString}function Kw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Kw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function dD(t){return typeof t=="number"&&t==t&&t%1===0}function l2e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!dD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!dD(r)||r<0||r>=256)return!1}return!0}function u2e(t,e){if(e||(e={}),typeof t=="number"){sI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Kw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),f2e(t)&&(t=t.toHexString()),h2e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":sI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Kw(new Uint8Array(n))}return l2e(t)?Kw(new Uint8Array(t)):sI.throwArgumentError("invalid arrayify value","value",t)}function h2e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const d2e="strings/5.8.0",p2e=new HA(d2e);var dg;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(dg||(dg={}));var pD;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(pD||(pD={}));function __(t,e=dg.current){e!=dg.current&&(p2e.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return u2e(r)}const g2e="logger/5.8.0";let gD=!1,mD=!1;const Jw={debug:1,default:2,info:2,warning:3,error:4,off:5};let bD=Jw.default,oI=null;function m2e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const ED=m2e();var u3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(u3||(u3={}));var Oc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Oc||(Oc={}));const yD="0123456789abcdef";let m6=class ti{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Jw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(bD>Jw[n])&&console.log.apply(console,r)}debug(...e){this._log(ti.levels.DEBUG,e)}info(...e){this._log(ti.levels.INFO,e)}warn(...e){this._log(ti.levels.WARNING,e)}makeError(e,r,n){if(mD)return this.makeError("censored error",r,{});r||(r=ti.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=yD[f[u]>>4],l+=yD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Oc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Oc.CALL_EXCEPTION:case Oc.INSUFFICIENT_FUNDS:case Oc.MISSING_NEW:case Oc.NONCE_EXPIRED:case Oc.REPLACEMENT_UNDERPRICED:case Oc.TRANSACTION_REPLACED:case Oc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ti.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){ED&&this.throwError("platform missing String.prototype.normalize",ti.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ED})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ti.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ti.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ti.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ti.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ti.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ti.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ti.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return oI||(oI=new ti(g2e)),oI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ti.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),gD){if(!e)return;this.globalLogger().throwError("error censorship permanent",ti.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}mD=!!e,gD=!!r}static setLogLevel(e){const r=Jw[e.toLowerCase()];if(r==null){ti.globalLogger().warn("invalid log level - "+e);return}bD=r}static from(e){return new ti(e)}};m6.errors=Oc;m6.levels=u3;const b2e="bytes/5.8.0",jp=new m6(b2e);function KH(t){return!!t.toHexString}function Xw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Xw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function wD(t){return typeof t=="number"&&t==t&&t%1===0}function JH(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!wD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!wD(r)||r<0||r>=256)return!1}return!0}function wm(t,e){if(e||(e={}),typeof t=="number"){jp.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Xw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KH(t)&&(t=t.toHexString()),XH(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":jp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Xw(new Uint8Array(n))}return JH(t)?Xw(new Uint8Array(t)):jp.throwArgumentError("invalid arrayify value","value",t)}function XH(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const aI="0123456789abcdef";function E2e(t,e){if(e||(e={}),typeof t=="number"){jp.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=aI[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KH(t))return t.toHexString();if(XH(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":jp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(JH(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=aI[(i&240)>>4]+aI[i&15]}return r}return jp.throwArgumentError("invalid hexlify value","value",t)}const y2e="logger/5.8.0";let vD=!1,_D=!1;const Yw={debug:1,default:2,info:2,warning:3,error:4,off:5};let AD=Yw.default,cI=null;function w2e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const ND=w2e();var h3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(h3||(h3={}));var Pc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Pc||(Pc={}));const xD="0123456789abcdef";let xy=class ri{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Yw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(AD>Yw[n])&&console.log.apply(console,r)}debug(...e){this._log(ri.levels.DEBUG,e)}info(...e){this._log(ri.levels.INFO,e)}warn(...e){this._log(ri.levels.WARNING,e)}makeError(e,r,n){if(_D)return this.makeError("censored error",r,{});r||(r=ri.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=xD[f[u]>>4],l+=xD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Pc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Pc.CALL_EXCEPTION:case Pc.INSUFFICIENT_FUNDS:case Pc.MISSING_NEW:case Pc.NONCE_EXPIRED:case Pc.REPLACEMENT_UNDERPRICED:case Pc.TRANSACTION_REPLACED:case Pc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ri.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){ND&&this.throwError("platform missing String.prototype.normalize",ri.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ND})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ri.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ri.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ri.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ri.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ri.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ri.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ri.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cI||(cI=new ri(y2e)),cI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ri.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),vD){if(!e)return;this.globalLogger().throwError("error censorship permanent",ri.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_D=!!e,vD=!!r}static setLogLevel(e){const r=Yw[e.toLowerCase()];if(r==null){ri.globalLogger().warn("invalid log level - "+e);return}AD=r}static from(e){return new ri(e)}};xy.errors=Pc;xy.levels=h3;const v2e="bytes/5.8.0",fI=new xy(v2e);function _2e(t){return!!t.toHexString}function Zw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Zw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ID(t){return typeof t=="number"&&t==t&&t%1===0}function A2e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!ID(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!ID(r)||r<0||r>=256)return!1}return!0}function A_(t,e){if(e||(e={}),typeof t=="number"){fI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Zw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_2e(t)&&(t=t.toHexString()),N2e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":fI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Zw(new Uint8Array(n))}return A2e(t)?Zw(new Uint8Array(t)):fI.throwArgumentError("invalid arrayify value","value",t)}function N2e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var LE;(function(t){t.sha256="sha256",t.sha512="sha512"})(LE||(LE={}));const x2e="sha2/5.8.0",I2e=new xy(x2e);function S2e(t){return"0x"+We.ripemd160().update(A_(t)).digest("hex")}function FE(t){return"0x"+We.sha256().update(A_(t)).digest("hex")}function N_(t,e,r){return LE[t]||I2e.throwError("unsupported algorithm "+t,xy.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+We.hmac(We[t],A_(e)).update(A_(r)).digest("hex")}function R2e(t,e,r,n,i){t=wm(t),e=wm(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let f,l;for(let u=1;u<=o;u++){c[e.length]=u>>24&255,c[e.length+1]=u>>16&255,c[e.length+2]=u>>8&255,c[e.length+3]=u&255;let h=wm(N_(i,t,c));s||(s=h.length,l=new Uint8Array(s),o=Math.ceil(n/s),f=n-(o-1)*s),l.set(h);for(let w=1;w<r;w++){h=wm(N_(i,t,h));for(let N=0;N<s;N++)l[N]^=h[N]}const g=(u-1)*s,m=u===o?f:s;a.set(wm(l).slice(0,m),g)}return E2e(a)}function $g(t,e,r){return r={path:e,exports:{},require:function(n,i){return T2e(n,i??r.path)}},t(r,r.exports),r.exports}function T2e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var b6=YH;function YH(t,e){if(!t)throw new Error(e||"Assertion failed")}YH.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var rf=$g(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var f=0;f<o.length;f++)c[f]=o[f]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var f=0;f<o.length;f+=2)c.push(parseInt(o[f]+o[f+1],16))}else for(var f=0;f<o.length;f++){var l=o.charCodeAt(f),u=l>>8,h=l&255;u?c.push(u,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Uo=$g(function(t,e){var r=e;r.assert=b6,r.toArray=rf.toArray,r.zero2=rf.zero2,r.toHex=rf.toHex,r.encode=rf.encode;function n(c,f,l){var u=new Array(Math.max(c.bitLength(),l)+1),h;for(h=0;h<u.length;h+=1)u[h]=0;var g=1<<f+1,m=c.clone();for(h=0;h<u.length;h++){var w,N=m.andln(g-1);m.isOdd()?(N>(g>>1)-1?w=(g>>1)-N:w=N,m.isubn(w)):w=0,u[h]=w,m.iushrn(1)}return u}r.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var u=0,h=0,g;c.cmpn(-u)>0||f.cmpn(-h)>0;){var m=c.andln(3)+u&3,w=f.andln(3)+h&3;m===3&&(m=-1),w===3&&(w=-1);var N;m&1?(g=c.andln(7)+u&7,(g===3||g===5)&&w===2?N=-m:N=m):N=0,l[0].push(N);var I;w&1?(g=f.andln(7)+h&7,(g===3||g===5)&&m===2?I=-w:I=w):I=0,l[1].push(I),2*u===N+1&&(u=1-u),2*h===I+1&&(h=1-h),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=i;function s(c,f,l){var u="_"+f;c.prototype[f]=function(){return this[u]!==void 0?this[u]:this[u]=l.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),x_=Uo.getNAF,C2e=Uo.getJSF,I_=Uo.assert;function Th(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var E0=Th;Th.prototype.point=function(){throw new Error("Not implemented")};Th.prototype.validate=function(){throw new Error("Not implemented")};Th.prototype._fixedNafMul=function(e,r){I_(e.precomputed);var n=e._getDoubles(),i=x_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var f=a+n.step-1;f>=a;f--)c=(c<<1)+i[f];o.push(c)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?u=u.mixedAdd(n.points[a]):c===-h&&(u=u.mixedAdd(n.points[a].neg()));l=l.add(u)}return l.toP()};Th.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=x_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&o[c]===0;c--)f++;if(c>=0&&f++,a=a.dblp(f),c<0)break;var l=o[c];I_(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};Th.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,f=0,l,u,h;for(l=0;l<i;l++){h=r[l];var g=h._getNAFPoints(e);o[l]=g.wnd,a[l]=g.points}for(l=i-1;l>=1;l-=2){var m=l-1,w=l;if(o[m]!==1||o[w]!==1){c[m]=x_(n[m],o[m],this._bitLength),c[w]=x_(n[w],o[w],this._bitLength),f=Math.max(c[m].length,f),f=Math.max(c[w].length,f);continue}var N=[r[m],null,null,r[w]];r[m].y.cmp(r[w].y)===0?(N[1]=r[m].add(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg())):r[m].y.cmp(r[w].y.redNeg())===0?(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].add(r[w].neg())):(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=C2e(n[m],n[w]);for(f=Math.max(C[0].length,f),c[m]=new Array(f),c[w]=new Array(f),u=0;u<f;u++){var M=C[0][u]|0,k=C[1][u]|0;c[m][u]=I[(M+1)*3+(k+1)],c[w][u]=0,a[m]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(l=f;l>=0;l--){for(var V=0;l>=0;){var P=!0;for(u=0;u<i;u++)$[u]=c[u][l]|0,$[u]!==0&&(P=!1);if(!P)break;V++,l--}if(l>=0&&V++,L=L.dblp(V),l<0)break;for(u=0;u<i;u++){var O=$[u];O!==0&&(O>0?h=a[u][O-1>>1]:O<0&&(h=a[u][-O-1>>1].neg()),h.type==="affine"?L=L.mixedAdd(h):L=L.add(h))}}for(l=0;l<i;l++)a[l]=null;return s?L:L.toP()};function Ta(t,e){this.curve=t,this.type=e,this.precomputed=null}Th.BasePoint=Ta;Ta.prototype.eq=function(){throw new Error("Not implemented")};Ta.prototype.validate=function(){return this.curve.validate(this)};Th.prototype.decodePoint=function(e,r){e=Uo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?I_(e[e.length-1]%2===0):e[0]===7&&I_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ta.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ta.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ta.prototype.encode=function(e,r){return Uo.encode(this._encode(r),e)};Ta.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ta.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ta.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ta.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ta.prototype._getBeta=function(){return null};Ta.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var E6=$g(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),O2e=Uo.assert;function Ca(t){E0.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}E6(Ca,E0);var P2e=Ca;Ca.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],O2e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ca.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ca.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),f,l,u,h,g,m,w,N=0,I,C;n.cmpn(0)!==0;){var M=i.div(n);I=i.sub(M.mul(n)),C=a.sub(M.mul(s));var k=c.sub(M.mul(o));if(!u&&I.cmp(r)<0)f=w.neg(),l=s,u=I.neg(),h=C;else if(u&&++N===2)break;w=I,i=n,n=I,a=s,s=C,c=o,o=k}g=I.neg(),m=C;var L=u.sqr().add(h.sqr()),$=g.sqr().add(m.sqr());return $.cmp(L)>=0&&(g=f,m=l),u.negative&&(u=u.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:h},{a:g,b:m}]};Ca.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),f=s.mul(n.b),l=o.mul(i.b),u=e.sub(a).sub(c),h=f.add(l).neg();return{k1:u,k2:h}};Ca.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Ca.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ca.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],f=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=c,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),u=0;u<o*2;u++)i[u]=null,s[u]=null;return l};function ki(t,e,r,n){E0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}E6(ki,E0.BasePoint);Ca.prototype.point=function(e,r,n){return new ki(this,e,r,n)};Ca.prototype.pointFromJSON=function(e,r){return ki.fromJSON(this,e,r)};ki.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ki.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ki.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ki.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ki.prototype.isInfinity=function(){return this.inf};ki.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ki.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ki.prototype.getX=function(){return this.x.fromRed()};ki.prototype.getY=function(){return this.y.fromRed()};ki.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ki.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ki.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ki.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ki.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ki.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ts(t,e,r,n){E0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}E6(ts,E0.BasePoint);Ca.prototype.jpoint=function(e,r,n){return new ts(this,e,r,n)};ts.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ts.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ts.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),f=o.redSub(a);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),u=l.redMul(c),h=i.redMul(l),g=f.redSqr().redIAdd(u).redISub(h).redISub(h),m=f.redMul(h.redISub(g)).redISub(o.redMul(u)),w=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,m,w)};ts.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),l=f.redMul(a),u=n.redMul(f),h=c.redSqr().redIAdd(l).redISub(u).redISub(u),g=c.redMul(u.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(a);return this.curve.jpoint(h,g,m)};ts.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,f=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),h=l.redSqr(),g=h.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),w=o.redMul(h),N=m.redSqr().redISub(w.redAdd(w)),I=w.redISub(N),C=m.redMul(I);C=C.redIAdd(C).redISub(g);var M=l.redMul(c);r+1<e&&(f=f.redMul(g)),o=N,c=M,l=C}return this.curve.jpoint(o,l.redMul(s),c)};ts.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ts.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var w=u.redAdd(u).redIAdd(u),N=w.redSqr(),I=g.redIAdd(g);I=I.redIAdd(I),I=I.redIAdd(I),e=N.redISub(m).redISub(m),r=w.redMul(m.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ts.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(a).redISub(a);e=f;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var w=g.redIAdd(g);w=w.redIAdd(w);var N=w.redAdd(w);e=m.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var I=h.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=m.redMul(w.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};ts.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(a),u=c.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=c.redMul(h).redISub(g),w=n.redAdd(n).redMul(i);return this.curve.jpoint(u,m,w)};ts.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(f),u=r.redMul(l);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(c).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(l.redMul(f.redISub(l)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,m)};ts.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};ts.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ts.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ts.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ts.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qw=$g(function(t,e){var r=e;r.base=E0,r.short=P2e,r.mont=null,r.edwards=null}),ev=$g(function(t,e){var r=e,n=Uo.assert;function i(a){a.type==="short"?this.curve=new Qw.short(a):a.type==="edwards"?this.curve=new Qw.edwards(a):this.curve=new Qw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:We.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:We.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:We.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:We.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:We.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:We.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function ph(t){if(!(this instanceof ph))return new ph(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=rf.toArray(t.entropy,t.entropyEnc||"hex"),r=rf.toArray(t.nonce,t.nonceEnc||"hex"),n=rf.toArray(t.pers,t.persEnc||"hex");b6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ZH=ph;ph.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ph.prototype._hmac=function(){return new We.hmac(this.hash,this.K)};ph.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ph.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=rf.toArray(e,r),n=rf.toArray(n,i),b6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ph.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=rf.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,rf.encode(o,r)};var d3=Uo.assert;function ps(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var y6=ps;ps.fromPublic=function(e,r,n){return r instanceof ps?r:new ps(e,{pub:r,pubEnc:n})};ps.fromPrivate=function(e,r,n){return r instanceof ps?r:new ps(e,{priv:r,privEnc:n})};ps.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ps.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ps.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ps.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ps.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?d3(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&d3(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ps.prototype.derive=function(e){return e.validate()||d3(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ps.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ps.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ps.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var U2e=Uo.assert;function qA(t,e){if(t instanceof qA)return t;this._importDER(t,e)||(U2e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var VA=qA;function M2e(){this.place=0}function lI(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function SD(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}qA.prototype._importDER=function(e,r){e=Uo.toArray(e,r);var n=new M2e;if(e[n.place++]!==48)return!1;var i=lI(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=lI(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=lI(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function uI(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}qA.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=SD(r),n=SD(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];uI(i,r.length),i=i.concat(r),i.push(2),uI(i,n.length);var s=i.concat(n),o=[48];return uI(o,s.length),o=o.concat(s),Uo.encode(o,e)};var D2e=function(){throw new Error("unsupported")},Ed=Uo.assert;function Ea(t){if(!(this instanceof Ea))return new Ea(t);typeof t=="string"&&(Ed(Object.prototype.hasOwnProperty.call(ev,t),"Unknown curve "+t),t=ev[t]),t instanceof ev.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var k2e=Ea;Ea.prototype.keyPair=function(e){return new y6(this,e)};Ea.prototype.keyFromPrivate=function(e,r){return y6.fromPrivate(this,e,r)};Ea.prototype.keyFromPublic=function(e,r){return y6.fromPublic(this,e,r)};Ea.prototype.genKeyPair=function(e){e||(e={});for(var r=new ZH({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||D2e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Ea.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ea.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){Ed(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Ed(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Ed((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Ed(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);Ed(new te(c).eq(e),"Can not sign message");for(var f=new ZH({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new te(1)),u=0;;u++){var h=i.k?i.k(u):new te(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var m=g.getX(),w=m.umod(this.n);if(w.cmpn(0)!==0){var N=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var I=(g.getY().isOdd()?1:0)|(m.cmp(w)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),I^=1),new VA({r:w,s:N,recoveryParam:I})}}}}}};Ea.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new VA(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),f=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};Ea.prototype.recoverPubKey=function(t,e,r,n){Ed((3&r)===r,"The recovery param is more than two bits"),e=new VA(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),u=i.sub(s).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(u,o,h)};Ea.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new VA(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var L2e=$g(function(t,e){var r=e;r.version="6.6.1",r.utils=Uo,r.rand=function(){throw new Error("unsupported")},r.curve=Qw,r.curves=ev,r.ec=k2e,r.eddsa=null}),F2e=L2e.ec;const $2e="logger/5.8.0";let RD=!1,TD=!1;const tv={debug:1,default:2,info:2,warning:3,error:4,off:5};let CD=tv.default,hI=null;function B2e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const OD=B2e();var p3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(p3||(p3={}));var Uc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Uc||(Uc={}));const PD="0123456789abcdef";let KA=class ni{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();tv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(CD>tv[n])&&console.log.apply(console,r)}debug(...e){this._log(ni.levels.DEBUG,e)}info(...e){this._log(ni.levels.INFO,e)}warn(...e){this._log(ni.levels.WARNING,e)}makeError(e,r,n){if(TD)return this.makeError("censored error",r,{});r||(r=ni.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=PD[f[u]>>4],l+=PD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Uc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Uc.CALL_EXCEPTION:case Uc.INSUFFICIENT_FUNDS:case Uc.MISSING_NEW:case Uc.NONCE_EXPIRED:case Uc.REPLACEMENT_UNDERPRICED:case Uc.TRANSACTION_REPLACED:case Uc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ni.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){OD&&this.throwError("platform missing String.prototype.normalize",ni.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:OD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ni.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ni.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ni.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ni.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ni.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ni.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ni.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return hI||(hI=new ni($2e)),hI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ni.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),RD){if(!e)return;this.globalLogger().throwError("error censorship permanent",ni.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}TD=!!e,RD=!!r}static setLogLevel(e){const r=tv[e.toLowerCase()];if(r==null){ni.globalLogger().warn("invalid log level - "+e);return}CD=r}static from(e){return new ni(e)}};KA.errors=Uc;KA.levels=p3;const G2e="bytes/5.8.0",gn=new KA(G2e);function QH(t){return!!t.toHexString}function wb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return wb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function j2e(t){return nh(t)&&!(t.length%2)||w6(t)}function UD(t){return typeof t=="number"&&t==t&&t%1===0}function w6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!UD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!UD(r)||r<0||r>=256)return!1}return!0}function la(t,e){if(e||(e={}),typeof t=="number"){gn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),wb(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),QH(t)&&(t=t.toHexString()),nh(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":gn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return wb(new Uint8Array(n))}return w6(t)?wb(new Uint8Array(t)):gn.throwArgumentError("invalid arrayify value","value",t)}function z2e(t,e){t=la(t),t.length>e&&gn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),wb(r)}function nh(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const dI="0123456789abcdef";function bo(t,e){if(e||(e={}),typeof t=="number"){gn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=dI[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),QH(t))return t.toHexString();if(nh(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":gn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(w6(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=dI[(i&240)>>4]+dI[i&15]}return r}return gn.throwArgumentError("invalid hexlify value","value",t)}function W2e(t){if(typeof t!="string")t=bo(t);else if(!nh(t)||t.length%2)return null;return(t.length-2)/2}function zp(t,e){for(typeof t!="string"?t=bo(t):nh(t)||gn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&gn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function H2e(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(j2e(t)){let r=la(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=bo(r.slice(0,32)),e.s=bo(r.slice(32,64))):r.length===65?(e.r=bo(r.slice(0,32)),e.s=bo(r.slice(32,64)),e.v=r[64]):gn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:gn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=bo(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=z2e(la(e._vs),32);e._vs=bo(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&gn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=bo(i);e.s==null?e.s=o:e.s!==o&&gn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?gn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&gn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!nh(e.r)?gn.throwArgumentError("signature missing or invalid r","signature",t):e.r=zp(e.r,32),e.s==null||!nh(e.s)?gn.throwArgumentError("signature missing or invalid s","signature",t):e.s=zp(e.s,32);const r=la(e.s);r[0]>=128&&gn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=bo(r);e._vs&&(nh(e._vs)||gn.throwArgumentError("signature invalid _vs","signature",t),e._vs=zp(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&gn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const q2e="signing-key/5.8.0",g3=new KA(q2e);let pI=null;function Bl(){return pI||(pI=new F2e("secp256k1")),pI}let m3=class{constructor(e){Ur(this,"curve","secp256k1"),Ur(this,"privateKey",bo(e)),W2e(this.privateKey)!==32&&g3.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Bl().keyFromPrivate(la(this.privateKey));Ur(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ur(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ur(this,"_isSigningKey",!0)}_addPoint(e){const r=Bl().keyFromPublic(la(this.publicKey)),n=Bl().keyFromPublic(la(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Bl().keyFromPrivate(la(this.privateKey)),n=la(e);n.length!==32&&g3.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return H2e({recoveryParam:i.recoveryParam,r:zp("0x"+i.r.toString(16),32),s:zp("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Bl().keyFromPrivate(la(this.privateKey)),n=Bl().keyFromPublic(la(eq(e)));return zp("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function eq(t,e){const r=la(t);if(r.length===32){const n=new m3(r);return e?"0x"+Bl().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?bo(r):"0x"+Bl().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Bl().keyFromPublic(r).getPublic(!0,"hex"):bo(r)}return g3.throwArgumentError("invalid public or private key","key","[REDACTED]")}const V2e="logger/5.8.0";let MD=!1,DD=!1;const rv={debug:1,default:2,info:2,warning:3,error:4,off:5};let kD=rv.default,gI=null;function K2e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const LD=K2e();var b3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(b3||(b3={}));var Mc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Mc||(Mc={}));const FD="0123456789abcdef";let JA=class ii{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();rv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(kD>rv[n])&&console.log.apply(console,r)}debug(...e){this._log(ii.levels.DEBUG,e)}info(...e){this._log(ii.levels.INFO,e)}warn(...e){this._log(ii.levels.WARNING,e)}makeError(e,r,n){if(DD)return this.makeError("censored error",r,{});r||(r=ii.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=FD[f[u]>>4],l+=FD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Mc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Mc.CALL_EXCEPTION:case Mc.INSUFFICIENT_FUNDS:case Mc.MISSING_NEW:case Mc.NONCE_EXPIRED:case Mc.REPLACEMENT_UNDERPRICED:case Mc.TRANSACTION_REPLACED:case Mc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ii.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){LD&&this.throwError("platform missing String.prototype.normalize",ii.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:LD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ii.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ii.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ii.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ii.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ii.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ii.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ii.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return gI||(gI=new ii(V2e)),gI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ii.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),MD){if(!e)return;this.globalLogger().throwError("error censorship permanent",ii.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}DD=!!e,MD=!!r}static setLogLevel(e){const r=rv[e.toLowerCase()];if(r==null){ii.globalLogger().warn("invalid log level - "+e);return}kD=r}static from(e){return new ii(e)}};JA.errors=Mc;JA.levels=b3;const J2e="bytes/5.8.0",mI=new JA(J2e);function X2e(t){return!!t.toHexString}function nv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return nv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function $D(t){return typeof t=="number"&&t==t&&t%1===0}function Y2e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!$D(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!$D(r)||r<0||r>=256)return!1}return!0}function Z2e(t,e){if(e||(e={}),typeof t=="number"){mI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),nv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),X2e(t)&&(t=t.toHexString()),tq(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":mI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return nv(new Uint8Array(n))}return Y2e(t)?nv(new Uint8Array(t)):mI.throwArgumentError("invalid arrayify value","value",t)}function tq(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var Q2e=te.BN;function eIe(t){return new Q2e(t,36).toString(16)}const tIe="logger/5.8.0";let BD=!1,GD=!1;const iv={debug:1,default:2,info:2,warning:3,error:4,off:5};let jD=iv.default,bI=null;function rIe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const zD=rIe();var E3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(E3||(E3={}));var Dc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Dc||(Dc={}));const WD="0123456789abcdef";let v6=class si{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();iv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(jD>iv[n])&&console.log.apply(console,r)}debug(...e){this._log(si.levels.DEBUG,e)}info(...e){this._log(si.levels.INFO,e)}warn(...e){this._log(si.levels.WARNING,e)}makeError(e,r,n){if(GD)return this.makeError("censored error",r,{});r||(r=si.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=WD[f[u]>>4],l+=WD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Dc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Dc.CALL_EXCEPTION:case Dc.INSUFFICIENT_FUNDS:case Dc.MISSING_NEW:case Dc.NONCE_EXPIRED:case Dc.REPLACEMENT_UNDERPRICED:case Dc.TRANSACTION_REPLACED:case Dc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,si.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){zD&&this.throwError("platform missing String.prototype.normalize",si.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:zD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,si.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,si.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,si.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,si.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",si.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",si.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",si.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return bI||(bI=new si(tIe)),bI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",si.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),BD){if(!e)return;this.globalLogger().throwError("error censorship permanent",si.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}GD=!!e,BD=!!r}static setLogLevel(e){const r=iv[e.toLowerCase()];if(r==null){si.globalLogger().warn("invalid log level - "+e);return}jD=r}static from(e){return new si(e)}};v6.errors=Dc;v6.levels=E3;const nIe="bytes/5.8.0",EI=new v6(nIe);function iIe(t){return!!t.toHexString}function sv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return sv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function HD(t){return typeof t=="number"&&t==t&&t%1===0}function sIe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!HD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!HD(r)||r<0||r>=256)return!1}return!0}function oIe(t,e){if(e||(e={}),typeof t=="number"){EI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),sv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),iIe(t)&&(t=t.toHexString()),aIe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":EI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return sv(new Uint8Array(n))}return sIe(t)?sv(new Uint8Array(t)):EI.throwArgumentError("invalid arrayify value","value",t)}function aIe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function _6(t){return"0x"+Ug.keccak_256(oIe(t))}const cIe="address/5.8.0",jm=new JA(cIe);function qD(t){tq(t,20)||jm.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Z2e(_6(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const fIe=9007199254740991;function lIe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const A6={};for(let t=0;t<10;t++)A6[String(t)]=String(t);for(let t=0;t<26;t++)A6[String.fromCharCode(65+t)]=String(10+t);const VD=Math.floor(lIe(fIe));function uIe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>A6[n]).join("");for(;e.length>=VD;){let n=e.substring(0,VD);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function hIe(t){let e=null;if(typeof t!="string"&&jm.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=qD(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&jm.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==uIe(t)&&jm.throwArgumentError("bad icap checksum","address",t),e=eIe(t.substring(4));e.length<40;)e="0"+e;e=qD("0x"+e)}else jm.throwArgumentError("invalid address","address",t);return e}const dIe="logger/5.8.0";let KD=!1,JD=!1;const ov={debug:1,default:2,info:2,warning:3,error:4,off:5};let XD=ov.default,yI=null;function pIe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const YD=pIe();var y3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(y3||(y3={}));var kc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(kc||(kc={}));const ZD="0123456789abcdef";let N6=class oi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();ov[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(XD>ov[n])&&console.log.apply(console,r)}debug(...e){this._log(oi.levels.DEBUG,e)}info(...e){this._log(oi.levels.INFO,e)}warn(...e){this._log(oi.levels.WARNING,e)}makeError(e,r,n){if(JD)return this.makeError("censored error",r,{});r||(r=oi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=ZD[f[u]>>4],l+=ZD[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case kc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case kc.CALL_EXCEPTION:case kc.INSUFFICIENT_FUNDS:case kc.MISSING_NEW:case kc.NONCE_EXPIRED:case kc.REPLACEMENT_UNDERPRICED:case kc.TRANSACTION_REPLACED:case kc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,oi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){YD&&this.throwError("platform missing String.prototype.normalize",oi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:YD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,oi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,oi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,oi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,oi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",oi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",oi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",oi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return yI||(yI=new oi(dIe)),yI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",oi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),KD){if(!e)return;this.globalLogger().throwError("error censorship permanent",oi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}JD=!!e,KD=!!r}static setLogLevel(e){const r=ov[e.toLowerCase()];if(r==null){oi.globalLogger().warn("invalid log level - "+e);return}XD=r}static from(e){return new oi(e)}};N6.errors=kc;N6.levels=y3;const gIe="bytes/5.8.0",av=new N6(gIe);function mIe(t){return!!t.toHexString}function QD(t){return typeof t=="number"&&t==t&&t%1===0}function bIe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!QD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!QD(r)||r<0||r>=256)return!1}return!0}function rq(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const wI="0123456789abcdef";function EIe(t,e){if(e||(e={}),typeof t=="number"){av.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=wI[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),mIe(t))return t.toHexString();if(rq(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":av.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(bIe(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=wI[(i&240)>>4]+wI[i&15]}return r}return av.throwArgumentError("invalid hexlify value","value",t)}function ek(t,e,r){return typeof t!="string"?t=EIe(t):(!rq(t)||t.length%2)&&av.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}var tk;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(tk||(tk={}));function yIe(t){const e=eq(t);return hIe(ek(_6(ek(e,1)),12))}function wIe(t){return _6(__(t))}const vIe="logger/5.8.0";let rk=!1,nk=!1;const cv={debug:1,default:2,info:2,warning:3,error:4,off:5};let ik=cv.default,vI=null;function _Ie(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const sk=_Ie();var w3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(w3||(w3={}));var Lc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Lc||(Lc={}));const ok="0123456789abcdef";let x6=class ai{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();cv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ik>cv[n])&&console.log.apply(console,r)}debug(...e){this._log(ai.levels.DEBUG,e)}info(...e){this._log(ai.levels.INFO,e)}warn(...e){this._log(ai.levels.WARNING,e)}makeError(e,r,n){if(nk)return this.makeError("censored error",r,{});r||(r=ai.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=ok[f[u]>>4],l+=ok[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Lc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Lc.CALL_EXCEPTION:case Lc.INSUFFICIENT_FUNDS:case Lc.MISSING_NEW:case Lc.NONCE_EXPIRED:case Lc.REPLACEMENT_UNDERPRICED:case Lc.TRANSACTION_REPLACED:case Lc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ai.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){sk&&this.throwError("platform missing String.prototype.normalize",ai.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:sk})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ai.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ai.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ai.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ai.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ai.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ai.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ai.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return vI||(vI=new ai(vIe)),vI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ai.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rk){if(!e)return;this.globalLogger().throwError("error censorship permanent",ai.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}nk=!!e,rk=!!r}static setLogLevel(e){const r=cv[e.toLowerCase()];if(r==null){ai.globalLogger().warn("invalid log level - "+e);return}ik=r}static from(e){return new ai(e)}};x6.errors=Lc;x6.levels=w3;const AIe="wordlists/5.8.0",NIe=new x6(AIe);class Iy{constructor(e){NIe.checkAbstract(new.target,Iy),Ur(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return wIe(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const xIe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let vb=null;function ak(t){if(vb==null&&(vb=xIe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Iy.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw vb=null,new Error("BIP39 Wordlist for en (English) FAILED")}class IIe extends Iy{constructor(){super("en")}getWord(e){return ak(this),vb[e]}getWordIndex(e){return ak(this),vb.indexOf(e)}}const nq=new IIe;Iy.register(nq);const ck={en:nq},SIe="hdnode/5.7.0",$E=new ie(SIe),RIe=xe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),TIe=__("Bitcoin seed"),fp=2147483648;function iq(t){return(1<<t)-1<<8-t}function CIe(t){return(1<<t)-1}function b1(t){return Tr(ye(t),32)}function fk(t){return VH.encode(Lr([t,ln(FE(FE(t)),0,4)]))}function I6(t){if(t==null)return ck.en;if(typeof t=="string"){const e=ck[t];return e==null&&$E.throwArgumentError("unknown locale","wordlist",t),e}return t}const q0={},OIe="m/44'/60'/0'/0/0";class $l{constructor(e,r,n,i,s,o,a,c){if(e!==q0)throw new Error("HDNode constructor cannot be called directly");if(r){const f=new m3(r);Ur(this,"privateKey",f.privateKey),Ur(this,"publicKey",f.compressedPublicKey)}else Ur(this,"privateKey",null),Ur(this,"publicKey",ye(n));Ur(this,"parentFingerprint",i),Ur(this,"fingerprint",ln(S2e(FE(this.publicKey)),0,4)),Ur(this,"address",yIe(this.publicKey)),Ur(this,"chainCode",s),Ur(this,"index",o),Ur(this,"depth",a),c==null?(Ur(this,"mnemonic",null),Ur(this,"path",null)):typeof c=="string"?(Ur(this,"mnemonic",null),Ur(this,"path",c)):(Ur(this,"mnemonic",c),Ur(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return fk(Lr([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ye(this.depth),this.parentFingerprint,Tr(ye(this.index),4),this.chainCode,this.privateKey!=null?Lr(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new $l(q0,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~fp));const n=new Uint8Array(37);if(e&fp){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(me(this.privateKey),1),r&&(r+="'")}else n.set(me(this.publicKey));for(let u=24;u>=0;u-=8)n[33+(u>>3)]=e>>24-u&255;const i=me(N_(LE.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=b1(xe.from(s).add(this.privateKey).mod(RIe)):c=new m3(ye(s))._addPoint(this.publicKey);let f=r;const l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new $l(q0,a,c,this.fingerprint,b1(o),e,this.depth+1,f)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=fp)throw new Error("invalid path index - "+s);n=n._derive(fp+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=fp)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=me(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=me(N_(LE.sha512,TIe,n));return new $l(q0,b1(i.slice(0,32)),null,"0x00000000",b1(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=I6(n),e=oq(S6(e,n),n),$l._fromSeed(sq(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return $l._fromSeed(e,null)}static fromExtendedKey(e){const r=VH.decode(e);(r.length!==82||fk(r.slice(0,78))!==e)&&$E.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ye(r.slice(5,9)),s=parseInt(ye(r.slice(9,13)).substring(2),16),o=ye(r.slice(13,45)),a=r.slice(45,78);switch(ye(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new $l(q0,null,ye(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new $l(q0,ye(a.slice(1)),null,i,o,s,n,null)}return $E.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function sq(t,e){e||(e="");const r=__("mnemonic"+e,dg.NFKD);return R2e(__(t,dg.NFKD),r,2048,64,"sha512")}function S6(t,e){e=I6(e),$E.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=me(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let f=0;f<r.length;f++){let l=e.getWordIndex(r[f].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let u=0;u<11;u++)l&1<<10-u&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=iq(o);if((me(FE(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ye(n.slice(0,s/8))}function oq(t,e){if(e=I6(e),t=me(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&CIe(8-n)),n+=3);const i=t.length/4,s=me(FE(t))[0]&iq(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function PIe(t,e){try{return S6(t,e),!0}catch{}return!1}function UIe(t){return(typeof t!="number"||t<0||t>=fp||t%1)&&$E.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const MIe=Object.freeze(Object.defineProperty({__proto__:null,HDNode:$l,defaultPath:OIe,entropyToMnemonic:oq,getAccountPath:UIe,isValidMnemonic:PIe,mnemonicToEntropy:S6,mnemonicToSeed:sq},Symbol.toStringTag,{value:"Module"})),aq="json-wallets/5.7.0";function Dd(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),me(t)}function vm(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function R6(t){return typeof t=="string"?nn(t,ou.NFKC):me(t)}function fn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function DIe(t){const e=me(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const kIe=new ie(aq);class LIe extends Oo{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function T6(t,e){const r=JSON.parse(t);e=R6(e);const n=Xt(fn(r,"ethaddr")),i=Dd(fn(r,"encseed"));(!i||i.length%16!==0)&&kIe.throwArgumentError("invalid encseed","json",t);const s=me(_y(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new _n.ModeOfOperation.cbc(s,o),f=_n.padding.pkcs7.strip(me(c.decrypt(a)));let l="";for(let g=0;g<f.length;g++)l+=String.fromCharCode(f[g]);const u=nn(l),h=Ht(u);return new LIe({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function XA(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function YA(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function FIe(t){if(XA(t))try{return Xt(JSON.parse(t).ethaddr)}catch{return null}if(YA(t))try{return Xt(JSON.parse(t).address)}catch{return null}return null}var $Ie=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const v3=new ie(aq);function lk(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class BIe extends Oo{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function GIe(t,e,r){if(fn(t,"crypto/cipher")==="aes-128-ctr"){const i=Dd(fn(t,"crypto/cipherparams/iv")),s=new _n.Counter(i),o=new _n.ModeOfOperation.ctr(e,s);return me(o.decrypt(r))}return null}function cq(t,e){const r=Dd(fn(t,"crypto/ciphertext"));if(ye(Ht(Lr([e.slice(16,32),r]))).substring(2)!==fn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=GIe(t,e.slice(0,16),r);i||v3.throwError("unsupported cipher",ie.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Ql(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Xt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(fn(t,"x-ethers/version")==="0.1"){const c=Dd(fn(t,"x-ethers/mnemonicCiphertext")),f=Dd(fn(t,"x-ethers/mnemonicCounter")),l=new _n.Counter(f),u=new _n.ModeOfOperation.ctr(s,l),h=fn(t,"x-ethers/path")||dh,g=fn(t,"x-ethers/locale")||"en",m=me(u.decrypt(c));try{const w=LA(m,g),N=hg.fromMnemonic(w,null,g).derivePath(h);if(N.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=N.mnemonic}catch(w){if(w.code!==ie.errors.INVALID_ARGUMENT||w.argument!=="wordlist")throw w}}return new BIe(a)}function fq(t,e,r,n,i){return me(_y(t,e,r,n,i))}function jIe(t,e,r,n,i){return Promise.resolve(fq(t,e,r,n,i))}function lq(t,e,r,n,i){const s=R6(e),o=fn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,f){return v3.throwArgumentError("invalid key-derivation function parameters",c,f)};if(o.toLowerCase()==="scrypt"){const c=Dd(fn(t,"crypto/kdfparams/salt")),f=parseInt(fn(t,"crypto/kdfparams/n")),l=parseInt(fn(t,"crypto/kdfparams/r")),u=parseInt(fn(t,"crypto/kdfparams/p"));(!f||!l||!u)&&a("kdf",o),f&f-1&&a("N",f);const h=parseInt(fn(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),n(s,c,f,l,u,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Dd(fn(t,"crypto/kdfparams/salt"));let f=null;const l=fn(t,"crypto/kdfparams/prf");l==="hmac-sha256"?f="sha256":l==="hmac-sha512"?f="sha512":a("prf",l);const u=parseInt(fn(t,"crypto/kdfparams/c")),h=parseInt(fn(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),r(s,c,u,h,f)}}return v3.throwArgumentError("unsupported key-derivation function","kdf",o)}function uq(t,e){const r=JSON.parse(t),n=lq(r,e,fq,Fg.syncScrypt);return cq(r,n)}function hq(t,e,r){return $Ie(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield lq(n,e,jIe,Fg.scrypt,r);return cq(n,i)})}function zIe(t,e,r,n){try{if(Xt(t.address)!==Ql(t.privateKey))throw new Error("address/privateKey mismatch");if(lk(t)){const N=t.mnemonic;if(hg.fromMnemonic(N.phrase,null,N.locale).derivePath(N.path||dh).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(N){return Promise.reject(N)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=me(t.privateKey),s=R6(e);let o=null,a=null,c=null;if(lk(t)){const N=t.mnemonic;o=me(XC(N.phrase,N.locale||"en")),a=N.path||dh,c=N.locale||"en"}let f=r.client;f||(f="ethers.js");let l=null;r.salt?l=me(r.salt):l=ql(32);let u=null;if(r.iv){if(u=me(r.iv),u.length!==16)throw new Error("invalid iv")}else u=ql(16);let h=null;if(r.uuid){if(h=me(r.uuid),h.length!==16)throw new Error("invalid uuid")}else h=ql(16);let g=1<<17,m=8,w=1;return r.scrypt&&(r.scrypt.N&&(g=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(w=r.scrypt.p)),Fg.scrypt(s,l,g,m,w,64,n).then(N=>{N=me(N);const I=N.slice(0,16),C=N.slice(16,32),M=N.slice(32,64),k=new _n.Counter(u),L=new _n.ModeOfOperation.ctr(I,k),$=me(L.encrypt(i)),V=Ht(Lr([C,$])),P={address:t.address.substring(2).toLowerCase(),id:DIe(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(u).substring(2)},ciphertext:ye($).substring(2),kdf:"scrypt",kdfparams:{salt:ye(l).substring(2),n:g,dklen:32,p:w,r:m},mac:V.substring(2)}};if(o){const O=ql(16),F=new _n.Counter(O),U=new _n.ModeOfOperation.ctr(M,F),b=me(U.encrypt(o)),y=new Date,d=y.getUTCFullYear()+"-"+vm(y.getUTCMonth()+1,2)+"-"+vm(y.getUTCDate(),2)+"T"+vm(y.getUTCHours(),2)+"-"+vm(y.getUTCMinutes(),2)+"-"+vm(y.getUTCSeconds(),2)+".0Z";P["x-ethers"]={client:f,gethFilename:"UTC--"+d+"--"+P.address,mnemonicCounter:ye(O).substring(2),mnemonicCiphertext:ye(b).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(P)})}function WIe(t,e,r){if(XA(t)){r&&r(0);const n=T6(t,e);return r&&r(1),Promise.resolve(n)}return YA(t)?hq(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function HIe(t,e){if(XA(t))return T6(t,e);if(YA(t))return uq(t,e);throw new Error("invalid JSON wallet")}const qIe=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:T6,decryptJsonWallet:WIe,decryptJsonWalletSync:HIe,decryptKeystore:hq,decryptKeystoreSync:uq,encryptKeystore:zIe,getJsonWalletAddress:FIe,isCrowdsaleWallet:XA,isKeystoreWallet:YA},Symbol.toStringTag,{value:"Module"}));function VIe(t){return"0x"+Ug.keccak_256(me(t))}const KIe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:VIe},Symbol.toStringTag,{value:"Module"}));var S_;(function(t){t.sha256="sha256",t.sha512="sha512"})(S_||(S_={}));const JIe="sha2/5.7.0",XIe=new ie(JIe);function YIe(t){return"0x"+We.ripemd160().update(me(t)).digest("hex")}function ZIe(t){return"0x"+We.sha256().update(me(t)).digest("hex")}function QIe(t){return"0x"+We.sha512().update(me(t)).digest("hex")}function eSe(t,e,r){return S_[t]||XIe.throwError("unsupported algorithm "+t,ie.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+We.hmac(We[t],me(e)).update(me(r)).digest("hex")}const tSe=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return S_},computeHmac:eSe,ripemd160:YIe,sha256:ZIe,sha512:QIe},Symbol.toStringTag,{value:"Module"})),rSe="solidity/5.7.0",nSe=new RegExp("^bytes([0-9]+)$"),iSe=new RegExp("^(u?int)([0-9]*)$"),sSe=new RegExp("^(.*)\\[([0-9]*)\\]$"),oSe="0000000000000000000000000000000000000000000000000000000000000000",lp=new ie(rSe);function dq(t,e,r){switch(t){case"address":return r?lb(e,32):me(e);case"string":return nn(e);case"bytes":return me(e);case"bool":return e=e?"0x01":"0x00",r?lb(e,32):me(e)}let n=t.match(iSe);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&lp.throwArgumentError("invalid number type","type",t),r&&(i=256),e=xe.from(e).toTwos(i),lb(e,i/8)}if(n=t.match(nSe),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&lp.throwArgumentError("invalid bytes type","type",t),me(e).byteLength!==i&&lp.throwArgumentError(`invalid value for ${t}`,"value",e),r?me((e+oSe).substring(0,66)):e}if(n=t.match(sSe),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&lp.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(dq(i,a,!0))}),Lr(o)}return lp.throwArgumentError("invalid type","type",t)}function C6(t,e){t.length!=e.length&&lp.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(dq(n,e[i]))}),ye(Lr(r))}function aSe(t,e){return Ht(C6(t,e))}function cSe(t,e){return hh(C6(t,e))}const fSe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:aSe,pack:C6,sha256:cSe},Symbol.toStringTag,{value:"Module"})),lSe="random/5.7.0",_3=new ie(lSe);function uSe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const uk=uSe();let fv=uk.crypto||uk.msCrypto;(!fv||!fv.getRandomValues)&&(_3.warn("WARNING: Missing strong random number source"),fv={getRandomValues:function(t){return _3.throwError("no secure random source avaialble",ie.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function hSe(t){(t<=0||t>1024||t%1||t!=t)&&_3.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return fv.getRandomValues(e),me(e)}function dSe(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const pSe=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:hSe,shuffled:dSe},Symbol.toStringTag,{value:"Module"})),gSe="properties/5.7.0";var mSe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const R_=new ie(gSe);function pq(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function bSe(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ESe(t){return mSe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ySe(t,e){(!t||typeof t!="object")&&R_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||R_.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function wSe(t){const e={};for(const r in t)e[r]=t[r];return e}const vSe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function gq(t){if(t==null||vSe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!gq(n))return!1}return!0}return R_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function _Se(t){if(gq(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>T_(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&pq(e,r,T_(n))}return e}return R_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function T_(t){return _Se(t)}class ASe{constructor(e){for(const r in e)this[r]=T_(e[r])}}const NSe=Object.freeze(Object.defineProperty({__proto__:null,Description:ASe,checkProperties:ySe,deepCopy:T_,defineReadOnly:pq,getStatic:bSe,resolveProperties:ESe,shallowCopy:wSe},Symbol.toStringTag,{value:"Module"})),xSe="rlp/5.7.0",Of=new ie(xSe);function hk(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function dk(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function mq(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(mq(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=hk(n.length);return i.unshift(247+i.length),i.concat(n)}wy(t)||Of.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(me(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=hk(e.length);return r.unshift(183+r.length),r.concat(e)}function ISe(t){return ye(mq(t))}function pk(t,e,r,n){const i=[];for(;r<e+1+n;){const s=bq(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Of.throwError("child data too short",ie.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function bq(t,e){if(t.length===0&&Of.throwError("data too short",ie.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Of.throwError("data short segment too short",ie.errors.BUFFER_OVERRUN,{});const n=dk(t,e+1,r);return e+1+r+n>t.length&&Of.throwError("data long segment too short",ie.errors.BUFFER_OVERRUN,{}),pk(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Of.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{}),pk(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Of.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{});const n=dk(t,e+1,r);e+1+r+n>t.length&&Of.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{});const i=ye(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Of.throwError("data too short",ie.errors.BUFFER_OVERRUN,{});const n=ye(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ye(t[e])}}function SSe(t){const e=me(t),r=bq(e,0);return r.consumed!==e.length&&Of.throwArgumentError("invalid rlp data","data",t),r.result}const RSe=Object.freeze(Object.defineProperty({__proto__:null,decode:SSe,encode:ISe},Symbol.toStringTag,{value:"Module"}));function Bg(t,e,r){return r={path:e,exports:{},require:function(n,i){return TSe(n,i??r.path)}},t(r,r.exports),r.exports}function TSe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var O6=Eq;function Eq(t,e){if(!t)throw new Error(e||"Assertion failed")}Eq.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var nf=Bg(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var f=0;f<o.length;f++)c[f]=o[f]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var f=0;f<o.length;f+=2)c.push(parseInt(o[f]+o[f+1],16))}else for(var f=0;f<o.length;f++){var l=o.charCodeAt(f),u=l>>8,h=l&255;u?c.push(u,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Mo=Bg(function(t,e){var r=e;r.assert=O6,r.toArray=nf.toArray,r.zero2=nf.zero2,r.toHex=nf.toHex,r.encode=nf.encode;function n(c,f,l){var u=new Array(Math.max(c.bitLength(),l)+1);u.fill(0);for(var h=1<<f+1,g=c.clone(),m=0;m<u.length;m++){var w,N=g.andln(h-1);g.isOdd()?(N>(h>>1)-1?w=(h>>1)-N:w=N,g.isubn(w)):w=0,u[m]=w,g.iushrn(1)}return u}r.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var u=0,h=0,g;c.cmpn(-u)>0||f.cmpn(-h)>0;){var m=c.andln(3)+u&3,w=f.andln(3)+h&3;m===3&&(m=-1),w===3&&(w=-1);var N;m&1?(g=c.andln(7)+u&7,(g===3||g===5)&&w===2?N=-m:N=m):N=0,l[0].push(N);var I;w&1?(g=f.andln(7)+h&7,(g===3||g===5)&&m===2?I=-w:I=w):I=0,l[1].push(I),2*u===N+1&&(u=1-u),2*h===I+1&&(h=1-h),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=i;function s(c,f,l){var u="_"+f;c.prototype[f]=function(){return this[u]!==void 0?this[u]:this[u]=l.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),C_=Mo.getNAF,CSe=Mo.getJSF,O_=Mo.assert;function Ch(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var y0=Ch;Ch.prototype.point=function(){throw new Error("Not implemented")};Ch.prototype.validate=function(){throw new Error("Not implemented")};Ch.prototype._fixedNafMul=function(e,r){O_(e.precomputed);var n=e._getDoubles(),i=C_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var f=a+n.step-1;f>=a;f--)c=(c<<1)+i[f];o.push(c)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?u=u.mixedAdd(n.points[a]):c===-h&&(u=u.mixedAdd(n.points[a].neg()));l=l.add(u)}return l.toP()};Ch.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=C_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&o[c]===0;c--)f++;if(c>=0&&f++,a=a.dblp(f),c<0)break;var l=o[c];O_(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};Ch.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,f=0,l,u,h;for(l=0;l<i;l++){h=r[l];var g=h._getNAFPoints(e);o[l]=g.wnd,a[l]=g.points}for(l=i-1;l>=1;l-=2){var m=l-1,w=l;if(o[m]!==1||o[w]!==1){c[m]=C_(n[m],o[m],this._bitLength),c[w]=C_(n[w],o[w],this._bitLength),f=Math.max(c[m].length,f),f=Math.max(c[w].length,f);continue}var N=[r[m],null,null,r[w]];r[m].y.cmp(r[w].y)===0?(N[1]=r[m].add(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg())):r[m].y.cmp(r[w].y.redNeg())===0?(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].add(r[w].neg())):(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=CSe(n[m],n[w]);for(f=Math.max(C[0].length,f),c[m]=new Array(f),c[w]=new Array(f),u=0;u<f;u++){var M=C[0][u]|0,k=C[1][u]|0;c[m][u]=I[(M+1)*3+(k+1)],c[w][u]=0,a[m]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(l=f;l>=0;l--){for(var V=0;l>=0;){var P=!0;for(u=0;u<i;u++)$[u]=c[u][l]|0,$[u]!==0&&(P=!1);if(!P)break;V++,l--}if(l>=0&&V++,L=L.dblp(V),l<0)break;for(u=0;u<i;u++){var O=$[u];O!==0&&(O>0?h=a[u][O-1>>1]:O<0&&(h=a[u][-O-1>>1].neg()),h.type==="affine"?L=L.mixedAdd(h):L=L.add(h))}}for(l=0;l<i;l++)a[l]=null;return s?L:L.toP()};function Oa(t,e){this.curve=t,this.type=e,this.precomputed=null}Ch.BasePoint=Oa;Oa.prototype.eq=function(){throw new Error("Not implemented")};Oa.prototype.validate=function(){return this.curve.validate(this)};Ch.prototype.decodePoint=function(e,r){e=Mo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?O_(e[e.length-1]%2===0):e[0]===7&&O_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Oa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Oa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Oa.prototype.encode=function(e,r){return Mo.encode(this._encode(r),e)};Oa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Oa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Oa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Oa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Oa.prototype._getBeta=function(){return null};Oa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var P6=Bg(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),OSe=Mo.assert;function Pa(t){y0.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}P6(Pa,y0);var PSe=Pa;Pa.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],OSe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Pa.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Pa.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),f,l,u,h,g,m,w,N=0,I,C;n.cmpn(0)!==0;){var M=i.div(n);I=i.sub(M.mul(n)),C=a.sub(M.mul(s));var k=c.sub(M.mul(o));if(!u&&I.cmp(r)<0)f=w.neg(),l=s,u=I.neg(),h=C;else if(u&&++N===2)break;w=I,i=n,n=I,a=s,s=C,c=o,o=k}g=I.neg(),m=C;var L=u.sqr().add(h.sqr()),$=g.sqr().add(m.sqr());return $.cmp(L)>=0&&(g=f,m=l),u.negative&&(u=u.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:h},{a:g,b:m}]};Pa.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),f=s.mul(n.b),l=o.mul(i.b),u=e.sub(a).sub(c),h=f.add(l).neg();return{k1:u,k2:h}};Pa.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Pa.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Pa.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],f=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=c,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),u=0;u<o*2;u++)i[u]=null,s[u]=null;return l};function Li(t,e,r,n){y0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}P6(Li,y0.BasePoint);Pa.prototype.point=function(e,r,n){return new Li(this,e,r,n)};Pa.prototype.pointFromJSON=function(e,r){return Li.fromJSON(this,e,r)};Li.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Li.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Li.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Li.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Li.prototype.isInfinity=function(){return this.inf};Li.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Li.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Li.prototype.getX=function(){return this.x.fromRed()};Li.prototype.getY=function(){return this.y.fromRed()};Li.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Li.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Li.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Li.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Li.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Li.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function rs(t,e,r,n){y0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}P6(rs,y0.BasePoint);Pa.prototype.jpoint=function(e,r,n){return new rs(this,e,r,n)};rs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};rs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};rs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),f=o.redSub(a);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),u=l.redMul(c),h=i.redMul(l),g=f.redSqr().redIAdd(u).redISub(h).redISub(h),m=f.redMul(h.redISub(g)).redISub(o.redMul(u)),w=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,m,w)};rs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),l=f.redMul(a),u=n.redMul(f),h=c.redSqr().redIAdd(l).redISub(u).redISub(u),g=c.redMul(u.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(a);return this.curve.jpoint(h,g,m)};rs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,f=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),h=l.redSqr(),g=h.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),w=o.redMul(h),N=m.redSqr().redISub(w.redAdd(w)),I=w.redISub(N),C=m.redMul(I);C=C.redIAdd(C).redISub(g);var M=l.redMul(c);r+1<e&&(f=f.redMul(g)),o=N,c=M,l=C}return this.curve.jpoint(o,l.redMul(s),c)};rs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};rs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var w=u.redAdd(u).redIAdd(u),N=w.redSqr(),I=g.redIAdd(g);I=I.redIAdd(I),I=I.redIAdd(I),e=N.redISub(m).redISub(m),r=w.redMul(m.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};rs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(a).redISub(a);e=f;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var w=g.redIAdd(g);w=w.redIAdd(w);var N=w.redAdd(w);e=m.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var I=h.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=m.redMul(w.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};rs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(a),u=c.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=c.redMul(h).redISub(g),w=n.redAdd(n).redMul(i);return this.curve.jpoint(u,m,w)};rs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(f),u=r.redMul(l);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(c).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(l.redMul(f.redISub(l)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,m)};rs.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};rs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};rs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};rs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};rs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var lv=Bg(function(t,e){var r=e;r.base=y0,r.short=PSe,r.mont=null,r.edwards=null}),uv=Bg(function(t,e){var r=e,n=Mo.assert;function i(a){a.type==="short"?this.curve=new lv.short(a):a.type==="edwards"?this.curve=new lv.edwards(a):this.curve=new lv.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:We.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:We.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:We.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:We.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:We.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:We.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function gh(t){if(!(this instanceof gh))return new gh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=nf.toArray(t.entropy,t.entropyEnc||"hex"),r=nf.toArray(t.nonce,t.nonceEnc||"hex"),n=nf.toArray(t.pers,t.persEnc||"hex");O6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var yq=gh;gh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};gh.prototype._hmac=function(){return new We.hmac(this.hash,this.K)};gh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};gh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=nf.toArray(e,r),n=nf.toArray(n,i),O6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};gh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=nf.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,nf.encode(o,r)};var A3=Mo.assert;function gs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var U6=gs;gs.fromPublic=function(e,r,n){return r instanceof gs?r:new gs(e,{pub:r,pubEnc:n})};gs.fromPrivate=function(e,r,n){return r instanceof gs?r:new gs(e,{priv:r,privEnc:n})};gs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};gs.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};gs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};gs.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};gs.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?A3(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&A3(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};gs.prototype.derive=function(e){return e.validate()||A3(e.validate(),"public point not validated"),e.mul(this.priv).getX()};gs.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};gs.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};gs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var USe=Mo.assert;function ZA(t,e){if(t instanceof ZA)return t;this._importDER(t,e)||(USe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var QA=ZA;function MSe(){this.place=0}function _I(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function gk(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}ZA.prototype._importDER=function(e,r){e=Mo.toArray(e,r);var n=new MSe;if(e[n.place++]!==48)return!1;var i=_I(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=_I(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=_I(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function AI(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}ZA.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=gk(r),n=gk(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];AI(i,r.length),i=i.concat(r),i.push(2),AI(i,n.length);var s=i.concat(n),o=[48];return AI(o,s.length),o=o.concat(s),Mo.encode(o,e)};var DSe=function(){throw new Error("unsupported")},wq=Mo.assert;function ya(t){if(!(this instanceof ya))return new ya(t);typeof t=="string"&&(wq(Object.prototype.hasOwnProperty.call(uv,t),"Unknown curve "+t),t=uv[t]),t instanceof uv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var kSe=ya;ya.prototype.keyPair=function(e){return new U6(this,e)};ya.prototype.keyFromPrivate=function(e,r){return U6.fromPrivate(this,e,r)};ya.prototype.keyFromPublic=function(e,r){return U6.fromPublic(this,e,r)};ya.prototype.genKeyPair=function(e){e||(e={});for(var r=new yq({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||DSe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ya.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ya.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new te(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new yq({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new te(1)),l=0;;l++){var u=i.k?i.k(l):new te(c.generate(this.n.byteLength()));if(u=this._truncateToN(u,!0),!(u.cmpn(1)<=0||u.cmp(f)>=0)){var h=this.g.mul(u);if(!h.isInfinity()){var g=h.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var w=u.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var N=(h.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),N^=1),new QA({r:m,s:w,recoveryParam:N})}}}}}};ya.prototype.verify=function(e,r,n,i){e=this._truncateToN(new te(e,16)),n=this.keyFromPublic(n,i),r=new QA(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),f=a.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),f),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};ya.prototype.recoverPubKey=function(t,e,r,n){wq((3&r)===r,"The recovery param is more than two bits"),e=new QA(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),u=i.sub(s).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(u,o,h)};ya.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new QA(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var LSe=Bg(function(t,e){var r=e;r.version="6.5.4",r.utils=Mo,r.rand=function(){throw new Error("unsupported")},r.curve=lv,r.curves=uv,r.ec=kSe,r.eddsa=null}),FSe=LSe.ec;globalThis&&globalThis.__awaiter;function _m(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const $Se="signing-key/5.7.0",N3=new ie($Se);let NI=null;function kf(){return NI||(NI=new FSe("secp256k1")),NI}let vq=class{constructor(e){_m(this,"curve","secp256k1"),_m(this,"privateKey",ye(e)),ul(this.privateKey)!==32&&N3.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=kf().keyFromPrivate(me(this.privateKey));_m(this,"publicKey","0x"+r.getPublic(!1,"hex")),_m(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),_m(this,"_isSigningKey",!0)}_addPoint(e){const r=kf().keyFromPublic(me(this.publicKey)),n=kf().keyFromPublic(me(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=kf().keyFromPrivate(me(this.privateKey)),n=me(e);n.length!==32&&N3.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return m0({recoveryParam:i.recoveryParam,r:Tr("0x"+i.r.toString(16),32),s:Tr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=kf().keyFromPrivate(me(this.privateKey)),n=kf().keyFromPublic(me(_q(e)));return Tr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function BSe(t,e){const r=m0(e),n={r:me(r.r),s:me(r.s)};return"0x"+kf().recoverPubKey(me(t),n,r.recoveryParam).encode("hex",!1)}function _q(t,e){const r=me(t);if(r.length===32){const n=new vq(r);return e?"0x"+kf().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?ye(r):"0x"+kf().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+kf().keyFromPublic(r).getPublic(!0,"hex"):ye(r)}return N3.throwArgumentError("invalid public or private key","key","[REDACTED]")}const GSe=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:vq,computePublicKey:_q,recoverPublicKey:BSe},Symbol.toStringTag,{value:"Module"})),jSe="strings/5.7.0",Aq=new ie(jSe);var t0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(t0||(t0={}));var to;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(to||(to={}));function zSe(t,e,r,n,i){return Aq.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Nq(t,e,r,n,i){if(t===to.BAD_PREFIX||t===to.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===to.OVERRUN?r.length-e-1:0}function WSe(t,e,r,n,i){return t===to.OVERLONG?(n.push(i),0):(n.push(65533),Nq(t,e,r))}const xq=Object.freeze({error:zSe,ignore:Nq,replace:WSe});function M6(t,e){e==null&&(e=xq.error),t=me(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(to.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(to.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(to.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let f=t[n];if((f&192)!=128){n+=e(to.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e(to.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(to.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(to.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function eN(t,e=t0.current){e!=t0.current&&(Aq.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return me(r)}function xI(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function HSe(t,e){return'"'+M6(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?xI(r):(r-=65536,xI((r>>10&1023)+55296)+xI((r&1023)+56320))}).join("")+'"'}function x3(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Iq(t,e){return x3(M6(t,e))}function I3(t,e=t0.current){return M6(eN(t,e))}function qSe(t){const e=eN(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ye(Lr([e,aH]).slice(0,32))}function VSe(t){const e=me(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Iq(e.slice(0,r))}function KSe(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function D6(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function Sq(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function k6(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const JSe=Sq("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),XSe="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),YSe=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ZSe=D6("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),QSe=D6("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),eRe=D6("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",KSe),tRe=Sq("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function rRe(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function nRe(t){return!!k6(t,JSe)}function iRe(t){let e=k6(t,YSe);if(e)return[t+e.s];let r=ZSe[t];if(r)return r;let n=QSe[t];if(n)return[t+n[0]];let i=eRe[t];return i||null}function sRe(t){return!!k6(t,tRe)}function oRe(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=I3(t);e=rRe(e.map(n=>{if(XSe.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=iRe(n);return i||[n]})),e=I3(x3(e),t0.NFKC),e.forEach(n=>{if(sRe(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(nRe(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=x3(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const aRe=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return t0},Utf8ErrorFuncs:xq,get Utf8ErrorReason(){return to},_toEscapedUtf8String:HSe,formatBytes32String:qSe,nameprep:oRe,parseBytes32String:VSe,toUtf8Bytes:eN,toUtf8CodePoints:I3,toUtf8String:Iq},Symbol.toStringTag,{value:"Module"})),cRe="logger/5.8.0";let mk=!1,bk=!1;const hv={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ek=hv.default,II=null;function fRe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const yk=fRe();var S3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(S3||(S3={}));var Fc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Fc||(Fc={}));const wk="0123456789abcdef";let tN=class ci{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();hv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Ek>hv[n])&&console.log.apply(console,r)}debug(...e){this._log(ci.levels.DEBUG,e)}info(...e){this._log(ci.levels.INFO,e)}warn(...e){this._log(ci.levels.WARNING,e)}makeError(e,r,n){if(bk)return this.makeError("censored error",r,{});r||(r=ci.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=wk[f[u]>>4],l+=wk[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Fc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Fc.CALL_EXCEPTION:case Fc.INSUFFICIENT_FUNDS:case Fc.MISSING_NEW:case Fc.NONCE_EXPIRED:case Fc.REPLACEMENT_UNDERPRICED:case Fc.TRANSACTION_REPLACED:case Fc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ci.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){yk&&this.throwError("platform missing String.prototype.normalize",ci.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:yk})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ci.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ci.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ci.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ci.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ci.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ci.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ci.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return II||(II=new ci(cRe)),II}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ci.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),mk){if(!e)return;this.globalLogger().throwError("error censorship permanent",ci.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}bk=!!e,mk=!!r}static setLogLevel(e){const r=hv[e.toLowerCase()];if(r==null){ci.globalLogger().warn("invalid log level - "+e);return}Ek=r}static from(e){return new ci(e)}};tN.errors=Fc;tN.levels=S3;const lRe="bytes/5.8.0",SI=new tN(lRe);function uRe(t){return!!t.toHexString}function dv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return dv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function vk(t){return typeof t=="number"&&t==t&&t%1===0}function hRe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!vk(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!vk(r)||r<0||r>=256)return!1}return!0}function dRe(t,e){if(e||(e={}),typeof t=="number"){SI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),dv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uRe(t)&&(t=t.toHexString()),Rq(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":SI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return dv(new Uint8Array(n))}return hRe(t)?dv(new Uint8Array(t)):SI.throwArgumentError("invalid arrayify value","value",t)}function Rq(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var pRe=te.BN;function gRe(t){return new pRe(t,36).toString(16)}const mRe="logger/5.8.0";let _k=!1,Ak=!1;const pv={debug:1,default:2,info:2,warning:3,error:4,off:5};let Nk=pv.default,RI=null;function bRe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const xk=bRe();var R3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(R3||(R3={}));var $c;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})($c||($c={}));const Ik="0123456789abcdef";let L6=class fi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();pv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Nk>pv[n])&&console.log.apply(console,r)}debug(...e){this._log(fi.levels.DEBUG,e)}info(...e){this._log(fi.levels.INFO,e)}warn(...e){this._log(fi.levels.WARNING,e)}makeError(e,r,n){if(Ak)return this.makeError("censored error",r,{});r||(r=fi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=Ik[f[u]>>4],l+=Ik[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case $c.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case $c.CALL_EXCEPTION:case $c.INSUFFICIENT_FUNDS:case $c.MISSING_NEW:case $c.NONCE_EXPIRED:case $c.REPLACEMENT_UNDERPRICED:case $c.TRANSACTION_REPLACED:case $c.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,fi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){xk&&this.throwError("platform missing String.prototype.normalize",fi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:xk})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,fi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,fi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,fi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,fi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",fi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",fi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",fi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return RI||(RI=new fi(mRe)),RI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",fi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_k){if(!e)return;this.globalLogger().throwError("error censorship permanent",fi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ak=!!e,_k=!!r}static setLogLevel(e){const r=pv[e.toLowerCase()];if(r==null){fi.globalLogger().warn("invalid log level - "+e);return}Nk=r}static from(e){return new fi(e)}};L6.errors=$c;L6.levels=R3;const ERe="bytes/5.8.0",TI=new L6(ERe);function yRe(t){return!!t.toHexString}function gv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return gv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Sk(t){return typeof t=="number"&&t==t&&t%1===0}function wRe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Sk(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Sk(r)||r<0||r>=256)return!1}return!0}function vRe(t,e){if(e||(e={}),typeof t=="number"){TI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),gv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),yRe(t)&&(t=t.toHexString()),_Re(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":TI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return gv(new Uint8Array(n))}return wRe(t)?gv(new Uint8Array(t)):TI.throwArgumentError("invalid arrayify value","value",t)}function _Re(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function r0(t){return"0x"+Ug.keccak_256(vRe(t))}const ARe="logger/5.8.0";let Rk=!1,Tk=!1;const mv={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ck=mv.default,CI=null;function NRe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Ok=NRe();var T3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(T3||(T3={}));var Bc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Bc||(Bc={}));const Pk="0123456789abcdef";let ua=class li{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();mv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Ck>mv[n])&&console.log.apply(console,r)}debug(...e){this._log(li.levels.DEBUG,e)}info(...e){this._log(li.levels.INFO,e)}warn(...e){this._log(li.levels.WARNING,e)}makeError(e,r,n){if(Tk)return this.makeError("censored error",r,{});r||(r=li.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=Pk[f[u]>>4],l+=Pk[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Bc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Bc.CALL_EXCEPTION:case Bc.INSUFFICIENT_FUNDS:case Bc.MISSING_NEW:case Bc.NONCE_EXPIRED:case Bc.REPLACEMENT_UNDERPRICED:case Bc.TRANSACTION_REPLACED:case Bc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,li.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Ok&&this.throwError("platform missing String.prototype.normalize",li.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ok})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,li.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,li.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,li.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,li.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",li.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",li.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",li.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return CI||(CI=new li(ARe)),CI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",li.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Rk){if(!e)return;this.globalLogger().throwError("error censorship permanent",li.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Tk=!!e,Rk=!!r}static setLogLevel(e){const r=mv[e.toLowerCase()];if(r==null){li.globalLogger().warn("invalid log level - "+e);return}Ck=r}static from(e){return new li(e)}};ua.errors=Bc;ua.levels=T3;const xRe="bytes/5.8.0",Wp=new ua(xRe);function Tq(t){return!!t.toHexString}function bv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return bv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function IRe(t){return $6(t)&&!(t.length%2)||F6(t)}function Uk(t){return typeof t=="number"&&t==t&&t%1===0}function F6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Uk(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Uk(r)||r<0||r>=256)return!1}return!0}function Cq(t,e){if(e||(e={}),typeof t=="number"){Wp.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),bv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Tq(t)&&(t=t.toHexString()),$6(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Wp.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return bv(new Uint8Array(n))}return F6(t)?bv(new Uint8Array(t)):Wp.throwArgumentError("invalid arrayify value","value",t)}function $6(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const OI="0123456789abcdef";function Ev(t,e){if(e||(e={}),typeof t=="number"){Wp.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=OI[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Tq(t))return t.toHexString();if($6(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Wp.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(F6(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=OI[(i&240)>>4]+OI[i&15]}return r}return Wp.throwArgumentError("invalid hexlify value","value",t)}const SRe="rlp/5.8.0",Pf=new ua(SRe);function Mk(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Dk(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Oq(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Oq(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Mk(n.length);return i.unshift(247+i.length),i.concat(n)}IRe(t)||Pf.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Cq(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Mk(e.length);return r.unshift(183+r.length),r.concat(e)}function BE(t){return Ev(Oq(t))}function kk(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Pq(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Pf.throwError("child data too short",ua.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Pq(t,e){if(t.length===0&&Pf.throwError("data too short",ua.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Pf.throwError("data short segment too short",ua.errors.BUFFER_OVERRUN,{});const n=Dk(t,e+1,r);return e+1+r+n>t.length&&Pf.throwError("data long segment too short",ua.errors.BUFFER_OVERRUN,{}),kk(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Pf.throwError("data array too short",ua.errors.BUFFER_OVERRUN,{}),kk(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Pf.throwError("data array too short",ua.errors.BUFFER_OVERRUN,{});const n=Dk(t,e+1,r);e+1+r+n>t.length&&Pf.throwError("data array too short",ua.errors.BUFFER_OVERRUN,{});const i=Ev(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Pf.throwError("data too short",ua.errors.BUFFER_OVERRUN,{});const n=Ev(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Ev(t[e])}}function B6(t){const e=Cq(t),r=Pq(e,0);return r.consumed!==e.length&&Pf.throwArgumentError("invalid rlp data","data",t),r.result}const RRe="address/5.8.0",zm=new tN(RRe);function Lk(t){Rq(t,20)||zm.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=dRe(r0(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const TRe=9007199254740991;function CRe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const G6={};for(let t=0;t<10;t++)G6[String(t)]=String(t);for(let t=0;t<26;t++)G6[String.fromCharCode(65+t)]=String(10+t);const Fk=Math.floor(CRe(TRe));function ORe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>G6[n]).join("");for(;e.length>=Fk;){let n=e.substring(0,Fk);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Sy(t){let e=null;if(typeof t!="string"&&zm.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Lk(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&zm.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ORe(t)&&zm.throwArgumentError("bad icap checksum","address",t),e=gRe(t.substring(4));e.length<40;)e="0"+e;e=Lk("0x"+e)}else zm.throwArgumentError("invalid address","address",t);return e}const PRe="logger/5.8.0";let $k=!1,Bk=!1;const yv={debug:1,default:2,info:2,warning:3,error:4,off:5};let Gk=yv.default,PI=null;function URe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const jk=URe();var C3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(C3||(C3={}));var Gc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Gc||(Gc={}));const zk="0123456789abcdef";let j6=class ui{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();yv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Gk>yv[n])&&console.log.apply(console,r)}debug(...e){this._log(ui.levels.DEBUG,e)}info(...e){this._log(ui.levels.INFO,e)}warn(...e){this._log(ui.levels.WARNING,e)}makeError(e,r,n){if(Bk)return this.makeError("censored error",r,{});r||(r=ui.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=zk[f[u]>>4],l+=zk[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Gc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Gc.CALL_EXCEPTION:case Gc.INSUFFICIENT_FUNDS:case Gc.MISSING_NEW:case Gc.NONCE_EXPIRED:case Gc.REPLACEMENT_UNDERPRICED:case Gc.TRANSACTION_REPLACED:case Gc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ui.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){jk&&this.throwError("platform missing String.prototype.normalize",ui.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:jk})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ui.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ui.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ui.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ui.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ui.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ui.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ui.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return PI||(PI=new ui(PRe)),PI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ui.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$k){if(!e)return;this.globalLogger().throwError("error censorship permanent",ui.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Bk=!!e,$k=!!r}static setLogLevel(e){const r=yv[e.toLowerCase()];if(r==null){ui.globalLogger().warn("invalid log level - "+e);return}Gk=r}static from(e){return new ui(e)}};j6.errors=Gc;j6.levels=C3;const MRe="properties/5.8.0";globalThis&&globalThis.__awaiter;const Wk=new j6(MRe);function Am(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function DRe(t,e){(!t||typeof t!="object")&&Wk.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Wk.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Gg(t,e,r){return r={path:e,exports:{},require:function(n,i){return kRe(n,i??r.path)}},t(r,r.exports),r.exports}function kRe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var z6=Uq;function Uq(t,e){if(!t)throw new Error(e||"Assertion failed")}Uq.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var sf=Gg(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var f=0;f<o.length;f++)c[f]=o[f]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var f=0;f<o.length;f+=2)c.push(parseInt(o[f]+o[f+1],16))}else for(var f=0;f<o.length;f++){var l=o.charCodeAt(f),u=l>>8,h=l&255;u?c.push(u,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Do=Gg(function(t,e){var r=e;r.assert=z6,r.toArray=sf.toArray,r.zero2=sf.zero2,r.toHex=sf.toHex,r.encode=sf.encode;function n(c,f,l){var u=new Array(Math.max(c.bitLength(),l)+1),h;for(h=0;h<u.length;h+=1)u[h]=0;var g=1<<f+1,m=c.clone();for(h=0;h<u.length;h++){var w,N=m.andln(g-1);m.isOdd()?(N>(g>>1)-1?w=(g>>1)-N:w=N,m.isubn(w)):w=0,u[h]=w,m.iushrn(1)}return u}r.getNAF=n;function i(c,f){var l=[[],[]];c=c.clone(),f=f.clone();for(var u=0,h=0,g;c.cmpn(-u)>0||f.cmpn(-h)>0;){var m=c.andln(3)+u&3,w=f.andln(3)+h&3;m===3&&(m=-1),w===3&&(w=-1);var N;m&1?(g=c.andln(7)+u&7,(g===3||g===5)&&w===2?N=-m:N=m):N=0,l[0].push(N);var I;w&1?(g=f.andln(7)+h&7,(g===3||g===5)&&m===2?I=-w:I=w):I=0,l[1].push(I),2*u===N+1&&(u=1-u),2*h===I+1&&(h=1-h),c.iushrn(1),f.iushrn(1)}return l}r.getJSF=i;function s(c,f,l){var u="_"+f;c.prototype[f]=function(){return this[u]!==void 0?this[u]:this[u]=l.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),P_=Do.getNAF,LRe=Do.getJSF,U_=Do.assert;function Oh(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var w0=Oh;Oh.prototype.point=function(){throw new Error("Not implemented")};Oh.prototype.validate=function(){throw new Error("Not implemented")};Oh.prototype._fixedNafMul=function(e,r){U_(e.precomputed);var n=e._getDoubles(),i=P_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var f=a+n.step-1;f>=a;f--)c=(c<<1)+i[f];o.push(c)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?u=u.mixedAdd(n.points[a]):c===-h&&(u=u.mixedAdd(n.points[a].neg()));l=l.add(u)}return l.toP()};Oh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=P_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&o[c]===0;c--)f++;if(c>=0&&f++,a=a.dblp(f),c<0)break;var l=o[c];U_(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};Oh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,f=0,l,u,h;for(l=0;l<i;l++){h=r[l];var g=h._getNAFPoints(e);o[l]=g.wnd,a[l]=g.points}for(l=i-1;l>=1;l-=2){var m=l-1,w=l;if(o[m]!==1||o[w]!==1){c[m]=P_(n[m],o[m],this._bitLength),c[w]=P_(n[w],o[w],this._bitLength),f=Math.max(c[m].length,f),f=Math.max(c[w].length,f);continue}var N=[r[m],null,null,r[w]];r[m].y.cmp(r[w].y)===0?(N[1]=r[m].add(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg())):r[m].y.cmp(r[w].y.redNeg())===0?(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].add(r[w].neg())):(N[1]=r[m].toJ().mixedAdd(r[w]),N[2]=r[m].toJ().mixedAdd(r[w].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],C=LRe(n[m],n[w]);for(f=Math.max(C[0].length,f),c[m]=new Array(f),c[w]=new Array(f),u=0;u<f;u++){var M=C[0][u]|0,k=C[1][u]|0;c[m][u]=I[(M+1)*3+(k+1)],c[w][u]=0,a[m]=N}}var L=this.jpoint(null,null,null),$=this._wnafT4;for(l=f;l>=0;l--){for(var V=0;l>=0;){var P=!0;for(u=0;u<i;u++)$[u]=c[u][l]|0,$[u]!==0&&(P=!1);if(!P)break;V++,l--}if(l>=0&&V++,L=L.dblp(V),l<0)break;for(u=0;u<i;u++){var O=$[u];O!==0&&(O>0?h=a[u][O-1>>1]:O<0&&(h=a[u][-O-1>>1].neg()),h.type==="affine"?L=L.mixedAdd(h):L=L.add(h))}}for(l=0;l<i;l++)a[l]=null;return s?L:L.toP()};function Ua(t,e){this.curve=t,this.type=e,this.precomputed=null}Oh.BasePoint=Ua;Ua.prototype.eq=function(){throw new Error("Not implemented")};Ua.prototype.validate=function(){return this.curve.validate(this)};Oh.prototype.decodePoint=function(e,r){e=Do.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?U_(e[e.length-1]%2===0):e[0]===7&&U_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ua.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ua.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ua.prototype.encode=function(e,r){return Do.encode(this._encode(r),e)};Ua.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ua.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ua.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ua.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ua.prototype._getBeta=function(){return null};Ua.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var W6=Gg(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),FRe=Do.assert;function Ma(t){w0.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}W6(Ma,w0);var $Re=Ma;Ma.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],FRe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ma.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ma.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),f,l,u,h,g,m,w,N=0,I,C;n.cmpn(0)!==0;){var M=i.div(n);I=i.sub(M.mul(n)),C=a.sub(M.mul(s));var k=c.sub(M.mul(o));if(!u&&I.cmp(r)<0)f=w.neg(),l=s,u=I.neg(),h=C;else if(u&&++N===2)break;w=I,i=n,n=I,a=s,s=C,c=o,o=k}g=I.neg(),m=C;var L=u.sqr().add(h.sqr()),$=g.sqr().add(m.sqr());return $.cmp(L)>=0&&(g=f,m=l),u.negative&&(u=u.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:u,b:h},{a:g,b:m}]};Ma.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),f=s.mul(n.b),l=o.mul(i.b),u=e.sub(a).sub(c),h=f.add(l).neg();return{k1:u,k2:h}};Ma.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Ma.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ma.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],f=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=c,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),u=0;u<o*2;u++)i[u]=null,s[u]=null;return l};function Fi(t,e,r,n){w0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}W6(Fi,w0.BasePoint);Ma.prototype.point=function(e,r,n){return new Fi(this,e,r,n)};Ma.prototype.pointFromJSON=function(e,r){return Fi.fromJSON(this,e,r)};Fi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Fi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Fi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Fi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Fi.prototype.isInfinity=function(){return this.inf};Fi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Fi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Fi.prototype.getX=function(){return this.x.fromRed()};Fi.prototype.getY=function(){return this.y.fromRed()};Fi.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Fi.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Fi.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Fi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Fi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Fi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ns(t,e,r,n){w0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}W6(ns,w0.BasePoint);Ma.prototype.jpoint=function(e,r,n){return new ns(this,e,r,n)};ns.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ns.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ns.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),f=o.redSub(a);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),u=l.redMul(c),h=i.redMul(l),g=f.redSqr().redIAdd(u).redISub(h).redISub(h),m=f.redMul(h.redISub(g)).redISub(o.redMul(u)),w=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,m,w)};ns.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),l=f.redMul(a),u=n.redMul(f),h=c.redSqr().redIAdd(l).redISub(u).redISub(u),g=c.redMul(u.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(a);return this.curve.jpoint(h,g,m)};ns.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,f=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var u=o.redSqr(),h=l.redSqr(),g=h.redSqr(),m=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),w=o.redMul(h),N=m.redSqr().redISub(w.redAdd(w)),I=w.redISub(N),C=m.redMul(I);C=C.redIAdd(C).redISub(g);var M=l.redMul(c);r+1<e&&(f=f.redMul(g)),o=N,c=M,l=C}return this.curve.jpoint(o,l.redMul(s),c)};ns.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ns.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=f,r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(u).redISub(g);m=m.redIAdd(m);var w=u.redAdd(u).redIAdd(u),N=w.redSqr(),I=g.redIAdd(g);I=I.redIAdd(I),I=I.redIAdd(I),e=N.redISub(m).redISub(m),r=w.redMul(m.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ns.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(a).redISub(a);e=f;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(f)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(u).redMul(this.x.redAdd(u));m=m.redAdd(m).redIAdd(m);var w=g.redIAdd(g);w=w.redIAdd(w);var N=w.redAdd(w);e=m.redSqr().redISub(N),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var I=h.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=m.redMul(w.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};ns.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var l=f.redMul(a),u=c.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=c.redMul(h).redISub(g),w=n.redAdd(n).redMul(i);return this.curve.jpoint(u,m,w)};ns.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(f),u=r.redMul(l);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(c).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(l.redMul(f.redISub(l)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,m)};ns.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};ns.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ns.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ns.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ns.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var wv=Gg(function(t,e){var r=e;r.base=w0,r.short=$Re,r.mont=null,r.edwards=null}),vv=Gg(function(t,e){var r=e,n=Do.assert;function i(a){a.type==="short"?this.curve=new wv.short(a):a.type==="edwards"?this.curve=new wv.edwards(a):this.curve=new wv.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var f=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:f}),f}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:We.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:We.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:We.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:We.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:We.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:We.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:We.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function mh(t){if(!(this instanceof mh))return new mh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=sf.toArray(t.entropy,t.entropyEnc||"hex"),r=sf.toArray(t.nonce,t.nonceEnc||"hex"),n=sf.toArray(t.pers,t.persEnc||"hex");z6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Mq=mh;mh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};mh.prototype._hmac=function(){return new We.hmac(this.hash,this.K)};mh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};mh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=sf.toArray(e,r),n=sf.toArray(n,i),z6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};mh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=sf.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,sf.encode(o,r)};var O3=Do.assert;function ms(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var H6=ms;ms.fromPublic=function(e,r,n){return r instanceof ms?r:new ms(e,{pub:r,pubEnc:n})};ms.fromPrivate=function(e,r,n){return r instanceof ms?r:new ms(e,{priv:r,privEnc:n})};ms.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ms.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ms.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ms.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ms.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?O3(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&O3(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ms.prototype.derive=function(e){return e.validate()||O3(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ms.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ms.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ms.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BRe=Do.assert;function rN(t,e){if(t instanceof rN)return t;this._importDER(t,e)||(BRe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var nN=rN;function GRe(){this.place=0}function UI(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Hk(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}rN.prototype._importDER=function(e,r){e=Do.toArray(e,r);var n=new GRe;if(e[n.place++]!==48)return!1;var i=UI(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=UI(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=UI(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function MI(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}rN.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Hk(r),n=Hk(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];MI(i,r.length),i=i.concat(r),i.push(2),MI(i,n.length);var s=i.concat(n),o=[48];return MI(o,s.length),o=o.concat(s),Do.encode(o,e)};var jRe=function(){throw new Error("unsupported")},yd=Do.assert;function wa(t){if(!(this instanceof wa))return new wa(t);typeof t=="string"&&(yd(Object.prototype.hasOwnProperty.call(vv,t),"Unknown curve "+t),t=vv[t]),t instanceof vv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var zRe=wa;wa.prototype.keyPair=function(e){return new H6(this,e)};wa.prototype.keyFromPrivate=function(e,r){return H6.fromPrivate(this,e,r)};wa.prototype.keyFromPublic=function(e,r){return H6.fromPublic(this,e,r)};wa.prototype.genKeyPair=function(e){e||(e={});for(var r=new Mq({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||jRe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};wa.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wa.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){yd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),yd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)yd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),yd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);yd(new te(c).eq(e),"Can not sign message");for(var f=new Mq({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new te(1)),u=0;;u++){var h=i.k?i.k(u):new te(f.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var m=g.getX(),w=m.umod(this.n);if(w.cmpn(0)!==0){var N=h.invm(this.n).mul(w.mul(r.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var I=(g.getY().isOdd()?1:0)|(m.cmp(w)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),I^=1),new nN({r:w,s:N,recoveryParam:I})}}}}}};wa.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new nN(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),f=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(f,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};wa.prototype.recoverPubKey=function(t,e,r,n){yd((3&r)===r,"The recovery param is more than two bits"),e=new nN(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),u=i.sub(s).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(u,o,h)};wa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new nN(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var WRe=Gg(function(t,e){var r=e;r.version="6.6.1",r.utils=Do,r.rand=function(){throw new Error("unsupported")},r.curve=wv,r.curves=vv,r.ec=zRe,r.eddsa=null}),HRe=WRe.ec;const qRe="logger/5.8.0";let qk=!1,Vk=!1;const _v={debug:1,default:2,info:2,warning:3,error:4,off:5};let Kk=_v.default,DI=null;function VRe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Jk=VRe();var P3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(P3||(P3={}));var jc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(jc||(jc={}));const Xk="0123456789abcdef";let iN=class hi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();_v[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Kk>_v[n])&&console.log.apply(console,r)}debug(...e){this._log(hi.levels.DEBUG,e)}info(...e){this._log(hi.levels.INFO,e)}warn(...e){this._log(hi.levels.WARNING,e)}makeError(e,r,n){if(Vk)return this.makeError("censored error",r,{});r||(r=hi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=Xk[f[u]>>4],l+=Xk[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case jc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case jc.CALL_EXCEPTION:case jc.INSUFFICIENT_FUNDS:case jc.MISSING_NEW:case jc.NONCE_EXPIRED:case jc.REPLACEMENT_UNDERPRICED:case jc.TRANSACTION_REPLACED:case jc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,hi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Jk&&this.throwError("platform missing String.prototype.normalize",hi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Jk})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,hi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,hi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,hi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,hi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",hi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",hi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",hi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return DI||(DI=new hi(qRe)),DI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",hi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),qk){if(!e)return;this.globalLogger().throwError("error censorship permanent",hi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Vk=!!e,qk=!!r}static setLogLevel(e){const r=_v[e.toLowerCase()];if(r==null){hi.globalLogger().warn("invalid log level - "+e);return}Kk=r}static from(e){return new hi(e)}};iN.errors=jc;iN.levels=P3;const KRe="bytes/5.8.0",mn=new iN(KRe);function Dq(t){return!!t.toHexString}function _b(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return _b(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function JRe(t){return ih(t)&&!(t.length%2)||q6(t)}function Yk(t){return typeof t=="number"&&t==t&&t%1===0}function q6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Yk(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Yk(r)||r<0||r>=256)return!1}return!0}function Ss(t,e){if(e||(e={}),typeof t=="number"){mn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),_b(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Dq(t)&&(t=t.toHexString()),ih(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":mn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return _b(new Uint8Array(n))}return q6(t)?_b(new Uint8Array(t)):mn.throwArgumentError("invalid arrayify value","value",t)}function XRe(t,e){t=Ss(t),t.length>e&&mn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),_b(r)}function ih(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const kI="0123456789abcdef";function Eo(t,e){if(e||(e={}),typeof t=="number"){mn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=kI[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Dq(t))return t.toHexString();if(ih(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":mn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(q6(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=kI[(i&240)>>4]+kI[i&15]}return r}return mn.throwArgumentError("invalid hexlify value","value",t)}function YRe(t){if(typeof t!="string")t=Eo(t);else if(!ih(t)||t.length%2)return null;return(t.length-2)/2}function Hp(t,e){for(typeof t!="string"?t=Eo(t):ih(t)||mn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&mn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function kq(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(JRe(t)){let r=Ss(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Eo(r.slice(0,32)),e.s=Eo(r.slice(32,64))):r.length===65?(e.r=Eo(r.slice(0,32)),e.s=Eo(r.slice(32,64)),e.v=r[64]):mn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:mn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Eo(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=XRe(Ss(e._vs),32);e._vs=Eo(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&mn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Eo(i);e.s==null?e.s=o:e.s!==o&&mn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?mn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&mn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ih(e.r)?mn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Hp(e.r,32),e.s==null||!ih(e.s)?mn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Hp(e.s,32);const r=Ss(e.s);r[0]>=128&&mn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Eo(r);e._vs&&(ih(e._vs)||mn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Hp(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&mn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const ZRe="signing-key/5.8.0",U3=new iN(ZRe);let LI=null;function Lf(){return LI||(LI=new HRe("secp256k1")),LI}class QRe{constructor(e){Am(this,"curve","secp256k1"),Am(this,"privateKey",Eo(e)),YRe(this.privateKey)!==32&&U3.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Lf().keyFromPrivate(Ss(this.privateKey));Am(this,"publicKey","0x"+r.getPublic(!1,"hex")),Am(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Am(this,"_isSigningKey",!0)}_addPoint(e){const r=Lf().keyFromPublic(Ss(this.publicKey)),n=Lf().keyFromPublic(Ss(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Lf().keyFromPrivate(Ss(this.privateKey)),n=Ss(e);n.length!==32&&U3.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return kq({recoveryParam:i.recoveryParam,r:Hp("0x"+i.r.toString(16),32),s:Hp("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Lf().keyFromPrivate(Ss(this.privateKey)),n=Lf().keyFromPublic(Ss(Lq(e)));return Hp("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function e3e(t,e){const r=kq(e),n={r:Ss(r.r),s:Ss(r.s)};return"0x"+Lf().recoverPubKey(Ss(t),n,r.recoveryParam).encode("hex",!1)}function Lq(t,e){const r=Ss(t);if(r.length===32){const n=new QRe(r);return e?"0x"+Lf().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Eo(r):"0x"+Lf().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Lf().keyFromPublic(r).getPublic(!0,"hex"):Eo(r)}return U3.throwArgumentError("invalid public or private key","key","[REDACTED]")}const t3e="transactions/5.7.0",ls=new ie(t3e);var M3;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(M3||(M3={}));function V6(t){return t==="0x"?null:Sy(t)}function cs(t){return t==="0x"?oH:xe.from(t)}const r3e=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],n3e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Fq(t){const e=Lq(t);return Sy(ln(r0(ln(e,1)),12))}function K6(t,e){return Fq(e3e(me(t),e))}function Ao(t,e){const r=tl(xe.from(t).toHexString());return r.length>32&&ls.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function FI(t,e){return{address:Sy(t),storageKeys:(e||[]).map((r,n)=>(ul(r)!==32&&ls.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function sN(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ls.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),FI(r[0],r[1])):FI(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return FI(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function $q(t){return sN(t).map(e=>[e.address,e.storageKeys])}function Bq(t,e){if(t.gasPrice!=null){const n=xe.from(t.gasPrice),i=xe.from(t.maxFeePerGas||0);n.eq(i)||ls.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Ao(t.chainId||0,"chainId"),Ao(t.nonce||0,"nonce"),Ao(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ao(t.maxFeePerGas||0,"maxFeePerGas"),Ao(t.gasLimit||0,"gasLimit"),t.to!=null?Sy(t.to):"0x",Ao(t.value||0,"value"),t.data||"0x",$q(t.accessList||[])];if(e){const n=m0(e);r.push(Ao(n.recoveryParam,"recoveryParam")),r.push(tl(n.r)),r.push(tl(n.s))}return Cs(["0x02",BE(r)])}function Gq(t,e){const r=[Ao(t.chainId||0,"chainId"),Ao(t.nonce||0,"nonce"),Ao(t.gasPrice||0,"gasPrice"),Ao(t.gasLimit||0,"gasLimit"),t.to!=null?Sy(t.to):"0x",Ao(t.value||0,"value"),t.data||"0x",$q(t.accessList||[])];if(e){const n=m0(e);r.push(Ao(n.recoveryParam,"recoveryParam")),r.push(tl(n.r)),r.push(tl(n.s))}return Cs(["0x01",BE(r)])}function i3e(t,e){DRe(t,n3e);const r=[];r3e.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=me(ye(a,c)),o.length&&a.length!==o.length&&a.length>0&&ls.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=tl(a),a.length>o.maxLength&&ls.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(ye(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&ls.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!wy(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(ye(n)),r.push("0x"),r.push("0x")),!e)return BE(r);const i=m0(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&ls.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&ls.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(ye(s)),r.push(tl(me(i.r))),r.push(tl(me(i.s))),BE(r)}function s3e(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&ls.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),i3e(t,e);switch(t.type){case 1:return Gq(t,e);case 2:return Bq(t,e)}return ls.throwError(`unsupported transaction type: ${t.type}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function jq(t,e,r){try{const n=cs(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ls.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Tr(e[1],32),t.s=Tr(e[2],32);try{const n=r0(r(t));t.from=K6(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function o3e(t){const e=B6(t.slice(1));e.length!==9&&e.length!==12&&ls.throwArgumentError("invalid component count for transaction type: 2","payload",ye(t));const r=cs(e[2]),n=cs(e[3]),i={type:2,chainId:cs(e[0]).toNumber(),nonce:cs(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:cs(e[4]),to:V6(e[5]),value:cs(e[6]),data:e[7],accessList:sN(e[8])};return e.length===9||(i.hash=r0(t),jq(i,e.slice(9),Bq)),i}function a3e(t){const e=B6(t.slice(1));e.length!==8&&e.length!==11&&ls.throwArgumentError("invalid component count for transaction type: 1","payload",ye(t));const r={type:1,chainId:cs(e[0]).toNumber(),nonce:cs(e[1]).toNumber(),gasPrice:cs(e[2]),gasLimit:cs(e[3]),to:V6(e[4]),value:cs(e[5]),data:e[6],accessList:sN(e[7])};return e.length===8||(r.hash=r0(t),jq(r,e.slice(8),Gq)),r}function c3e(t){const e=B6(t);e.length!==9&&e.length!==6&&ls.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:cs(e[0]).toNumber(),gasPrice:cs(e[1]),gasLimit:cs(e[2]),to:V6(e[3]),value:cs(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=xe.from(e[6]).toNumber()}catch{return r}if(r.r=Tr(e[7],32),r.s=Tr(e[8],32),xe.from(r.r).isZero()&&xe.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ye(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=r0(BE(i));try{r.from=K6(s,{r:ye(r.r),s:ye(r.s),recoveryParam:n})}catch{}r.hash=r0(t)}return r.type=null,r}function f3e(t){const e=me(t);if(e[0]>127)return c3e(e);switch(e[0]){case 1:return a3e(e);case 2:return o3e(e)}return ls.throwError(`unsupported transaction type: ${e[0]}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const l3e=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return M3},accessListify:sN,computeAddress:Fq,parse:f3e,recoverAddress:K6,serialize:s3e},Symbol.toStringTag,{value:"Module"})),u3e="units/5.7.0",zq=new ie(u3e),Wq=["wei","kwei","mwei","gwei","szabo","finney","ether"];function h3e(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&zq.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function J6(t,e){if(typeof e=="string"){const r=Wq.indexOf(e);r!==-1&&(e=3*r)}return cw(t,e??18)}function X6(t,e){if(typeof t!="string"&&zq.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=Wq.indexOf(e);r!==-1&&(e=3*r)}return If(t,e??18)}function d3e(t){return J6(t,18)}function p3e(t){return X6(t,18)}const g3e=Object.freeze(Object.defineProperty({__proto__:null,commify:h3e,formatEther:d3e,formatUnits:J6,parseEther:p3e,parseUnits:X6},Symbol.toStringTag,{value:"Module"})),m3e="logger/5.8.0";let Zk=!1,Qk=!1;const Av={debug:1,default:2,info:2,warning:3,error:4,off:5};let eL=Av.default,$I=null;function b3e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const tL=b3e();var D3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(D3||(D3={}));var zc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(zc||(zc={}));const rL="0123456789abcdef";let Y6=class di{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Av[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(eL>Av[n])&&console.log.apply(console,r)}debug(...e){this._log(di.levels.DEBUG,e)}info(...e){this._log(di.levels.INFO,e)}warn(...e){this._log(di.levels.WARNING,e)}makeError(e,r,n){if(Qk)return this.makeError("censored error",r,{});r||(r=di.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=rL[f[u]>>4],l+=rL[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case zc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case zc.CALL_EXCEPTION:case zc.INSUFFICIENT_FUNDS:case zc.MISSING_NEW:case zc.NONCE_EXPIRED:case zc.REPLACEMENT_UNDERPRICED:case zc.TRANSACTION_REPLACED:case zc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,di.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){tL&&this.throwError("platform missing String.prototype.normalize",di.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:tL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,di.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,di.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,di.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,di.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",di.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",di.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",di.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return $I||($I=new di(m3e)),$I}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",di.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Zk){if(!e)return;this.globalLogger().throwError("error censorship permanent",di.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Qk=!!e,Zk=!!r}static setLogLevel(e){const r=Av[e.toLowerCase()];if(r==null){di.globalLogger().warn("invalid log level - "+e);return}eL=r}static from(e){return new di(e)}};Y6.errors=zc;Y6.levels=D3;const E3e="bytes/5.8.0",BI=new Y6(E3e);function y3e(t){return!!t.toHexString}function Nv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Nv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function nL(t){return typeof t=="number"&&t==t&&t%1===0}function w3e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!nL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!nL(r)||r<0||r>=256)return!1}return!0}function Hq(t,e){if(e||(e={}),typeof t=="number"){BI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Nv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),y3e(t)&&(t=t.toHexString()),v3e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":BI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Nv(new Uint8Array(n))}return w3e(t)?Nv(new Uint8Array(t)):BI.throwArgumentError("invalid arrayify value","value",t)}function v3e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function _3e(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Hq(e)}function A3e(t){t=Hq(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}globalThis&&globalThis.__awaiter;function M_(t){const e={};for(const r in t)e[r]=t[r];return e}const N3e="logger/5.8.0";let iL=!1,sL=!1;const xv={debug:1,default:2,info:2,warning:3,error:4,off:5};let oL=xv.default,GI=null;function x3e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const aL=x3e();var k3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(k3||(k3={}));var Wc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Wc||(Wc={}));const cL="0123456789abcdef";class qr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(oL>xv[n])&&console.log.apply(console,r)}debug(...e){this._log(qr.levels.DEBUG,e)}info(...e){this._log(qr.levels.INFO,e)}warn(...e){this._log(qr.levels.WARNING,e)}makeError(e,r,n){if(sL)return this.makeError("censored error",r,{});r||(r=qr.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const f=n[c];try{if(f instanceof Uint8Array){let l="";for(let u=0;u<f.length;u++)l+=cL[f[u]>>4],l+=cL[f[u]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(f))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Wc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Wc.CALL_EXCEPTION:case Wc.INSUFFICIENT_FUNDS:case Wc.MISSING_NEW:case Wc.NONCE_EXPIRED:case Wc.REPLACEMENT_UNDERPRICED:case Wc.TRANSACTION_REPLACED:case Wc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,qr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){aL&&this.throwError("platform missing String.prototype.normalize",qr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:aL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,qr.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,qr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",qr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return GI||(GI=new qr(N3e)),GI}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),iL){if(!e)return;this.globalLogger().throwError("error censorship permanent",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sL=!!e,iL=!!r}static setLogLevel(e){const r=xv[e.toLowerCase()];if(r==null){qr.globalLogger().warn("invalid log level - "+e);return}oL=r}static from(e){return new qr(e)}}qr.errors=Wc;qr.levels=k3;const I3e="bytes/5.8.0",jI=new qr(I3e);function S3e(t){return!!t.toHexString}function Iv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Iv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function fL(t){return typeof t=="number"&&t==t&&t%1===0}function R3e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!fL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!fL(r)||r<0||r>=256)return!1}return!0}function qq(t,e){if(e||(e={}),typeof t=="number"){jI.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Iv(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),S3e(t)&&(t=t.toHexString()),T3e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":jI.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Iv(new Uint8Array(n))}return R3e(t)?Iv(new Uint8Array(t)):jI.throwArgumentError("invalid arrayify value","value",t)}function T3e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const C3e="strings/5.8.0",Vq=new qr(C3e);var D_;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(D_||(D_={}));var No;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(No||(No={}));function O3e(t,e,r,n,i){return Vq.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Kq(t,e,r,n,i){if(t===No.BAD_PREFIX||t===No.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===No.OVERRUN?r.length-e-1:0}function P3e(t,e,r,n,i){return t===No.OVERLONG?(n.push(i),0):(n.push(65533),Kq(t,e,r))}const U3e=Object.freeze({error:O3e,ignore:Kq,replace:P3e});function M3e(t,e){e==null&&(e=U3e.error),t=qq(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(No.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(No.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(No.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let f=t[n];if((f&192)!=128){n+=e(No.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e(No.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(No.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(No.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Z6(t,e=D_.current){e!=D_.current&&(Vq.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return qq(r)}function D3e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jq(t,e){return D3e(M3e(t,e))}const k3e="web/5.7.1";var L3e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};function F3e(t,e){return L3e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:me(new Uint8Array(i))}})}var $3e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{f(n.next(l))}catch(u){o(u)}}function c(l){try{f(n.throw(l))}catch(u){o(u)}}function f(l){l.done?s(l.value):i(l.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};const Qa=new ie(k3e);function lL(t){return new Promise(e=>{setTimeout(e,t)})}function xu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(wy(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Jq(t)}catch{}return ye(t)}return t}function B3e(t){return Z6(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Xq(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Qa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Qa.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const f={method:"GET"};let l=!1,u=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Qa.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(u=t.timeout),t.headers)for(const I in t.headers)a[I.toLowerCase()]={key:I,value:String(t.headers[I])},["if-none-match","if-modified-since"].indexOf(I.toLowerCase())>=0&&(l=!0);if(f.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Qa.throwError("basic authentication requires a secure https url",ie.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const I=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+A3e(Z6(I))}}t.skipFetchSetup!=null&&(f.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(f.fetchOptions=M_(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(h):null;if(g)try{const I={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?_3e(g[3]):B3e(g[3])};let C=I.body;return r&&(C=r(I.body,I)),Promise.resolve(C)}catch(I){Qa.throwError("processing response error",ie.errors.SERVER_ERROR,{body:xu(g[1],g[2]),error:I,requestBody:null,requestMethod:"GET",url:c})}e&&(f.method="POST",f.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(I=>{const C=a[I];m[C.key]=C.value}),f.headers=m;const w=function(){let I=null;return{promise:new Promise(function(k,L){u&&(I=setTimeout(()=>{I!=null&&(I=null,L(Qa.makeError("timeout",ie.errors.TIMEOUT,{requestBody:xu(f.body,m["content-type"]),requestMethod:f.method,timeout:u,url:c})))},u))}),cancel:function(){I!=null&&(clearTimeout(I),I=null)}}}(),N=function(){return $3e(this,void 0,void 0,function*(){for(let I=0;I<n;I++){let C=null;try{if(C=yield F3e(c,f),I<n){if(C.statusCode===301||C.statusCode===302){const k=C.headers.location||"";if(f.method==="GET"&&k.match(/^https:/)){c=C.headers.location;continue}}else if(C.statusCode===429){let k=!0;if(i&&(k=yield i(I,c)),k){let L=0;const $=C.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?L=parseInt($)*1e3:L=s*parseInt(String(Math.random()*Math.pow(2,I))),yield lL(L);continue}}}}catch(k){C=k.response,C==null&&(w.cancel(),Qa.throwError("missing response",ie.errors.SERVER_ERROR,{requestBody:xu(f.body,m["content-type"]),requestMethod:f.method,serverError:k,url:c}))}let M=C.body;if(l&&C.statusCode===304?M=null:!o&&(C.statusCode<200||C.statusCode>=300)&&(w.cancel(),Qa.throwError("bad response",ie.errors.SERVER_ERROR,{status:C.statusCode,headers:C.headers,body:xu(M,C.headers?C.headers["content-type"]:null),requestBody:xu(f.body,m["content-type"]),requestMethod:f.method,url:c})),r)try{const k=yield r(M,C);return w.cancel(),k}catch(k){if(k.throttleRetry&&I<n){let L=!0;if(i&&(L=yield i(I,c)),L){const $=s*parseInt(String(Math.random()*Math.pow(2,I)));yield lL($);continue}}w.cancel(),Qa.throwError("processing response error",ie.errors.SERVER_ERROR,{body:xu(M,C.headers?C.headers["content-type"]:null),error:k,requestBody:xu(f.body,m["content-type"]),requestMethod:f.method,url:c})}return w.cancel(),M}return Qa.throwError("failed response",ie.errors.SERVER_ERROR,{requestBody:xu(f.body,m["content-type"]),requestMethod:f.method,url:c})})}();return Promise.race([w.promise,N])}function G3e(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Jq(s))}catch(c){Qa.throwError("invalid JSON",ie.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Z6(e);const s=typeof t=="string"?{url:t}:M_(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=M_(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return Xq(t,i,n)}function j3e(t,e){return e||(e={}),e=M_(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function f(){return t().then(function(l){if(l!==void 0)o()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let u=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));u<e.floor&&(u=e.floor),u>e.ceiling&&(u=e.ceiling),setTimeout(f,u)}return null},function(l){o()&&n(l)})}f()})}const z3e=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:Xq,fetchJson:G3e,poll:j3e},Symbol.toStringTag,{value:"Module"}));var Yq={};const W3e=Zr(XAe),H3e=Zr(wNe),q3e=Zr(ANe),V3e=Zr(INe),K3e=Zr(Pwe),J3e=Zr(Qxe),X3e=Zr(MIe),Y3e=Zr(qIe),Z3e=Zr(KIe),Q3e=Zr(Cwe),uL=Zr(tSe),eTe=Zr(fSe),tTe=Zr(pSe),rTe=Zr(NSe),nTe=Zr(RSe),iTe=Zr(GSe),hL=Zr(aRe),sTe=Zr(l3e),oTe=Zr(g3e),aTe=Zr(M_e),cTe=Zr(z3e);(function(t){var e=yn&&yn.__createBinding||(Object.create?function(U,b,y,d){d===void 0&&(d=y),Object.defineProperty(U,d,{enumerable:!0,get:function(){return b[y]}})}:function(U,b,y,d){d===void 0&&(d=y),U[d]=b[y]}),r=yn&&yn.__setModuleDefault||(Object.create?function(U,b){Object.defineProperty(U,"default",{enumerable:!0,value:b})}:function(U,b){U.default=b}),n=yn&&yn.__importStar||function(U){if(U&&U.__esModule)return U;var b={};if(U!=null)for(var y in U)y!=="default"&&Object.prototype.hasOwnProperty.call(U,y)&&e(b,U,y);return r(b,U),b};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=W3e;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=H3e;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(q3e);t.base64=o;var a=V3e;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=K3e;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var f=J3e;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return f._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return f.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return f.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return f.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return f.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return f.namehash}});var l=X3e;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return l.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return l.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return l.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return l.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}});var u=Y3e;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return u.getJsonWalletAddress}});var h=Z3e;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return h.keccak256}});var g=Q3e;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return g.Logger}});var m=uL;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return m.sha512}});var w=eTe;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return w.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return w.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return w.sha256}});var N=tTe;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return N.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return N.shuffled}});var I=rTe;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return I.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return I.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return I.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return I.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return I.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return I.shallowCopy}});var C=n(nTe);t.RLP=C;var M=iTe;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return M.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return M.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return M.SigningKey}});var k=hL;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return k.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return k.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return k.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return k._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return k.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return k.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return k.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return k.Utf8ErrorFuncs}});var L=sTe;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return L.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return L.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return L.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return L.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return L.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return L.TransactionTypes}});var $=oTe;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return $.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return $.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return $.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return $.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return $.parseUnits}});var V=aTe;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return V.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return V.verifyTypedData}});var P=cTe;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return P._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return P.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return P.poll}});var O=uL;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return O.SupportedAlgorithm}});var F=hL;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return F.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return F.Utf8ErrorReason}})})(Yq);const qp={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([qp.getAddresses(t),qp.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var n,i;const r=((n=e.rpcUrls.chainDefault)==null?void 0:n.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:qp.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(i=e.blockExplorers)==null?void 0:i.default.url],iconUrls:[$f.NetworkImageIds[e.id]]}]})}},Iu={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=Pt(t)?t:ye(eN(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0};return(await new zu(e,n).getSigner(r).estimateGas(i)).toBigInt()},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},c=await(await new zu(e,n).getSigner(r).sendTransaction(i)).wait();return(c==null?void 0:c.blockHash)||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new zu(e,n).getSigner(r),o=new ap(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},getEnsAddress:async(t,e)=>{try{const r=Number(e.id);let n=null,i=!1;return tY(t)&&(i=await EC.resolveReownName(t)||!1),r===1&&(n=await new y_("mainnet").resolveName(t)),n||i||!1}catch{return!1}},getEnsAvatar:async(t,e)=>e===1&&await new y_("mainnet").getAvatar(t)||!1,parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(t,e)=>X6(t,e).toBigInt(),formatUnits:J6};class fTe extends Oz{constructor(){super({adapterType:_e.ADAPTER_TYPES.ETHERS5,namespace:_e.CHAIN.EVM}),this.balancePromises={},this.providerHandlers=null}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function i(){var o,a,c;try{const{createCoinbaseWalletSDK:f}=await na(()=>import("./index-a5115240.js"),["./index-a5115240.js","./sha256-8d79f0c4.js"],import.meta.url);return typeof window>"u"?void 0:f({appName:(o=e==null?void 0:e.metadata)==null?void 0:o.name,appLogoUrl:(a=e==null?void 0:e.metadata)==null?void 0:a.icons[0],appChainIds:((c=e.networks)==null?void 0:c.map(u=>u.id))||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(f){console.error("Failed to import Coinbase Wallet SDK:",f);return}}const s={metadata:e.metadata};if(e.enableInjected!==!1&&(s.injected=n()),e.enableCoinbase!==!1){const o=await i();o&&(s.coinbase=o)}return s.EIP6963=e.enableEIP6963!==!1,s}async signMessage(e){const{message:r,address:n,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await Iu.signMessage(r,i,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var n;if(!e.provider)throw new Error("Provider is undefined");return{hash:await Iu.sendTransaction({value:e.value,to:e.to,data:e.data,gas:e.gas,gasPrice:e.gasPrice,address:e.address},e.provider,e.address,Number((n=e.caipNetwork)==null?void 0:n.id))}}async writeContract(e){var i;if(!e.provider)throw new Error("Provider is undefined");const{address:r}=Rl.parseCaipAddress(e.caipAddress);return{hash:await Iu.writeContract(e,e.provider,r,Number((i=e.caipNetwork)==null?void 0:i.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:i}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await Iu.estimateGas({data:e.data,to:e.to,address:i},r,i,Number(n==null?void 0:n.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}async getEnsAddress(e){const{name:r,caipNetwork:n}=e;return n?{address:await Iu.getEnsAddress(r,n)}:{address:""}}parseUnits(e){return Iu.parseUnits(e.value,e.decimals)}formatUnits(e){return Iu.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,i=this.connectors.find(c=>c.id===r),s=i==null?void 0:i.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(s),!o[0])throw new Error("No accounts found");if(!(i!=null&&i.type))throw new Error("Connector type not found");return{address:o[0],chainId:Number(a)||Number(n),provider:s,type:i.type,id:r}}async syncConnectors(e){var n;this.ethersConfig=await this.createEthersConfig(e),(n=this.ethersConfig)!=null&&n.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(i=>i!=="metadata"&&i!=="EIP6963").forEach(i=>{var a,c;const s=i==="coinbase"?"coinbaseWalletSDK":i,o=i===_e.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:s,explorerId:$f.ConnectorExplorerIds[s],imageUrl:(a=e==null?void 0:e.connectorImages)==null?void 0:a[s],name:$f.ConnectorNamesMap[s]||"Unknown",imageId:$f.ConnectorImageIds[s],type:$f.ConnectorTypesMap[s]??"EXTERNAL",info:o?void 0:{rdns:s},chain:this.namespace,chains:[],provider:(c=this.ethersConfig)==null?void 0:c[i]})})}setUniversalProvider(e){this.addConnector(new yC({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}eip6963EventHandler(e){var r;if(e.detail){const{info:n,provider:i}=e.detail;if(!((r=this.connectors)==null?void 0:r.find(o=>o.name===(n==null?void 0:n.name)))){const o=$f.ConnectorTypesMap[_e.CONNECTOR_ID.EIP6963],a=(n==null?void 0:n.rdns)||(n==null?void 0:n.name)||(n==null?void 0:n.uuid);this.namespace&&a&&this.addConnector({id:a,type:o,imageUrl:n==null?void 0:n.icon,name:(n==null?void 0:n.name)||"Unknown",provider:i,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(xr.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(xr.EIP6963_REQUEST_EVENT))}}async connect({id:e,type:r,chainId:n}){var c;const i=this.connectors.find(f=>f.id===e),s=i==null?void 0:i.provider;if(!s)throw new Error("Provider not found");let o=[],a;if(r==="AUTH"){const{address:f}=await s.connect({chainId:n,preferredAccountType:be.state.defaultAccountTypes.eip155});o=[f]}else{if(o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"}),a!==n){const f=(c=this.caipNetworks)==null?void 0:c.find(l=>l.id===n);if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:s,providerType:r})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.listenProviderEvents(s)}return{address:o[0],chainId:Number(n),provider:s,type:r,id:e}}async getAccounts(e){const r=this.connectors.find(s=>s.id===e.id),n=r==null?void 0:r.provider;if(!n||!r)throw new Error("Provider not found");if(e.id===_e.CONNECTOR_ID.AUTH){const s=r.provider,{address:o,accounts:a}=await s.connect({preferredAccountType:be.state.defaultAccountTypes.eip155});return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>Ke.createAccount("eip155",c.address,c.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(s=>Ke.createAccount("eip155",s,"eoa"))}}async reconnect(e){const{id:r,chainId:n}=e,i=this.connectors.find(s=>s.id===r);i&&i.type==="AUTH"&&n&&await i.provider.connect({chainId:n,preferredAccountType:be.state.defaultAccountTypes.eip155})}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");switch(e.providerType){case"WALLET_CONNECT":e.provider.session&&e.provider.disconnect();break;case"AUTH":await e.provider.disconnect();break;case"ANNOUNCED":case"EXTERNAL":await this.revokeProviderPermissions(e.provider);break;default:throw new Error("Unsupported provider type")}}async getBalance(e){var i;const r=e.address,n=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id===e.chainId);if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n){const s=`${n.caipNetworkId}:${r}`,o=this.balancePromises[s];if(o)return o;const a=De.getNativeBalanceCacheForCaipAddress(s);if(a)return{balance:a.balance,symbol:a.symbol};const c=new $A(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(c)try{return this.balancePromises[s]=new Promise(async f=>{const l=await c.getBalance(r),u=Yq.formatEther(l);De.updateNativeBalanceCache({caipAddress:s,balance:u,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),f({balance:u,symbol:n.nativeCurrency.symbol})}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async getProfile(e){if(e.chainId===1){const r=new y_("mainnet"),n=await r.lookupAddress(e.address),i=await r.getAvatar(e.address);return{profileName:n||void 0,profileImage:i||void 0}}return{profileName:void 0,profileImage:void 0}}listenProviderEvents(e){const r=()=>{this.removeProviderListeners(e),this.emit("disconnect")},n=s=>{s.length>0?this.emit("accountChanged",{address:s[0]}):r()},i=s=>{const o=typeof s=="string"?qp.hexStringToNumber(s):Number(s);this.emit("switchNetwork",{chainId:o})};e.on("disconnect",r),e.on("accountsChanged",n),e.on("chainChanged",i),this.providerHandlers={disconnect:r,accountsChanged:n,chainChanged:i}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("chainChanged",this.providerHandlers.chainChanged),this.providerHandlers=null)}async switchNetwork(e){var s,o;const{caipNetwork:r,provider:n,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:qp.numberToHexString(r.id)}]})}catch(a){if(a.code===Ku.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||a.code===Ku.ERROR_INVALID_CHAIN_ID||a.code===Ku.ERROR_CODE_DEFAULT||((o=(s=a==null?void 0:a.data)==null?void 0:s.originalError)==null?void 0:o.code)===Ku.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await qp.addEthereumChain(n,r);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){var e;return(e=this.connectors.find(r=>r.type==="WALLET_CONNECT"))==null?void 0:e.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){var i,s;const r=Ot.getProvider(_e.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");const n=(s=(i=r.session)==null?void 0:i.sessionProperties)==null?void 0:s.capabilities;if(n){const a=Iu.parseWalletCapabilities(n)[e];if(a)return a}return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=Ot.getProvider(_e.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=Ot.getProvider(_e.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=Ot.getProvider(_e.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}}const lTe=ys({__name:"App",setup(t){const e="7331f707a054660b650a9a92221ba680",r={name:"MIN-LIBRE",description:"MIN-LIBRE",url:"http://libre.minmotions.com",icons:[""]};return tye({adapters:[new fTe],networks:[qEe],metadata:r,projectId:e,features:{analytics:!0,email:!1,swaps:!1,socials:!1,onramp:!1,send:!1,history:!1},themeMode:"light"}),(n,i)=>{const s=pJ("router-view");return Ff(),I1(s)}}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const up=typeof document<"u";function Zq(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function uTe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Zq(t.default)}const tr=Object.assign;function zI(t,e){const r={};for(const n in e){const i=e[n];r[n]=bf(i)?i.map(t):t(i)}return r}const Ab=()=>{},bf=Array.isArray,Qq=/#/g,hTe=/&/g,dTe=/\//g,pTe=/=/g,gTe=/\?/g,eV=/\+/g,mTe=/%5B/g,bTe=/%5D/g,tV=/%5E/g,ETe=/%60/g,rV=/%7B/g,yTe=/%7C/g,nV=/%7D/g,wTe=/%20/g;function Q6(t){return encodeURI(""+t).replace(yTe,"|").replace(mTe,"[").replace(bTe,"]")}function vTe(t){return Q6(t).replace(rV,"{").replace(nV,"}").replace(tV,"^")}function L3(t){return Q6(t).replace(eV,"%2B").replace(wTe,"+").replace(Qq,"%23").replace(hTe,"%26").replace(ETe,"`").replace(rV,"{").replace(nV,"}").replace(tV,"^")}function _Te(t){return L3(t).replace(pTe,"%3D")}function ATe(t){return Q6(t).replace(Qq,"%23").replace(gTe,"%3F")}function NTe(t){return t==null?"":ATe(t).replace(dTe,"%2F")}function GE(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const xTe=/\/$/,ITe=t=>t.replace(xTe,"");function WI(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=CTe(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:GE(o)}}function STe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function dL(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function RTe(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&pg(e.matched[n],r.matched[i])&&iV(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function pg(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function iV(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!TTe(t[r],e[r]))return!1;return!0}function TTe(t,e){return bf(t)?pL(t,e):bf(e)?pL(e,t):t===e}function pL(t,e){return bf(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function CTe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const Su={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var jE;(function(t){t.pop="pop",t.push="push"})(jE||(jE={}));var Nb;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Nb||(Nb={}));function OTe(t){if(!t)if(up){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ITe(t)}const PTe=/^[^#]+#/;function UTe(t,e){return t.replace(PTe,"#")+e}function MTe(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const oN=()=>({left:window.scrollX,top:window.scrollY});function DTe(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=MTe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gL(t,e){return(history.state?history.state.position-e:-1)+t}const F3=new Map;function kTe(t,e){F3.set(t,e)}function LTe(t){const e=F3.get(t);return F3.delete(t),e}let FTe=()=>location.protocol+"//"+location.host;function sV(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),dL(c,"")}return dL(r,t)+n+i}function $Te(t,e,r,n){let i=[],s=[],o=null;const a=({state:h})=>{const g=sV(t,location),m=r.value,w=e.value;let N=0;if(h){if(r.value=g,e.value=h,o&&o===m){o=null;return}N=w?h.position-w.position:0}else n(g);i.forEach(I=>{I(r.value,m,{delta:N,type:jE.pop,direction:N?N>0?Nb.forward:Nb.back:Nb.unknown})})};function c(){o=r.value}function f(h){i.push(h);const g=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return s.push(g),g}function l(){const{history:h}=window;h.state&&h.replaceState(tr({},h.state,{scroll:oN()}),"")}function u(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:f,destroy:u}}function mL(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?oN():null}}function BTe(t){const{history:e,location:r}=window,n={value:sV(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,f,l){const u=t.indexOf("#"),h=u>-1?(r.host&&document.querySelector("base")?t:t.slice(u))+c:FTe()+t+c;try{e[l?"replaceState":"pushState"](f,"",h),i.value=f}catch(g){console.error(g),r[l?"replace":"assign"](h)}}function o(c,f){const l=tr({},e.state,mL(i.value.back,c,i.value.forward,!0),f,{position:i.value.position});s(c,l,!0),n.value=c}function a(c,f){const l=tr({},i.value,e.state,{forward:c,scroll:oN()});s(l.current,l,!0);const u=tr({},mL(n.value,c,null),{position:l.position+1},f);s(c,u,!1),n.value=c}return{location:n,state:i,push:a,replace:o}}function GTe(t){t=OTe(t);const e=BTe(t),r=$Te(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=tr({location:"",base:t,go:n,createHref:UTe.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function jTe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),GTe(t)}function zTe(t){return typeof t=="string"||t&&typeof t=="object"}function oV(t){return typeof t=="string"||typeof t=="symbol"}const aV=Symbol("");var bL;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bL||(bL={}));function gg(t,e){return tr(new Error,{type:t,[aV]:!0},e)}function Al(t,e){return t instanceof Error&&aV in t&&(e==null||!!(t.type&e))}const EL="[^/]+?",WTe={sensitive:!1,strict:!1,start:!0,end:!0},HTe=/[.+*?^${}()[\]/\\]/g;function qTe(t,e){const r=tr({},WTe,e),n=[];let i=r.start?"^":"";const s=[];for(const f of t){const l=f.length?[]:[90];r.strict&&!f.length&&(i+="/");for(let u=0;u<f.length;u++){const h=f[u];let g=40+(r.sensitive?.25:0);if(h.type===0)u||(i+="/"),i+=h.value.replace(HTe,"\\$&"),g+=40;else if(h.type===1){const{value:m,repeatable:w,optional:N,regexp:I}=h;s.push({name:m,repeatable:w,optional:N});const C=I||EL;if(C!==EL){g+=10;try{new RegExp(`(${C})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+k.message)}}let M=w?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;u||(M=N&&f.length<2?`(?:/${M})`:"/"+M),N&&(M+="?"),i+=M,g+=20,N&&(g+=-8),w&&(g+=-20),C===".*"&&(g+=-50)}l.push(g)}n.push(l)}if(r.strict&&r.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(f){const l=f.match(o),u={};if(!l)return null;for(let h=1;h<l.length;h++){const g=l[h]||"",m=s[h-1];u[m.name]=g&&m.repeatable?g.split("/"):g}return u}function c(f){let l="",u=!1;for(const h of t){(!u||!l.endsWith("/"))&&(l+="/"),u=!1;for(const g of h)if(g.type===0)l+=g.value;else if(g.type===1){const{value:m,repeatable:w,optional:N}=g,I=m in f?f[m]:"";if(bf(I)&&!w)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=bf(I)?I.join("/"):I;if(!C)if(N)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):u=!0);else throw new Error(`Missing required param "${m}"`);l+=C}}return l||"/"}return{re:o,score:n,keys:s,parse:a,stringify:c}}function VTe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function cV(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=VTe(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(yL(n))return 1;if(yL(i))return-1}return i.length-n.length}function yL(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const KTe={type:0,value:""},JTe=/[a-zA-Z0-9_]/;function XTe(t){if(!t)return[[]];if(t==="/")return[[KTe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${r})/"${f}": ${g}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,f="",l="";function u(){f&&(r===0?s.push({type:0,value:f}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function h(){f+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(f&&u(),o()):c===":"?(u(),r=1):h();break;case 4:h(),r=n;break;case 1:c==="("?r=2:JTe.test(c)?h():(u(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:r=3:l+=c;break;case 3:u(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${f}"`),u(),o(),i}function YTe(t,e,r){const n=qTe(XTe(t.path),r),i=tr(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function ZTe(t,e){const r=[],n=new Map;e=AL({strict:!1,end:!0,sensitive:!1},e);function i(u){return n.get(u)}function s(u,h,g){const m=!g,w=vL(u);w.aliasOf=g&&g.record;const N=AL(e,u),I=[w];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const L of k)I.push(vL(tr({},w,{components:g?g.record.components:w.components,path:L,aliasOf:g?g.record:w})))}let C,M;for(const k of I){const{path:L}=k;if(h&&L[0]!=="/"){const $=h.record.path,V=$[$.length-1]==="/"?"":"/";k.path=h.record.path+(L&&V+L)}if(C=YTe(k,h,N),g?g.alias.push(C):(M=M||C,M!==C&&M.alias.push(C),m&&u.name&&!_L(C)&&o(u.name)),fV(C)&&c(C),w.children){const $=w.children;for(let V=0;V<$.length;V++)s($[V],C,g&&g.children[V])}g=g||C}return M?()=>{o(M)}:Ab}function o(u){if(oV(u)){const h=n.get(u);h&&(n.delete(u),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(u);h>-1&&(r.splice(h,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return r}function c(u){const h=tCe(u,r);r.splice(h,0,u),u.record.name&&!_L(u)&&n.set(u.record.name,u)}function f(u,h){let g,m={},w,N;if("name"in u&&u.name){if(g=n.get(u.name),!g)throw gg(1,{location:u});N=g.record.name,m=tr(wL(h.params,g.keys.filter(M=>!M.optional).concat(g.parent?g.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),u.params&&wL(u.params,g.keys.map(M=>M.name))),w=g.stringify(m)}else if(u.path!=null)w=u.path,g=r.find(M=>M.re.test(w)),g&&(m=g.parse(w),N=g.record.name);else{if(g=h.name?n.get(h.name):r.find(M=>M.re.test(h.path)),!g)throw gg(1,{location:u,currentLocation:h});N=g.record.name,m=tr({},h.params,u.params),w=g.stringify(m)}const I=[];let C=g;for(;C;)I.unshift(C.record),C=C.parent;return{name:N,path:w,params:m,matched:I,meta:eCe(I)}}t.forEach(u=>s(u));function l(){r.length=0,n.clear()}return{addRoute:s,resolve:f,removeRoute:o,clearRoutes:l,getRoutes:a,getRecordMatcher:i}}function wL(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function vL(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:QTe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function QTe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function _L(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function eCe(t){return t.reduce((e,r)=>tr(e,r.meta),{})}function AL(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function tCe(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;cV(t,e[s])<0?n=s:r=s+1}const i=rCe(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function rCe(t){let e=t;for(;e=e.parent;)if(fV(e)&&cV(t,e)===0)return e}function fV({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function nCe(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(eV," "),o=s.indexOf("="),a=GE(o<0?s:s.slice(0,o)),c=o<0?null:GE(s.slice(o+1));if(a in e){let f=e[a];bf(f)||(f=e[a]=[f]),f.push(c)}else e[a]=c}return e}function NL(t){let e="";for(let r in t){const n=t[r];if(r=_Te(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(bf(n)?n.map(s=>s&&L3(s)):[n&&L3(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function iCe(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=bf(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const sCe=Symbol(""),xL=Symbol(""),aN=Symbol(""),lV=Symbol(""),$3=Symbol("");function Nm(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function $u(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const f=h=>{h===!1?c(gg(4,{from:r,to:e})):h instanceof Error?c(h):zTe(h)?c(gg(2,{from:e,to:h})):(o&&n.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},l=s(()=>t.call(n&&n.instances[i],e,r,f));let u=Promise.resolve(l);t.length<3&&(u=u.then(f)),u.catch(h=>c(h))})}function HI(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Zq(c)){const l=(c.__vccOpts||c)[e];l&&s.push($u(l,r,n,o,a,i))}else{let f=c();s.push(()=>f.then(l=>{if(!l)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const u=uTe(l)?l.default:l;o.mods[a]=l,o.components[a]=u;const g=(u.__vccOpts||u)[e];return g&&$u(g,r,n,o,a,i)()}))}}return s}function IL(t){const e=io(aN),r=io(lV),n=kr(()=>{const c=no(t.to);return e.resolve(c)}),i=kr(()=>{const{matched:c}=n.value,{length:f}=c,l=c[f-1],u=r.matched;if(!l||!u.length)return-1;const h=u.findIndex(pg.bind(null,l));if(h>-1)return h;const g=SL(c[f-2]);return f>1&&SL(l)===g&&u[u.length-1].path!==g?u.findIndex(pg.bind(null,c[f-2])):h}),s=kr(()=>i.value>-1&&fCe(r.params,n.value.params)),o=kr(()=>i.value>-1&&i.value===r.matched.length-1&&iV(r.params,n.value.params));function a(c={}){return cCe(c)?e[no(t.replace)?"replace":"push"](no(t.to)).catch(Ab):Promise.resolve()}return{route:n,href:kr(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}const oCe=ys({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:IL,setup(t,{slots:e}){const r=au(IL(t)),{options:n}=io(aN),i=kr(()=>({[RL(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[RL(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:KE("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),aCe=oCe;function cCe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function fCe(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!bf(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function SL(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const RL=(t,e,r)=>t??e??r,lCe=ys({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=io($3),i=kr(()=>t.route||n.value),s=io(xL,0),o=kr(()=>{let f=no(s);const{matched:l}=i.value;let u;for(;(u=l[f])&&!u.components;)f++;return f}),a=kr(()=>i.value.matched[o.value]);Jm(xL,kr(()=>o.value+1)),Jm(sCe,a),Jm($3,i);const c=mt();return wi(()=>[c.value,a.value,t.name],([f,l,u],[h,g,m])=>{l&&(l.instances[u]=f,g&&g!==l&&f&&f===h&&(l.leaveGuards.size||(l.leaveGuards=g.leaveGuards),l.updateGuards.size||(l.updateGuards=g.updateGuards))),f&&l&&(!g||!pg(l,g)||!h)&&(l.enterCallbacks[u]||[]).forEach(w=>w(f))},{flush:"post"}),()=>{const f=i.value,l=t.name,u=a.value,h=u&&u.components[l];if(!h)return TL(r.default,{Component:h,route:f});const g=u.props[l],m=g?g===!0?f.params:typeof g=="function"?g(f):g:null,N=KE(h,tr({},m,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(u.instances[l]=null)},ref:c}));return TL(r.default,{Component:N,route:f})||N}}});function TL(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const uCe=lCe;function hCe(t){const e=ZTe(t.routes,t),r=t.parseQuery||nCe,n=t.stringifyQuery||NL,i=t.history,s=Nm(),o=Nm(),a=Nm(),c=vT(Su);let f=Su;up&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=zI.bind(null,j=>""+j),u=zI.bind(null,NTe),h=zI.bind(null,GE);function g(j,X){let Y,ne;return oV(j)?(Y=e.getRecordMatcher(j),ne=X):ne=j,e.addRoute(ne,Y)}function m(j){const X=e.getRecordMatcher(j);X&&e.removeRoute(X)}function w(){return e.getRoutes().map(j=>j.record)}function N(j){return!!e.getRecordMatcher(j)}function I(j,X){if(X=tr({},X||c.value),typeof j=="string"){const B=WI(r,j,X.path),J=e.resolve({path:B.path},X),he=i.createHref(B.fullPath);return tr(B,J,{params:h(J.params),hash:GE(B.hash),redirectedFrom:void 0,href:he})}let Y;if(j.path!=null)Y=tr({},j,{path:WI(r,j.path,X.path).path});else{const B=tr({},j.params);for(const J in B)B[J]==null&&delete B[J];Y=tr({},j,{params:u(B)}),X.params=u(X.params)}const ne=e.resolve(Y,X),ce=j.hash||"";ne.params=l(h(ne.params));const le=STe(n,tr({},j,{hash:vTe(ce),path:ne.path})),q=i.createHref(le);return tr({fullPath:le,hash:ce,query:n===NL?iCe(j.query):j.query||{}},ne,{redirectedFrom:void 0,href:q})}function C(j){return typeof j=="string"?WI(r,j,c.value.path):tr({},j)}function M(j,X){if(f!==j)return gg(8,{from:X,to:j})}function k(j){return V(j)}function L(j){return k(tr(C(j),{replace:!0}))}function $(j){const X=j.matched[j.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let ne=typeof Y=="function"?Y(j):Y;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=C(ne):{path:ne},ne.params={}),tr({query:j.query,hash:j.hash,params:ne.path!=null?{}:j.params},ne)}}function V(j,X){const Y=f=I(j),ne=c.value,ce=j.state,le=j.force,q=j.replace===!0,B=$(Y);if(B)return V(tr(C(B),{state:typeof B=="object"?tr({},ce,B.state):ce,force:le,replace:q}),X||Y);const J=Y;J.redirectedFrom=X;let he;return!le&&RTe(n,ne,Y)&&(he=gg(16,{to:J,from:ne}),A(ne,ne,!0,!1)),(he?Promise.resolve(he):F(J,ne)).catch(se=>Al(se)?Al(se,2)?se:v(se):R(se,J,ne)).then(se=>{if(se){if(Al(se,2))return V(tr({replace:q},C(se.to),{state:typeof se.to=="object"?tr({},ce,se.to.state):ce,force:le}),X||J)}else se=b(J,ne,!0,q,ce);return U(J,ne,se),se})}function P(j,X){const Y=M(j,X);return Y?Promise.reject(Y):Promise.resolve()}function O(j){const X=G.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(j):j()}function F(j,X){let Y;const[ne,ce,le]=dCe(j,X);Y=HI(ne.reverse(),"beforeRouteLeave",j,X);for(const B of ne)B.leaveGuards.forEach(J=>{Y.push($u(J,j,X))});const q=P.bind(null,j,X);return Y.push(q),z(Y).then(()=>{Y=[];for(const B of s.list())Y.push($u(B,j,X));return Y.push(q),z(Y)}).then(()=>{Y=HI(ce,"beforeRouteUpdate",j,X);for(const B of ce)B.updateGuards.forEach(J=>{Y.push($u(J,j,X))});return Y.push(q),z(Y)}).then(()=>{Y=[];for(const B of le)if(B.beforeEnter)if(bf(B.beforeEnter))for(const J of B.beforeEnter)Y.push($u(J,j,X));else Y.push($u(B.beforeEnter,j,X));return Y.push(q),z(Y)}).then(()=>(j.matched.forEach(B=>B.enterCallbacks={}),Y=HI(le,"beforeRouteEnter",j,X,O),Y.push(q),z(Y))).then(()=>{Y=[];for(const B of o.list())Y.push($u(B,j,X));return Y.push(q),z(Y)}).catch(B=>Al(B,8)?B:Promise.reject(B))}function U(j,X,Y){a.list().forEach(ne=>O(()=>ne(j,X,Y)))}function b(j,X,Y,ne,ce){const le=M(j,X);if(le)return le;const q=X===Su,B=up?history.state:{};Y&&(ne||q?i.replace(j.fullPath,tr({scroll:q&&B&&B.scroll},ce)):i.push(j.fullPath,ce)),c.value=j,A(j,X,Y,q),v()}let y;function d(){y||(y=i.listen((j,X,Y)=>{if(!T.listening)return;const ne=I(j),ce=$(ne);if(ce){V(tr(ce,{replace:!0}),ne).catch(Ab);return}f=ne;const le=c.value;up&&kTe(gL(le.fullPath,Y.delta),oN()),F(ne,le).catch(q=>Al(q,12)?q:Al(q,2)?(V(q.to,ne).then(B=>{Al(B,20)&&!Y.delta&&Y.type===jE.pop&&i.go(-1,!1)}).catch(Ab),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),R(q,ne,le))).then(q=>{q=q||b(ne,le,!1),q&&(Y.delta&&!Al(q,8)?i.go(-Y.delta,!1):Y.type===jE.pop&&Al(q,20)&&i.go(-1,!1)),U(ne,le,q)}).catch(Ab)}))}let p=Nm(),E=Nm(),x;function R(j,X,Y){v(j);const ne=E.list();return ne.length?ne.forEach(ce=>ce(j,X,Y)):console.error(j),Promise.reject(j)}function S(){return x&&c.value!==Su?Promise.resolve():new Promise((j,X)=>{p.add([j,X])})}function v(j){return x||(x=!j,d(),p.list().forEach(([X,Y])=>j?Y(j):X()),p.reset()),j}function A(j,X,Y,ne){const{scrollBehavior:ce}=t;if(!up||!ce)return Promise.resolve();const le=!Y&&LTe(gL(j.fullPath,0))||(ne||!Y)&&history.state&&history.state.scroll||null;return Ld().then(()=>ce(j,X,le)).then(q=>q&&DTe(q)).catch(q=>R(q,j,X))}const _=j=>i.go(j);let D;const G=new Set,T={currentRoute:c,listening:!0,addRoute:g,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:N,getRoutes:w,resolve:I,options:t,push:k,replace:L,go:_,back:()=>_(-1),forward:()=>_(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:E.add,isReady:S,install(j){const X=this;j.component("RouterLink",aCe),j.component("RouterView",uCe),j.config.globalProperties.$router=X,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>no(c)}),up&&!D&&c.value===Su&&(D=!0,k(i.location).catch(ce=>{}));const Y={};for(const ce in Su)Object.defineProperty(Y,ce,{get:()=>c.value[ce],enumerable:!0});j.provide(aN,X),j.provide(lV,n$(Y)),j.provide($3,c);const ne=j.unmount;G.add(j),j.unmount=function(){G.delete(j),G.size<1&&(f=Su,y&&y(),y=null,c.value=Su,D=!1,x=!1),ne()}}};function z(j){return j.reduce((X,Y)=>X.then(()=>O(Y)),Promise.resolve())}return T}function dCe(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(f=>pg(f,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(f=>pg(f,c))||i.push(c))}return[r,n,i]}function pCe(){return io(aN)}const gCe=""+new URL("bnb-bnb-logo-815ff1bb.webp",import.meta.url).href,mCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAA8CAYAAACZ1L+0AAAAAXNSR0IArs4c6QAAB3BJREFUeF7tnHlsFVUUxn/FIlK7uCBVU0yMKG6RuAe1CO5rTDASNW6INhr/MIpLNCEmxi3FJSSi1bSJVmyIbYIaKiVqTCXQVCVEEbFSCxYqq6WlLBYLdb5hJnna1755M3fmvaZzkptHeXPPOfd88+49955zbg6Zo2OACcDJwEnACcA44HigCND3BcDRQB5wFHAkMAbIBUY5TSM4CBwC+oC/nbYf6HFaN7AT+AvYAfwJbAHagU3AP5kyQ07IgmWos4BzgXOAM4DTgVMdI4cs3hN7gScQfgNagJ+BNcCPwD5PHAI8ZBoAvcFXJLTJzpsbQMWMddWvQiA0Oe1boMO0NkEBUP8LgVuBW4DzgaA8TY/RFL9+4CfgC6cJGP16ApFfY2kKuR+4z5lOAimRrPP48eMpLS1lypQplJSUMG7cOA4ePEh3dzfbtm1j/fr1tLS0sHr1arZv325cvgeGWkdqgGpnyvLQZeAj6QJQCjwN3JywAPoSnKzTmDFjmDFjBrNnz2b69OmMGqV1dmjq7++nra2NpqYmGhsbWbZsGZs2aUqPlH4A3rTWuVrHEfAs3CsAFwGvA1d65pzGg7m5ucyaNYu5c+cyYYIcI/8kQNatW8fSpUtZvHixDcyhQ3KQIqE/HDu959WzSgVAoeUKvmG5aw+G8cbLJNOmTaOiooJJkyaFYqEtW7bYQNTW1tq/EAEUAcmjehb4NJWsoQC4FPgEOCUVEz/fFxYWUl5eTllZGTk5qd4DPxIG9mlvb6empoaFCxeydu1aM0yH5vKZtecoAwZdpAYb+d3WJqkqLBdy8uTJ1NXVMXHixCiMkFTGqlWrqKqqsgHRwh4iaeMnZ6UhmYxkADzgGD/1CuhDa831CxYsYOzYsT56m++yd+9ee3qqrKxkxYoV5gUc5ih3dQ4w//8C/g/AdUC9s9U3qoymmXnz5jFnjvTITlqzZo39cmiKEjAh0IvAC4l8EwHQeYw2GtrNGiW5l9XV1cycOTMQ376+Pnbs2MHWrVvtpn93dnaya9cu+7Orq8s23J49e+zP/fv3oz5q2kOI5HGpjR49mvz8fAoKCuymfUZxcbHd9Pfy5cupr69n48aNgXRO0vkpx7Gxv0oEQAvuHaalaTBLlixh6tSpQ7I+cOAAHR0daKF0m/7evHmz/f/63LlzZ5Qupb0PCcGF1ZtwPfB1IgDy878zfYwgT6ehocHezYp6e3vt3auadrKtra32JmrDhg22kd231PRLkIX8dBIrv7vH/QXUWdvp200qWlRUxPz58+np6aG5uRl5HTK6poOYbAuUa68gAHQOL0SOMGmYvLw89u0L/TTXpMpR81KsokQAPGwFRd6PWnosz7bAQwJAJ3p3xQbJiAUWCQBFgBStiil6C6wVALuc+Gv04mOJuwWAgtgKdMcUvQX6BECndUZxbPSyY4lWcGuvAFDg+bzYHBmxQKsA+NA5Ls2IBiNc6OcCQGfVAiGm6C0wRwAoA035Lso+iyk6CyhQfZp7FlRpZYfNjk52LMmJkN3oAqA8n1/CCkHG5h5gAWUGKINwZWI84BXrxPi52FiRWGAhcK8kJQKg7ONVVibE2ZGoMHKFaL2V26/914A8zgucRFSlgcdk3gJaeBUN+8plnSwr4nngZfOyY45WSv5bwJOJlkgGgNJRlloLhDIkYjJngZXAdOBAKgD0vTIjtB6EkhVnbkzDhpMijkrj1+d/aKicwEsAFSXEJ6XBcNYbfxWQNOsrVVKmjik+MJ0tEWw8w6q3/H3ZUG5nUkoFgDopm2vusBp29igrh+bVodTxAoCe+TiOG6eN6jtWReZjqXp5AUA8tC9QqvUNqRjG39sW0OnyLCsPNGUxglcAxFSnpUqxVplSTINbQFkmOmbwVJaTDgASqQLqL60M6otjBJJaYBFwTzrVk+kC4IKgjdrhhM+YXAtUOHO+pzff7eQHAPXNd+oIhk55HjngyNORx5M2+QXAXRP0k1OR9kglZRo/YZ0cvO3XAEEAkEwl9Er4I34VGMb9VFh252C1X17HFRQAV44COS+FVcrqdTARPvc7cJtV0BK41NIUABq7pqKPsugWlLDwUO2vfPwuEwJMAiB9znSKk8OpujYxYv88NN9roZ3nn8XAnqYBkARdsrTAjXmaVDaDvFT5rs2VyriMUhgAuApqQyIgdN3BcCUdJbzrXFASSrlPmADI6Ep3UfXNNcMQAd2e9ah1Qck3YeoeNgCu7kr60m0rysLLdlK6/mtO6w1b2agA0DhOdIL9ugohlGsQAhpL043u+5FL3RaQl+fuUQLgKqXYqLIDsulUVaHXZ4Bmz5Yz9GAmAHBVv9a5N+FyQ2Pxw0Ynu0rBafTT2USfTALg6n+1Vaf2uOXi3WS6VnkQA+k+UU01OkL53oQRg/DIBgBc/eUx6UxJJbPB7i0baBHN76ud4LiiVXZaYDZQNgHg2kM6XWZla+tqFbmvuvjVj5560zWnK3ahqxgiW1jTAdbPwNLhb+LZYueyQN2+q6MO3bx7nLPBU87Sbqcp6elXpympTMYP3Y0MOsB/AUcByTZMaJAcAAAAAElFTkSuQmCC",bCe=""+new URL("gt@2x-ee1a3f24.png",import.meta.url).href,ECe=""+new URL("g@2x-c7c9c134.png",import.meta.url).href,yCe=""+new URL("RoroInuBnb@2x-c7c9c6e8.png",import.meta.url).href,wCe=""+new URL("RoroInuBnb@2x(1)-2bf46f56.png",import.meta.url).href,vCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAYAAADHl1ErAAAAAXNSR0IArs4c6QAADS5JREFUeF7tXHlcVdUW/hhkEBVLzbDEWVRSmRreC0WrVyrmkFoaTmUmQyAyiJJK4IDGIIKAhvYcMp/iABqkPhFxeo6BmuaAiliamjibE/j4jt6693Lv5dxzD0jE+v0u/7DP3ut8Z++91vrW2tsIT0csAbwMoD0AOwBtATQFUFfpR81uKv3OATgB4DiAnwDsA/B7ZatvVIkDvgKgB4A3ALwGwNzAse+V9rcbwJbS/jYA2Gtgf6Ier2jAmgMYCmDYk1kkKGVsbAzHTm3Q2b412ra2hV1rW7SwtUG9elaoW6e28BOm1607wu/Gjds4U3gBx/MLcSK/EAeP5CP30EmUlJQovyRn31IA3wAoEPX2EhpVFGCOAEIBvEd8qFeT5xtgQJ/ueLOLM9xed0B9a64+6XLt+k3k7MxD1vYDWL0uG+d/vaLojCiuATADQK70ETQ/KTdgDgCmlS6PXgCMLMzNMKBPNwx7vwfecnOBiYmAnexSXFyCzTn7sXTFBqxevxV3793nGI8AZAKYBCBPrkHlAsy6dCZFAPAuBcy0jpUlPEf2Q4DPYNg0biCXrqL6uXDxCmIT/4N5i9Jw67ZgEx4CSAIwBcB1UZ3oaCQHYP0BJAKwMTU1ge/ogfg8YDgaPEsMn55cKbqO6bFLkJCyCg8fFlORCwB8AKw1RCtDADMDEAXAl8vP9bVOSIoKRMcOrQzRR/ZnDx89Be/gGOzYfUixTBMABJfuscK61VekAtYMwCoALmZmtRAd7oPPRg+AkZHU7vRVW7/2jx49wtyU1QgKS8T9+w/48H4AAwGc1a8nQMobdnzi9zRp2bwJVi6MgLNDO33HfSrtD+Qdw/ujpuB0wXmOzz/0Cw/ro4y+gHUBsA5A/Te6OGHNkhmwrldHn/GeetvrN27hveGh2LL9B+pyDUAfANvFKqYPYARrIwDLQX27Y2nyZJibcxurGDmZfw42zzdAnSdOrJyj3Lt3H8O8piI1PZvd0pS+IxY0sYBxGW7jzBo9/F0kxwTDxLhifCq+wbcrN2Jq5EI0sWmEpLjxsGvLLVNeKS4pgVdgFFKWrFfMtK5ilqcYwKjtLjrrnFnLF4RXGFj88lOmfoXVaQwPH4ulpTmmh3ujTy9OcHmFoA35JEwx07in/bM8Q1AeYFxzO2kNuWdlroiusGX4y/lL8Pb/EkeOntaIyggPd0wMHgFTU1NZUeNH6vVBkGJPo/V8XZfLUR5gcwD40Rr+kP11hW3wO3bmwT9kNq5dI5ujXVyc2iM+JgjPNXpGVtBoCJy6f6ywnvEAxmobQBdg9OBXm5nVMtr1fXKFuA70j+YtWIPZCd+ipIShX/lCsBJiguHsJK8rQ5fjnz296KdRkQHaIgJtgDGuIUlnEx/pD99P6ePJK6RtgkPjsXmL/jQWQ7DQ4JEY7uEuq1IJX62C38Q49skwiuRmmdhTG2DCUmS4s+27RNk9+JOnzsF77CyceexASpa+vbtiWpiXYBjkEM74rr19FGGUxqWpCTBSNPtMTU1MuW/JHRtmbtyJCZMTcefOXa3vaGpignF+H2LvviPI2SE4mFqFLkdSXAia2T4vB2Zg7Mn97OHDYrIcpNFVqCFNgH1XCpj7OK8PEDuNcbU8QsYgOu4bLFiUrrPDhg3qIz4mEK+42AuManzSSiTOTwW/vjapV9cKMTP90d3NWRZlAyYlYHbyCvaVURp39lbuVB0wMqUH6lhZGhXkrZKNoiHVMjYwBrv3/ajzhRw722FubDAaN35Wpd2WrfsRODEON2/e0fo8A//PPAfB1+sDGBuXZ/x140p9mzsMJJ/Gr8Sv8Adzq95zKqP4IJ8hiIogdWS4HDx0Aj7jovDrxT8oZI2degzugUkhH6NWLc1+1tnCC/Ae+yWOn9RNMHTr4oSYWf4Gu0BBUxIRk7icupKVGaRQWhkwJixOWZibGZ/OTZWFKV2+chMiIhfgwQNuB5qFNHbElDF4r2/3cr/O77/fQ2hYEtZn6o6Vm77YWAip2rdrUW6f2hqQuW3pOIh0N3MEJPmExIoyYOS+p3oMehvfzCObK13oPYdNS8GqtVk6O3nxBb5YMDq0b1mm3aXLRXj2GWvQhVAW7mWLl2VgZvRiBZOqcQwLCzPBgvZ7103yiwz1jMCy1E18fvKTXIUKYEyQtt2QGot33mAKUZr8cv4yfPy/xI9HT+nsoKurI2Jn+ZfJHhGQhYvXCQaivV1zzIkOhG3TshZw34Gj8AuMxuXfyNBol2FDeiJ0/Edal7quZzdu2YsegwLYhCk8Jpz/AIwI7WEqrPDQWsnZnZ27DsJ/fCyu6ghxuDl7fzoQY324OasyHkVXbwjObM5jrkoQ0jvTv/CCew+GeKpy6VIRfAOjcSD3mE7QnBzaISE2CI2fUzUm5U0JZqNsO/VXpPBeZbJYsSS5BsPp0dOz11c4K+YvXIPYeN0hTt26tREdORZvdqN7oyp79x/BuPGzcfFSkcbhBw/6l2AULCxUnVTujzOiFmHpt8yoaZeGDesjISYILzt30Ov16PkzAihN24UxM6YAbCsAt7SlkeirJ41yiyHO5wn4b9YenYq0bWMrOJjNm9motCPFkjR/FRKSV6pnssv0xz4YfLdu+WKZ/6Wtz8Gk8GTcvas9t0GHeELQCIwY6i46eknP3I5+wyZyvBwA3QgYC0OuGhsbm1/Jz9ArI51/6mchxDld8ItOsN7t6YrpEd6obWmh0o4be0BIHHbv1e2fKT/EMCgsdDQG9meJhqr8dOyMQBGd+/miTn1693TFjHBv1K6tqo+mh5hhb9DanR+TtRzPEDAyjTnODnbYn7VQ9HTl+nZxHa7TmaSFmxCo+Ytu25GLoNA5KCq6IXpM5YaMIyMmj4GVFb/3n0KqJjAkDluV9kFNAwz/sBemhH4iamyXN0fhQB5tItwI2BgA8z72cMfCeGHqiRK6DvbOg7W21bZnMETiXpfy7zSd4Y4YJbi846OD0KG9qr9FqigheQXmztMeUtGI0AKLkVF+kfh6GaMkeBKw2FIaY9zMMC+E+HmIeV5oowswJwc7JDDEUbNKZFX9g2ORe5BWWh5hXpRM7NDBPcvsS9k5BxA4IQ43bt4uM5g+gM2KX4YJ4cnsYzYBI3S91i6NRD89NnxtgA0d0hOfa/B7NmXtwYTJc4XSpYqQt996FZERPmVCorOFv8LbfxaOn1ANqdx7umJOlOBjlStpmdvR//HGn0nAmEPvmLdtkVCvJVbUAWOIMzXME/37dFPp4t79B5hJs7/8e7FdS273QpNGiIsKAIN4ZWFINemLZKRnMPH1WPQBjPVoDl1H8rHDBOwMgOZnclPR3FbV5OvSnCVFLz3Zwxi7JcaNRwe12K3g7Hn4Bcbg6DEOUTlCQxPg9yFGj+wHIzXWYsmyDMFn4z5KS0lwxUhB4QW0cBTi7wICdhlAw8snM9BQj4obBWBurk5CiGNtrZoBT/9uG6ZEzMNtHUShGGWltmHoFTXDrwxFtf+Hn4To4FUXe9GA/VZ0HY3aCHT4bwSM1Kf53QvZMDerJVo/LsnklDXw835fJcQpLi7GpPD5SF2zWXRfFdWQCZOkOSFw6MSa4z/l0uWr+H7TTozwUOEGtarBbcXCRmBT7kkGTFvvO3blYeSnrK2rGuLs2A4rlrJ6U7qoAyZpSWobnlkgT7+Z0rWT+Un79i2RnhptUK/qS5Kp5hYkDVnJbKhUOcA6tET6SsMAYwU3yUQaSC7Jg6VVx53ychah80vi3Yq/zAyTAbCDP+bDwU1wKw5Jdlz/ToApOa4ZkkMjrYBl74Wnr/g9jKXolhblswaK8R4WF+PuXRIH4sRehhmmHhpJCr7lAuz1f3TG4hRyc+Lkf3sOY9go8e1f6tASaQbuYerBtyR65+8EmDq9I5lA1ATaZj2XZFWfYZoIRL63ZIpaHbSs7H0Y4xspbn2xeq2KL0lNFDVfzqAkiDI6VQ4w+1ZIW8HzF9JEWxJEljQbVapOgOlKs/FdZUnkVifAdCVyCZgspQJZW/dhzGdVaA8zYEmWVyogSzFKVQOso30rrJWwh4kpRuEsM7jcqboAJqbciYAZXFBXHQDTp6COoIkq2aQFycouWwF9+Ei+wMSKlTatmuKTj/qKbY780z8j5es00e2bNm2MYH+e0VcVnmNST5YoWuhTsslnRBUFKydBRGtfhRpqy0tKKQrma5Vbdl4dAZNadk7Ayj3YUB0BM+RgA0HTeXSmugFm6NEZxW6j9XBWdQJMrsNZBI3H/3hW0ln9+B/XO9NPf1XhAVmWuMt9/I94VNoB08oGvyIOmCreoVKPMFcGcBV5hFmhf6Uekq9I0CrjkLwyaDXXMOj5NWsu+tATMIUhWE3rWXOVjHj0ai4rEo+VSsua67AkAFdz4ZoE0BTU0NO70m/lBqxe99e40k8d35pLIyXOOPHXkjazgXVdK+G4n/K1pDz8df3mbZw5W72vJdWEb83FtxJnHR9Tv1qZJxEUVyuzfl1xySsv47n15HplXq3MZPNTvVr5/yB+Oa5E0LHbAAAAAElFTkSuQmCC";function _Ce(){}const Ph=Object.assign,uV=typeof window<"u",cN=t=>t!==null&&typeof t=="object",bh=t=>t!=null,B3=t=>typeof t=="function",ACe=t=>cN(t)&&B3(t.then)&&B3(t.catch),hV=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),NCe=()=>uV?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function CL(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var s;n=cN(n)&&(s=n[i])!=null?s:""}),n}function xCe(t,e,r){return e.reduce((n,i)=>((!r||t[i]!==void 0)&&(n[i]=t[i]),n),{})}const k_=null,Ds=[Number,String],Vl={type:Boolean,default:!0},ICe=t=>({type:Number,default:t}),Ps=t=>({type:String,default:t});var e5=typeof window<"u",SCe=t=>t===window,OL=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),RCe=t=>{const e=no(t);if(SCe(e)){const r=e.innerWidth,n=e.innerHeight;return OL(r,n)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():OL(0,0)};function dV(t){let e;_h(()=>{t(),Ld(()=>{e=!0})}),NT(()=>{e&&t()})}function pV(t,e,r={}){if(!e5)return;const{target:n=window,passive:i=!1,capture:s=!1}=r;let o=!1,a;const c=u=>{if(o)return;const h=no(u);h&&!a&&(h.addEventListener(t,e,{capture:s,passive:i}),a=!0)},f=u=>{if(o)return;const h=no(u);h&&a&&(h.removeEventListener(t,e,s),a=!1)};i0(()=>f(n)),V_(()=>f(n)),dV(()=>c(n));let l;return Xr(n)&&(l=wi(n,(u,h)=>{f(h),c(u)})),()=>{l==null||l(),f(n),o=!0}}var E1,qI;function TCe(){if(!E1&&(E1=mt(0),qI=mt(0),e5)){const t=()=>{E1.value=window.innerWidth,qI.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:E1,height:qI}}var CCe=/scroll|auto|overlay/i,OCe=e5?window:void 0;function PCe(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function UCe(t,e=OCe){let r=t;for(;r&&r!==e&&PCe(r);){const{overflowY:n}=window.getComputedStyle(r);if(CCe.test(n))return r;r=r.parentNode}return e}NCe();const MCe=t=>t.stopPropagation();function t5(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&MCe(t)}const{width:DCe,height:kCe}=TCe();function qc(t){if(bh(t))return hV(t)?`${t}px`:String(t)}function LCe(t){if(bh(t)){if(Array.isArray(t))return{width:qc(t[0]),height:qc(t[1])};const e=qc(t);return{width:e,height:e}}}function gV(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const FCe=/-(\w)/g,mV=t=>t.replace(FCe,(e,r)=>r.toUpperCase()),{hasOwnProperty:$Ce}=Object.prototype;function BCe(t,e,r){const n=e[r];bh(n)&&(!$Ce.call(t,r)||!cN(n)?t[r]=n:t[r]=bV(Object(t[r]),n))}function bV(t,e){return Object.keys(e).forEach(r=>{BCe(t,e,r)}),t}var GCe={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(t,e)=>`${t}年${e}月`,rangePrompt:t=>`最多选择 ${t} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:t=>`${t}折`,condition:t=>`满${t}元可用`},vanCouponCell:{title:"优惠券",count:t=>`${t}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const PL=mt("zh-CN"),UL=au({"zh-CN":GCe}),G3={messages(){return UL[PL.value]},use(t,e){PL.value=t,this.add({[t]:e})},add(t={}){bV(UL,t)}};var jCe=G3;function zCe(t){const e=mV(t)+".";return(r,...n)=>{const i=jCe.messages(),s=CL(i,e+r)||CL(i,r);return B3(s)?s(...n):s}}function j3(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+j3(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?j3(t,n):""),""):""}function WCe(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${j3(e,r)}`)}function pu(t){const e=`van-${t}`;return[e,WCe(e),zCe(e)]}const EV="van-hairline",HCe=`${EV}--bottom`,qCe=`${EV}--surround`,z3="van-haptics-feedback",ML=5;function VCe(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const s=t.apply(null,e);ACe(s)?s.then(o=>{o?r():n&&n()}).catch(i||_Ce):s?r():n&&n()}else r()}function Uh(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(mV(`-${r}`),t))},t}const yV=Symbol();function KCe(t){const e=io(yV,null);e&&wi(e,r=>{r&&t()})}const JCe=(t,e)=>{const r=mt(),n=()=>{r.value=RCe(t).height};return _h(()=>{if(Ld(n),e)for(let i=1;i<=3;i++)setTimeout(n,100*i)}),KCe(()=>Ld(n)),wi([DCe,kCe],n),r};function XCe(t,e){const r=JCe(t,!0);return n=>$e("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}function wV(t){const e=il();e&&Ph(e.proxy,t)}const YCe={to:[String,Object],url:String,replace:Boolean};function ZCe({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function QCe(){const t=il().proxy;return()=>ZCe(t)}const[e6e,DL]=pu("badge"),t6e={dot:Boolean,max:Ds,tag:Ps("div"),color:String,offset:Array,content:Ds,showZero:Vl,position:Ps("top-right")};var r6e=ys({name:e6e,props:t6e,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return bh(a)&&a!==""&&(c||a!==0&&a!=="0")},n=()=>{const{dot:a,max:c,content:f}=t;if(!a&&r())return e.content?e.content():bh(c)&&hV(f)&&+f>+c?`${c}+`:f},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=kr(()=>{const a={background:t.color};if(t.offset){const[c,f]=t.offset,{position:l}=t,[u,h]=l.split("-");e.default?(typeof f=="number"?a[u]=qc(u==="top"?f:-f):a[u]=u==="top"?qc(f):i(f),typeof c=="number"?a[h]=qc(h==="left"?c:-c):a[h]=h==="left"?qc(c):i(c)):(a.marginTop=qc(f),a.marginLeft=qc(c))}return a}),o=()=>{if(r()||t.dot)return $e("div",{class:DL([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return $e(a,{class:DL("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const n6e=Uh(r6e);let i6e=2e3;const s6e=()=>++i6e,[o6e,vLe]=pu("config-provider"),a6e=Symbol(o6e),[c6e,kL]=pu("icon"),f6e=t=>t==null?void 0:t.includes("/"),l6e={dot:Boolean,tag:Ps("i"),name:String,size:Ds,badge:Ds,color:String,badgeProps:Object,classPrefix:String};var u6e=ys({name:c6e,props:l6e,setup(t,{slots:e}){const r=io(a6e,null),n=kr(()=>t.classPrefix||(r==null?void 0:r.iconPrefix)||kL());return()=>{const{tag:i,dot:s,name:o,size:a,badge:c,color:f}=t,l=f6e(o);return $e(n6e,Vp({dot:s,tag:i,class:[n.value,l?"":`${n.value}-${o}`],style:{color:f,fontSize:qc(a)},content:c},t.badgeProps),{default:()=>{var u;return[(u=e.default)==null?void 0:u.call(e),l&&$e("img",{class:kL("image"),src:o},null)]}})}}});const fN=Uh(u6e),[h6e,xb]=pu("loading"),d6e=Array(12).fill(null).map((t,e)=>$e("i",{class:xb("line",String(e+1))},null)),p6e=$e("svg",{class:xb("circular"),viewBox:"25 25 50 50"},[$e("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),g6e={size:Ds,type:Ps("circular"),color:String,vertical:Boolean,textSize:Ds,textColor:String};var m6e=ys({name:h6e,props:g6e,setup(t,{slots:e}){const r=kr(()=>Ph({color:t.color},LCe(t.size))),n=()=>{const s=t.type==="spinner"?d6e:p6e;return $e("span",{class:xb("spinner",t.type),style:r.value},[e.icon?e.icon():s])},i=()=>{var s;if(e.default)return $e("span",{class:xb("text"),style:{fontSize:qc(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return $e("div",{class:xb([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const vV=Uh(m6e),[b6e,V0]=pu("button"),E6e=Ph({},YCe,{tag:Ps("button"),text:String,icon:String,type:Ps("default"),size:Ps("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Ps("button"),loadingSize:Ds,loadingText:String,loadingType:String,iconPosition:Ps("left")});var y6e=ys({name:b6e,props:E6e,emits:["click"],setup(t,{emit:e,slots:r}){const n=QCe(),i=()=>r.loading?r.loading():$e(vV,{size:t.loadingSize,type:t.loadingType,class:V0("loading")},null),s=()=>{if(t.loading)return i();if(r.icon)return $e("div",{class:V0("icon")},[r.icon()]);if(t.icon)return $e(fN,{name:t.icon,class:V0("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let f;if(t.loading?f=t.loadingText:f=r.default?r.default():t.text,f)return $e("span",{class:V0("text")},[f])},a=()=>{const{color:f,plain:l}=t;if(f){const u={color:l?f:"white"};return l||(u.background=f),f.includes("gradient")?u.border=0:u.borderColor=f,u}},c=f=>{t.loading?t5(f):t.disabled||(e("click",f),n())};return()=>{const{tag:f,type:l,size:u,block:h,round:g,plain:m,square:w,loading:N,disabled:I,hairline:C,nativeType:M,iconPosition:k}=t,L=[V0([l,u,{plain:m,block:h,round:g,square:w,loading:N,disabled:I,hairline:C}]),{[qCe]:C}];return $e(f,{type:M,class:L,style:a(),disabled:I,onClick:c},{default:()=>[$e("div",{class:V0("content")},[k==="left"&&s(),o(),k==="right"&&s()])]})}}});const w6e=Uh(y6e),v6e={show:Boolean,zIndex:Ds,overlay:Vl,duration:Ds,teleport:[String,Object],lockScroll:Vl,lazyRender:Vl,beforeClose:Function,overlayStyle:Object,overlayClass:k_,transitionAppear:Boolean,closeOnClickOverlay:Vl};function _6e(t,e){return t>e?"horizontal":e>t?"vertical":""}function A6e(){const t=mt(0),e=mt(0),r=mt(0),n=mt(0),i=mt(0),s=mt(0),o=mt(""),a=mt(!0),c=()=>o.value==="vertical",f=()=>o.value==="horizontal",l=()=>{r.value=0,n.value=0,i.value=0,s.value=0,o.value="",a.value=!0};return{move:g=>{const m=g.touches[0];r.value=(m.clientX<0?0:m.clientX)-t.value,n.value=m.clientY-e.value,i.value=Math.abs(r.value),s.value=Math.abs(n.value);const w=10;(!o.value||i.value<w&&s.value<w)&&(o.value=_6e(i.value,s.value)),a.value&&(i.value>ML||s.value>ML)&&(a.value=!1)},start:g=>{l(),t.value=g.touches[0].clientX,e.value=g.touches[0].clientY},reset:l,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:s,direction:o,isVertical:c,isHorizontal:f,isTap:a}}let xm=0;const LL="van-overflow-hidden";function N6e(t,e){const r=A6e(),n="01",i="10",s=l=>{r.move(l);const u=r.deltaY.value>0?i:n,h=UCe(l.target,t.value),{scrollHeight:g,offsetHeight:m,scrollTop:w}=h;let N="11";w===0?N=m>=g?"00":"01":w+m>=g&&(N="10"),N!=="11"&&r.isVertical()&&!(parseInt(N,2)&parseInt(u,2))&&t5(l,!0)},o=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",s,{passive:!1}),xm||document.body.classList.add(LL),xm++},a=()=>{xm&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",s),xm--,xm||document.body.classList.remove(LL))},c=()=>e()&&o(),f=()=>e()&&a();dV(c),V_(f),xT(f),wi(e,l=>{l?o():a()})}function _V(t){const e=mt(!1);return wi(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const FL=()=>{var t;const{scopeId:e}=((t=il())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[x6e,I6e]=pu("overlay"),S6e={show:Boolean,zIndex:Ds,duration:Ds,className:k_,lockScroll:Vl,lazyRender:Vl,customStyle:Object,teleport:[String,Object]};var R6e=ys({name:x6e,props:S6e,setup(t,{slots:e}){const r=mt(),n=_V(()=>t.show||!t.lazyRender),i=o=>{t.lockScroll&&t5(o,!0)},s=n(()=>{var o;const a=Ph(gV(t.zIndex),t.customStyle);return bh(t.duration)&&(a.animationDuration=`${t.duration}s`),h$($e("div",{ref:r,style:a,class:[I6e(),t.className]},[(o=e.default)==null?void 0:o.call(e)]),[[X$,t.show]])});return pV("touchmove",i,{target:r}),()=>{const o=$e(K$,{name:"van-fade",appear:!0},{default:s});return t.teleport?$e(g$,{to:t.teleport},{default:()=>[o]}):o}}});const T6e=Uh(R6e),C6e=Ph({},v6e,{round:Boolean,position:Ps("center"),closeIcon:Ps("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Ps("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[O6e,$L]=pu("popup");var P6e=ys({name:O6e,inheritAttrs:!1,props:C6e,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,s;const o=mt(),a=mt(),c=_V(()=>t.show||!t.lazyRender),f=kr(()=>{const $={zIndex:o.value};if(bh(t.duration)){const V=t.position==="center"?"animationDuration":"transitionDuration";$[V]=`${t.duration}s`}return $}),l=()=>{i||(i=!0,o.value=t.zIndex!==void 0?+t.zIndex:s6e(),e("open"))},u=()=>{i&&VCe(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},h=$=>{e("clickOverlay",$),t.closeOnClickOverlay&&u()},g=()=>{if(t.overlay)return $e(T6e,Vp({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},FL(),{onClick:h}),{default:n["overlay-content"]})},m=$=>{e("clickCloseIcon",$),u()},w=()=>{if(t.closeable)return $e(fN,{role:"button",tabindex:0,name:t.closeIcon,class:[$L("close-icon",t.closeIconPosition),z3],classPrefix:t.iconPrefix,onClick:m},null)};let N;const I=()=>{N&&clearTimeout(N),N=setTimeout(()=>{e("opened")})},C=()=>e("closed"),M=$=>e("keydown",$),k=c(()=>{var $;const{round:V,position:P,safeAreaInsetTop:O,safeAreaInsetBottom:F}=t;return h$($e("div",Vp({ref:a,style:f.value,role:"dialog",tabindex:0,class:[$L({round:V,[P]:P}),{"van-safe-area-top":O,"van-safe-area-bottom":F}],onKeydown:M},r,FL()),[($=n.default)==null?void 0:$.call(n),w()]),[[X$,t.show]])}),L=()=>{const{position:$,transition:V,transitionAppear:P}=t,O=$==="center"?"van-fade":`van-popup-slide-${$}`;return $e(K$,{name:V||O,appear:P,onAfterEnter:I,onAfterLeave:C},{default:k})};return wi(()=>t.show,$=>{$&&!i&&(l(),r.tabindex===0&&Ld(()=>{var V;(V=a.value)==null||V.focus()})),!$&&i&&(i=!1,e("close"))}),wV({popupRef:a}),N6e(a,()=>t.show&&t.lockScroll),pV("popstate",()=>{t.closeOnPopstate&&(u(),s=!1)}),_h(()=>{t.show&&l()}),NT(()=>{s&&(e("update:show",!0),s=!1)}),V_(()=>{t.show&&t.teleport&&(u(),s=!0)}),Jm(yV,()=>t.show),()=>t.teleport?$e(g$,{to:t.teleport},{default:()=>[g(),L()]}):$e(ro,null,[g(),L()])}});const U6e=Uh(P6e);let Im=0;function M6e(t){t?(Im||document.body.classList.add("van-toast--unclickable"),Im++):Im&&(Im--,Im||document.body.classList.remove("van-toast--unclickable"))}const[D6e,K0]=pu("toast"),k6e=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],L6e={icon:String,show:Boolean,type:Ps("text"),overlay:Boolean,message:Ds,iconSize:Ds,duration:ICe(2e3),position:Ps("middle"),teleport:[String,Object],wordBreak:String,className:k_,iconPrefix:String,transition:Ps("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:k_,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Ds};var AV=ys({name:D6e,props:L6e,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const s=()=>{const u=t.show&&t.forbidClick;i!==u&&(i=u,M6e(i))},o=u=>e("update:show",u),a=()=>{t.closeOnClick&&o(!1)},c=()=>clearTimeout(n),f=()=>{const{icon:u,type:h,iconSize:g,iconPrefix:m,loadingType:w}=t;if(u||h==="success"||h==="fail")return $e(fN,{name:u||h,size:g,class:K0("icon"),classPrefix:m},null);if(h==="loading")return $e(vV,{class:K0("loading"),size:g,type:w},null)},l=()=>{const{type:u,message:h}=t;if(r.message)return $e("div",{class:K0("text")},[r.message()]);if(bh(h)&&h!=="")return u==="html"?$e("div",{key:0,class:K0("text"),innerHTML:String(h)},null):$e("div",{class:K0("text")},[h])};return wi(()=>[t.show,t.forbidClick],s),wi(()=>[t.show,t.type,t.message,t.duration],()=>{c(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),_h(s),i0(s),()=>$e(U6e,Vp({class:[K0([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":o},xCe(t,k6e)),{default:()=>[f(),l()]})}});function F6e(){const t=au({show:!1}),e=i=>{t.show=i},r=i=>{Ph(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return wV({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function $6e(t){const e=Y$(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const B6e={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let y1=[],G6e=!1,BL=Ph({},B6e);const j6e=new Map;function z6e(t){return cN(t)?t:{message:t}}function W6e(){const{instance:t,unmount:e}=$6e({setup(){const r=mt(""),{open:n,state:i,close:s,toggle:o}=F6e(),a=()=>{},c=()=>$e(AV,Vp(i,{onClosed:a,"onUpdate:show":o}),null);return wi(r,f=>{i.message=f}),il().render=c,{open:n,close:s,message:r}}});return t}function H6e(){if(!y1.length||G6e){const t=W6e();y1.push(t)}return y1[y1.length-1]}function id(t={}){if(!uV)return{};const e=H6e(),r=z6e(t);return e.open(Ph({},BL,j6e.get(r.type||BL.type),r)),e}Uh(AV);const[q6e,Nl]=pu("nav-bar"),V6e={title:String,fixed:Boolean,zIndex:Ds,border:Vl,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Vl};var K6e=ys({name:q6e,props:V6e,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:r}){const n=mt(),i=XCe(n,Nl),s=l=>{t.leftDisabled||e("clickLeft",l)},o=l=>{t.rightDisabled||e("clickRight",l)},a=()=>r.left?r.left():[t.leftArrow&&$e(fN,{class:Nl("arrow"),name:"arrow-left"},null),t.leftText&&$e("span",{class:Nl("text")},[t.leftText])],c=()=>r.right?r.right():$e("span",{class:Nl("text")},[t.rightText]),f=()=>{const{title:l,fixed:u,border:h,zIndex:g}=t,m=gV(g),w=t.leftArrow||t.leftText||r.left,N=t.rightText||r.right;return $e("div",{ref:n,style:m,class:[Nl({fixed:u}),{[HCe]:h,"van-safe-area-top":t.safeAreaInsetTop}]},[$e("div",{class:Nl("content")},[w&&$e("div",{class:[Nl("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?z3:""],onClick:s},[a()]),$e("div",{class:[Nl("title"),"van-ellipsis"]},[r.title?r.title():l]),N&&$e("div",{class:[Nl("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?z3:""],onClick:o},[c()])])])};return()=>t.fixed&&t.placeholder?i(f):f()}});const J6e=Uh(K6e);const X6e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAHbSURBVGiB7Zm9bsIwFEY/O1TA0IElFQMSUdqdRyhvAnMfovQlusKbMHbt0gWIiNQBEalSB6Q0pcQdaKVC82sHwkU+oy19ukexHPsa0Gg0Go1Gg/nCb08X/m3ZdfzCiwiZeX4vNNicG2zsLP1BEZmqMNWAmef3GNhwZ1CIB/uqPlDNVkFJLFLqB74RltWsuyr5KkgvxSQpAEDt4102uwikxNKkBETfajRKFcu9FLNIXZv1kVJVBZBLjIoUkEOMkhSQUYyaFJBBjKIUkCJGVQpIEKMsBcSIUZcCIsTOQQrYEzsXKeCPWOrZj+EVAs9HqSorAp9huL6/aV6+7E9VgAxS25AWgNZhKpSEAdy4WAK425/iE2/VSZU6YYQQlahxzmF0jl3MMeDbzYCNyi5EFsbYV9R4BQBss9p3vACA6MUFCCGeGGNvhylPmiDcrB+jJna2e8cLhglyLt+IbpnX/Tz8+0Gfi1zkkeoc5GIPwdTlEq8tlOVSL5pU5TK1BijKZW7mUJPL1X6jJJe7YUpFTupRgoKcVO/eNqv9hINzOzTYWL6kYpB+bUmTm3irUq9Dyg9/McvStc2apZqtgvJTbcSXc/lGdFVzT4bp0h84XjCcL/x22bVoNBqNRkOdb+l0GO0pTtrcAAAAAElFTkSuQmCC",Y6e=""+new URL("logo-066e0dae.png",import.meta.url).href;/*!
  * shared v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const L_=typeof window<"u",Mh=(t,e=!1)=>e?Symbol.for(t):Symbol(t),Z6e=(t,e,r)=>Q6e({l:t,k:e,s:r}),Q6e=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ei=t=>typeof t=="number"&&isFinite(t),e5e=t=>xV(t)==="[object Date]",Eh=t=>xV(t)==="[object RegExp]",lN=t=>it(t)&&Object.keys(t).length===0,Ji=Object.assign;let GL;const zl=()=>GL||(GL=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jL(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const t5e=Object.prototype.hasOwnProperty;function F_(t,e){return t5e.call(t,e)}const Gr=Array.isArray,Dr=t=>typeof t=="function",Se=t=>typeof t=="string",yt=t=>typeof t=="boolean",Jt=t=>t!==null&&typeof t=="object",r5e=t=>Jt(t)&&Dr(t.then)&&Dr(t.catch),NV=Object.prototype.toString,xV=t=>NV.call(t),it=t=>{if(!Jt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},n5e=t=>t==null?"":Gr(t)||it(t)&&t.toString===NV?JSON.stringify(t,null,2):String(t);function i5e(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}function uN(t){let e=t;return()=>++e}function s5e(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const w1=t=>!Jt(t)||Gr(t);function Sv(t,e){if(w1(t)||w1(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{w1(n[s])||w1(i[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]})})}}/*!
  * message-compiler v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function o5e(t,e,r){return{line:t,column:e,offset:r}}function $_(t,e,r){const n={start:t,end:e};return r!=null&&(n.source=r),n}const a5e=/\{([0-9a-zA-Z]+)\}/g;function IV(t,...e){return e.length===1&&c5e(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(a5e,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const SV=Object.assign,zL=t=>typeof t=="string",c5e=t=>t!==null&&typeof t=="object";function RV(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const r5={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},f5e={[r5.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function l5e(t,e,...r){const n=IV(f5e[t]||"",...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const ze={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},u5e={[ze.EXPECTED_TOKEN]:"Expected token: '{0}'",[ze.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ze.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ze.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ze.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ze.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ze.EMPTY_PLACEHOLDER]:"Empty placeholder",[ze.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ze.INVALID_LINKED_FORMAT]:"Invalid linked format",[ze.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ze.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ze.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ze.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ze.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ze.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function jg(t,e,r={}){const{domain:n,messages:i,args:s}=r,o=IV((i||u5e)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function h5e(t){throw t}const xl=" ",d5e="\r",As=`
`,p5e=String.fromCharCode(8232),g5e=String.fromCharCode(8233);function m5e(t){const e=t;let r=0,n=1,i=1,s=0;const o=V=>e[V]===d5e&&e[V+1]===As,a=V=>e[V]===As,c=V=>e[V]===g5e,f=V=>e[V]===p5e,l=V=>o(V)||a(V)||c(V)||f(V),u=()=>r,h=()=>n,g=()=>i,m=()=>s,w=V=>o(V)||c(V)||f(V)?As:e[V],N=()=>w(r),I=()=>w(r+s);function C(){return s=0,l(r)&&(n++,i=0),o(r)&&r++,r++,i++,e[r]}function M(){return o(r+s)&&s++,s++,e[r+s]}function k(){r=0,n=1,i=1,s=0}function L(V=0){s=V}function $(){const V=r+s;for(;V!==r;)C();s=0}return{index:u,line:h,column:g,peekOffset:m,charAt:w,currentChar:N,currentPeek:I,next:C,peek:M,reset:k,resetPeek:L,skipToPeek:$}}const Ru=void 0,b5e=".",WL="'",E5e="tokenizer";function y5e(t,e={}){const r=e.location!==!1,n=m5e(t),i=()=>n.index(),s=()=>o5e(n.line(),n.column(),n.index()),o=s(),a=i(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},f=()=>c,{onError:l}=e;function u(W,H,Z,...ue){const fe=f();if(H.column+=Z,H.offset+=Z,l){const de=r?$_(fe.startLoc,H):null,ee=jg(W,de,{domain:E5e,args:ue});l(ee)}}function h(W,H,Z){W.endLoc=s(),W.currentType=H;const ue={type:H};return r&&(ue.loc=$_(W.startLoc,W.endLoc)),Z!=null&&(ue.value=Z),ue}const g=W=>h(W,14);function m(W,H){return W.currentChar()===H?(W.next(),H):(u(ze.EXPECTED_TOKEN,s(),0,H),"")}function w(W){let H="";for(;W.currentPeek()===xl||W.currentPeek()===As;)H+=W.currentPeek(),W.peek();return H}function N(W){const H=w(W);return W.skipToPeek(),H}function I(W){if(W===Ru)return!1;const H=W.charCodeAt(0);return H>=97&&H<=122||H>=65&&H<=90||H===95}function C(W){if(W===Ru)return!1;const H=W.charCodeAt(0);return H>=48&&H<=57}function M(W,H){const{currentType:Z}=H;if(Z!==2)return!1;w(W);const ue=I(W.currentPeek());return W.resetPeek(),ue}function k(W,H){const{currentType:Z}=H;if(Z!==2)return!1;w(W);const ue=W.currentPeek()==="-"?W.peek():W.currentPeek(),fe=C(ue);return W.resetPeek(),fe}function L(W,H){const{currentType:Z}=H;if(Z!==2)return!1;w(W);const ue=W.currentPeek()===WL;return W.resetPeek(),ue}function $(W,H){const{currentType:Z}=H;if(Z!==8)return!1;w(W);const ue=W.currentPeek()===".";return W.resetPeek(),ue}function V(W,H){const{currentType:Z}=H;if(Z!==9)return!1;w(W);const ue=I(W.currentPeek());return W.resetPeek(),ue}function P(W,H){const{currentType:Z}=H;if(!(Z===8||Z===12))return!1;w(W);const ue=W.currentPeek()===":";return W.resetPeek(),ue}function O(W,H){const{currentType:Z}=H;if(Z!==10)return!1;const ue=()=>{const de=W.currentPeek();return de==="{"?I(W.peek()):de==="@"||de==="%"||de==="|"||de===":"||de==="."||de===xl||!de?!1:de===As?(W.peek(),ue()):b(W,!1)},fe=ue();return W.resetPeek(),fe}function F(W){w(W);const H=W.currentPeek()==="|";return W.resetPeek(),H}function U(W){const H=w(W),Z=W.currentPeek()==="%"&&W.peek()==="{";return W.resetPeek(),{isModulo:Z,hasSpace:H.length>0}}function b(W,H=!0){const Z=(fe=!1,de="",ee=!1)=>{const re=W.currentPeek();return re==="{"?de==="%"?!1:fe:re==="@"||!re?de==="%"?!0:fe:re==="%"?(W.peek(),Z(fe,"%",!0)):re==="|"?de==="%"||ee?!0:!(de===xl||de===As):re===xl?(W.peek(),Z(!0,xl,ee)):re===As?(W.peek(),Z(!0,As,ee)):!0},ue=Z();return H&&W.resetPeek(),ue}function y(W,H){const Z=W.currentChar();return Z===Ru?Ru:H(Z)?(W.next(),Z):null}function d(W){const H=W.charCodeAt(0);return H>=97&&H<=122||H>=65&&H<=90||H>=48&&H<=57||H===95||H===36}function p(W){return y(W,d)}function E(W){const H=W.charCodeAt(0);return H>=97&&H<=122||H>=65&&H<=90||H>=48&&H<=57||H===95||H===36||H===45}function x(W){return y(W,E)}function R(W){const H=W.charCodeAt(0);return H>=48&&H<=57}function S(W){return y(W,R)}function v(W){const H=W.charCodeAt(0);return H>=48&&H<=57||H>=65&&H<=70||H>=97&&H<=102}function A(W){return y(W,v)}function _(W){let H="",Z="";for(;H=S(W);)Z+=H;return Z}function D(W){N(W);const H=W.currentChar();return H!=="%"&&u(ze.EXPECTED_TOKEN,s(),0,H),W.next(),"%"}function G(W){let H="";for(;;){const Z=W.currentChar();if(Z==="{"||Z==="}"||Z==="@"||Z==="|"||!Z)break;if(Z==="%")if(b(W))H+=Z,W.next();else break;else if(Z===xl||Z===As)if(b(W))H+=Z,W.next();else{if(F(W))break;H+=Z,W.next()}else H+=Z,W.next()}return H}function T(W){N(W);let H="",Z="";for(;H=x(W);)Z+=H;return W.currentChar()===Ru&&u(ze.UNTERMINATED_CLOSING_BRACE,s(),0),Z}function z(W){N(W);let H="";return W.currentChar()==="-"?(W.next(),H+=`-${_(W)}`):H+=_(W),W.currentChar()===Ru&&u(ze.UNTERMINATED_CLOSING_BRACE,s(),0),H}function j(W){return W!==WL&&W!==As}function X(W){N(W),m(W,"'");let H="",Z="";for(;H=y(W,j);)H==="\\"?Z+=Y(W):Z+=H;const ue=W.currentChar();return ue===As||ue===Ru?(u(ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),ue===As&&(W.next(),m(W,"'")),Z):(m(W,"'"),Z)}function Y(W){const H=W.currentChar();switch(H){case"\\":case"'":return W.next(),`\\${H}`;case"u":return ne(W,H,4);case"U":return ne(W,H,6);default:return u(ze.UNKNOWN_ESCAPE_SEQUENCE,s(),0,H),""}}function ne(W,H,Z){m(W,H);let ue="";for(let fe=0;fe<Z;fe++){const de=A(W);if(!de){u(ze.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${H}${ue}${W.currentChar()}`);break}ue+=de}return`\\${H}${ue}`}function ce(W){return W!=="{"&&W!=="}"&&W!==xl&&W!==As}function le(W){N(W);let H="",Z="";for(;H=y(W,ce);)Z+=H;return Z}function q(W){let H="",Z="";for(;H=p(W);)Z+=H;return Z}function B(W){const H=Z=>{const ue=W.currentChar();return ue==="{"||ue==="%"||ue==="@"||ue==="|"||ue==="("||ue===")"||!ue||ue===xl?Z:(Z+=ue,W.next(),H(Z))};return H("")}function J(W){N(W);const H=m(W,"|");return N(W),H}function he(W,H){let Z=null;switch(W.currentChar()){case"{":return H.braceNest>=1&&u(ze.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),W.next(),Z=h(H,2,"{"),N(W),H.braceNest++,Z;case"}":return H.braceNest>0&&H.currentType===2&&u(ze.EMPTY_PLACEHOLDER,s(),0),W.next(),Z=h(H,3,"}"),H.braceNest--,H.braceNest>0&&N(W),H.inLinked&&H.braceNest===0&&(H.inLinked=!1),Z;case"@":return H.braceNest>0&&u(ze.UNTERMINATED_CLOSING_BRACE,s(),0),Z=se(W,H)||g(H),H.braceNest=0,Z;default:{let fe=!0,de=!0,ee=!0;if(F(W))return H.braceNest>0&&u(ze.UNTERMINATED_CLOSING_BRACE,s(),0),Z=h(H,1,J(W)),H.braceNest=0,H.inLinked=!1,Z;if(H.braceNest>0&&(H.currentType===5||H.currentType===6||H.currentType===7))return u(ze.UNTERMINATED_CLOSING_BRACE,s(),0),H.braceNest=0,oe(W,H);if(fe=M(W,H))return Z=h(H,5,T(W)),N(W),Z;if(de=k(W,H))return Z=h(H,6,z(W)),N(W),Z;if(ee=L(W,H))return Z=h(H,7,X(W)),N(W),Z;if(!fe&&!de&&!ee)return Z=h(H,13,le(W)),u(ze.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,Z.value),N(W),Z;break}}return Z}function se(W,H){const{currentType:Z}=H;let ue=null;const fe=W.currentChar();switch((Z===8||Z===9||Z===12||Z===10)&&(fe===As||fe===xl)&&u(ze.INVALID_LINKED_FORMAT,s(),0),fe){case"@":return W.next(),ue=h(H,8,"@"),H.inLinked=!0,ue;case".":return N(W),W.next(),h(H,9,".");case":":return N(W),W.next(),h(H,10,":");default:return F(W)?(ue=h(H,1,J(W)),H.braceNest=0,H.inLinked=!1,ue):$(W,H)||P(W,H)?(N(W),se(W,H)):V(W,H)?(N(W),h(H,12,q(W))):O(W,H)?(N(W),fe==="{"?he(W,H)||ue:h(H,11,B(W))):(Z===8&&u(ze.INVALID_LINKED_FORMAT,s(),0),H.braceNest=0,H.inLinked=!1,oe(W,H))}}function oe(W,H){let Z={type:14};if(H.braceNest>0)return he(W,H)||g(H);if(H.inLinked)return se(W,H)||g(H);switch(W.currentChar()){case"{":return he(W,H)||g(H);case"}":return u(ze.UNBALANCED_CLOSING_BRACE,s(),0),W.next(),h(H,3,"}");case"@":return se(W,H)||g(H);default:{if(F(W))return Z=h(H,1,J(W)),H.braceNest=0,H.inLinked=!1,Z;const{isModulo:fe,hasSpace:de}=U(W);if(fe)return de?h(H,0,G(W)):h(H,4,D(W));if(b(W))return h(H,0,G(W));break}}return Z}function pe(){const{currentType:W,offset:H,startLoc:Z,endLoc:ue}=c;return c.lastType=W,c.lastOffset=H,c.lastStartLoc=Z,c.lastEndLoc=ue,c.offset=i(),c.startLoc=s(),n.currentChar()===Ru?h(c,14):oe(n,c)}return{nextToken:pe,currentOffset:i,currentPosition:s,context:f}}const w5e="parser",v5e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function _5e(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function A5e(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(M,k,L,$,...V){const P=M.currentPosition();if(P.offset+=$,P.column+=$,r){const O=e?$_(L,P):null,F=jg(k,O,{domain:w5e,args:V});r(F)}}function s(M,k,L,$,...V){const P=M.currentPosition();if(P.offset+=$,P.column+=$,n){const O=e?$_(L,P):null;n(l5e(k,O,V))}}function o(M,k,L){const $={type:M};return e&&($.start=k,$.end=k,$.loc={start:L,end:L}),$}function a(M,k,L,$){$&&(M.type=$),e&&(M.end=k,M.loc&&(M.loc.end=L))}function c(M,k){const L=M.context(),$=o(3,L.offset,L.startLoc);return $.value=k,a($,M.currentOffset(),M.currentPosition()),$}function f(M,k){const L=M.context(),{lastOffset:$,lastStartLoc:V}=L,P=o(5,$,V);return P.index=parseInt(k,10),M.nextToken(),a(P,M.currentOffset(),M.currentPosition()),P}function l(M,k,L){const $=M.context(),{lastOffset:V,lastStartLoc:P}=$,O=o(4,V,P);return O.key=k,L===!0&&(O.modulo=!0),M.nextToken(),a(O,M.currentOffset(),M.currentPosition()),O}function u(M,k){const L=M.context(),{lastOffset:$,lastStartLoc:V}=L,P=o(9,$,V);return P.value=k.replace(v5e,_5e),M.nextToken(),a(P,M.currentOffset(),M.currentPosition()),P}function h(M){const k=M.nextToken(),L=M.context(),{lastOffset:$,lastStartLoc:V}=L,P=o(8,$,V);return k.type!==12?(i(M,ze.UNEXPECTED_EMPTY_LINKED_MODIFIER,L.lastStartLoc,0),P.value="",a(P,$,V),{nextConsumeToken:k,node:P}):(k.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,Ga(k)),P.value=k.value||"",a(P,M.currentOffset(),M.currentPosition()),{node:P})}function g(M,k){const L=M.context(),$=o(7,L.offset,L.startLoc);return $.value=k,a($,M.currentOffset(),M.currentPosition()),$}function m(M){const k=M.context(),L=o(6,k.offset,k.startLoc);let $=M.nextToken();if($.type===9){const V=h(M);L.modifier=V.node,$=V.nextConsumeToken||M.nextToken()}switch($.type!==10&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga($)),$=M.nextToken(),$.type===2&&($=M.nextToken()),$.type){case 11:$.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga($)),L.key=g(M,$.value||"");break;case 5:$.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga($)),L.key=l(M,$.value||"");break;case 6:$.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga($)),L.key=f(M,$.value||"");break;case 7:$.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga($)),L.key=u(M,$.value||"");break;default:{i(M,ze.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const V=M.context(),P=o(7,V.offset,V.startLoc);return P.value="",a(P,V.offset,V.startLoc),L.key=P,a(L,V.offset,V.startLoc),{nextConsumeToken:$,node:L}}}return a(L,M.currentOffset(),M.currentPosition()),{node:L}}function w(M){const k=M.context(),L=k.currentType===1?M.currentOffset():k.offset,$=k.currentType===1?k.endLoc:k.startLoc,V=o(2,L,$);V.items=[];let P=null,O=null;do{const b=P||M.nextToken();switch(P=null,b.type){case 0:b.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga(b)),V.items.push(c(M,b.value||""));break;case 6:b.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga(b)),V.items.push(f(M,b.value||""));break;case 4:O=!0;break;case 5:b.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga(b)),V.items.push(l(M,b.value||"",!!O)),O&&(s(M,r5.USE_MODULO_SYNTAX,k.lastStartLoc,0,Ga(b)),O=null);break;case 7:b.value==null&&i(M,ze.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Ga(b)),V.items.push(u(M,b.value||""));break;case 8:{const y=m(M);V.items.push(y.node),P=y.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const F=k.currentType===1?k.lastOffset:M.currentOffset(),U=k.currentType===1?k.lastEndLoc:M.currentPosition();return a(V,F,U),V}function N(M,k,L,$){const V=M.context();let P=$.items.length===0;const O=o(1,k,L);O.cases=[],O.cases.push($);do{const F=w(M);P||(P=F.items.length===0),O.cases.push(F)}while(V.currentType!==14);return P&&i(M,ze.MUST_HAVE_MESSAGES_IN_PLURAL,L,0),a(O,M.currentOffset(),M.currentPosition()),O}function I(M){const k=M.context(),{offset:L,startLoc:$}=k,V=w(M);return k.currentType===14?V:N(M,L,$,V)}function C(M){const k=y5e(M,SV({},t)),L=k.context(),$=o(0,L.offset,L.startLoc);return e&&$.loc&&($.loc.source=M),$.body=I(k),t.onCacheKey&&($.cacheKey=t.onCacheKey(M)),L.currentType!==14&&i(k,ze.UNEXPECTED_LEXICAL_ANALYSIS,L.lastStartLoc,0,M[L.offset]||""),a($,k.currentOffset(),k.currentPosition()),$}return{parse:C}}function Ga(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function N5e(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function HL(t,e){for(let r=0;r<t.length;r++)n5(t[r],e)}function n5(t,e){switch(t.type){case 1:HL(t.cases,e),e.helper("plural");break;case 2:HL(t.items,e);break;case 6:{n5(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function x5e(t,e={}){const r=N5e(t);r.helper("normalize"),t.body&&n5(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function I5e(t){const e=t.body;return e.type===2?qL(e):e.cases.forEach(r=>qL(r)),t}function qL(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=RV(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const S5e="minifier";function hp(t){switch(t.t=t.type,t.type){case 0:{const e=t;hp(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)hp(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)hp(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;hp(e.key),e.k=e.key,delete e.key,e.modifier&&(hp(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw jg(ze.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:S5e,args:[t.type]})}delete t.type}const R5e="parser";function T5e(t,e){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:s}=e,o=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const c=()=>a;function f(N,I){a.code+=N}function l(N,I=!0){const C=I?i:"";f(s?C+"  ".repeat(N):C)}function u(N=!0){const I=++a.indentLevel;N&&l(I)}function h(N=!0){const I=--a.indentLevel;N&&l(I)}function g(){l(a.indentLevel)}return{context:c,push:f,indent:u,deindent:h,newline:g,helper:N=>`_${N}`,needIndent:()=>a.needIndent}}function C5e(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),mg(t,e.key),e.modifier?(t.push(", "),mg(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function O5e(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(mg(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function P5e(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(mg(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function U5e(t,e){e.body?mg(t,e.body):t.push("null")}function mg(t,e){const{helper:r}=t;switch(e.type){case 0:U5e(t,e);break;case 1:P5e(t,e);break;case 2:O5e(t,e);break;case 6:C5e(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw jg(ze.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:R5e,args:[e.type]})}}const M5e=(t,e={})=>{const r=zL(e.mode)?e.mode:"normal",n=zL(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,o=e.needIndent?e.needIndent:r!=="arrow",a=t.helpers||[],c=T5e(t,{mode:r,filename:n,sourceMap:i,breakLineCode:s,needIndent:o});c.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(o),a.length>0&&(c.push(`const { ${RV(a.map(u=>`${u}: _${u}`),", ")} } = ctx`),c.newline()),c.push("return "),mg(c,t),c.deindent(o),c.push("}"),delete t.helpers;const{code:f,map:l}=c.context();return{ast:t,code:f,map:l?l.toJSON():void 0}};function D5e(t,e={}){const r=SV({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,a=A5e(r).parse(t);return n?(s&&I5e(a),i&&hp(a),{ast:a,code:""}):(x5e(a,r),M5e(a,r))}/*!
  * core-base v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function k5e(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(zl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(zl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(zl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Dh=[];Dh[0]={w:[0],i:[3,0],"[":[4],o:[7]};Dh[1]={w:[1],".":[2],"[":[4],o:[7]};Dh[2]={w:[2],i:[3,0],0:[3,0]};Dh[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Dh[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Dh[5]={"'":[4,0],o:8,l:[5,0]};Dh[6]={'"':[4,0],o:8,l:[6,0]};const L5e=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function F5e(t){return L5e.test(t)}function $5e(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function B5e(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function G5e(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:F5e(e)?$5e(e):"*"+e}function j5e(t){const e=[];let r=-1,n=0,i=0,s,o,a,c,f,l,u;const h=[];h[0]=()=>{o===void 0?o=a:o+=a},h[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,o===void 0||(o=G5e(o),o===!1))return!1;h[1]()}};function g(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,h[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&g())){if(c=B5e(s),u=Dh[n],f=u[c]||u.l||8,f===8||(n=f[0],f[1]!==void 0&&(l=h[f[1]],l&&(a=s,l()===!1))))return;if(n===7)return e}}const VL=new Map;function z5e(t,e){return Jt(t)?t[e]:null}function W5e(t,e){if(!Jt(t))return null;let r=VL.get(e);if(r||(r=j5e(e),r&&VL.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const o=i[r[s]];if(o===void 0||Dr(i))return null;i=o,s++}return i}const H5e=t=>t,q5e=t=>"",V5e="text",K5e=t=>t.length===0?"":i5e(t),J5e=n5e;function KL(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function X5e(t){const e=Ei(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ei(t.named.count)||Ei(t.named.n))?Ei(t.named.count)?t.named.count:Ei(t.named.n)?t.named.n:e:e}function Y5e(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Z5e(t={}){const e=t.locale,r=X5e(t),n=Jt(t.pluralRules)&&Se(e)&&Dr(t.pluralRules[e])?t.pluralRules[e]:KL,i=Jt(t.pluralRules)&&Se(e)&&Dr(t.pluralRules[e])?KL:void 0,s=I=>I[n(r,I.length,i)],o=t.list||[],a=I=>o[I],c=t.named||{};Ei(t.pluralIndex)&&Y5e(r,c);const f=I=>c[I];function l(I){const C=Dr(t.messages)?t.messages(I):Jt(t.messages)?t.messages[I]:!1;return C||(t.parent?t.parent.message(I):q5e)}const u=I=>t.modifiers?t.modifiers[I]:H5e,h=it(t.processor)&&Dr(t.processor.normalize)?t.processor.normalize:K5e,g=it(t.processor)&&Dr(t.processor.interpolate)?t.processor.interpolate:J5e,m=it(t.processor)&&Se(t.processor.type)?t.processor.type:V5e,N={list:a,named:f,plural:s,linked:(I,...C)=>{const[M,k]=C;let L="text",$="";C.length===1?Jt(M)?($=M.modifier||$,L=M.type||L):Se(M)&&($=M||$):C.length===2&&(Se(M)&&($=M||$),Se(k)&&(L=k||L));const V=l(I)(N),P=L==="vnode"&&Gr(V)&&$?V[0]:V;return $?u($)(P,L):P},message:l,type:m,interpolate:g,normalize:h,values:Ji({},o,c)};return N}let zE=null;function Q5e(t){zE=t}function e8e(t,e,r){zE&&zE.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const t8e=r8e("function:translate");function r8e(t){return e=>zE&&zE.emit(t,e)}const TV=r5.__EXTEND_POINT__,sd=uN(TV),n8e={NOT_FOUND_KEY:TV,FALLBACK_TO_TRANSLATE:sd(),CANNOT_FORMAT_NUMBER:sd(),FALLBACK_TO_NUMBER_FORMAT:sd(),CANNOT_FORMAT_DATE:sd(),FALLBACK_TO_DATE_FORMAT:sd(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:sd(),__EXTEND_POINT__:sd()},CV=ze.__EXTEND_POINT__,od=uN(CV),of={INVALID_ARGUMENT:CV,INVALID_DATE_ARGUMENT:od(),INVALID_ISO_DATE_ARGUMENT:od(),NOT_SUPPORT_NON_STRING_MESSAGE:od(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:od(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:od(),NOT_SUPPORT_LOCALE_TYPE:od(),__EXTEND_POINT__:od()};function Vf(t){return jg(t,null,void 0)}function i5(t,e){return e.locale!=null?JL(e.locale):JL(t.locale)}let VI;function JL(t){if(Se(t))return t;if(Dr(t)){if(t.resolvedOnce&&VI!=null)return VI;if(t.constructor.name==="Function"){const e=t();if(r5e(e))throw Vf(of.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return VI=e}else throw Vf(of.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Vf(of.NOT_SUPPORT_LOCALE_TYPE)}function i8e(t,e,r){return[...new Set([r,...Gr(e)?e:Jt(e)?Object.keys(e):Se(e)?[e]:[r]])]}function OV(t,e,r){const n=Se(r)?r:bg,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let o=[r];for(;Gr(o);)o=XL(s,o,e);const a=Gr(e)||!it(e)?e:e.default?e.default:null;o=Se(a)?[a]:a,Gr(o)&&XL(s,o,!1),i.__localeChainCache.set(n,s)}return s}function XL(t,e,r){let n=!0;for(let i=0;i<e.length&&yt(n);i++){const s=e[i];Se(s)&&(n=s8e(t,e[i],r))}return n}function s8e(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=o8e(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function o8e(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Gr(r)||it(r))&&r[i]&&(n=r[i])}return n}const a8e="9.14.0",hN=-1,bg="en-US",YL="",ZL=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function c8e(){return{upper:(t,e)=>e==="text"&&Se(t)?t.toUpperCase():e==="vnode"&&Jt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Se(t)?t.toLowerCase():e==="vnode"&&Jt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Se(t)?ZL(t):e==="vnode"&&Jt(t)&&"__v_isVNode"in t?ZL(t.children):t}}let PV;function QL(t){PV=t}let UV;function f8e(t){UV=t}let MV;function l8e(t){MV=t}let DV=null;const u8e=t=>{DV=t},h8e=()=>DV;let kV=null;const eF=t=>{kV=t},d8e=()=>kV;let tF=0;function p8e(t={}){const e=Dr(t.onWarn)?t.onWarn:s5e,r=Se(t.version)?t.version:a8e,n=Se(t.locale)||Dr(t.locale)?t.locale:bg,i=Dr(n)?bg:n,s=Gr(t.fallbackLocale)||it(t.fallbackLocale)||Se(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=it(t.messages)?t.messages:{[i]:{}},a=it(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},c=it(t.numberFormats)?t.numberFormats:{[i]:{}},f=Ji({},t.modifiers||{},c8e()),l=t.pluralRules||{},u=Dr(t.missing)?t.missing:null,h=yt(t.missingWarn)||Eh(t.missingWarn)?t.missingWarn:!0,g=yt(t.fallbackWarn)||Eh(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,w=!!t.unresolving,N=Dr(t.postTranslation)?t.postTranslation:null,I=it(t.processor)?t.processor:null,C=yt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,M=!!t.escapeParameter,k=Dr(t.messageCompiler)?t.messageCompiler:PV,L=Dr(t.messageResolver)?t.messageResolver:UV||z5e,$=Dr(t.localeFallbacker)?t.localeFallbacker:MV||i8e,V=Jt(t.fallbackContext)?t.fallbackContext:void 0,P=t,O=Jt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,F=Jt(P.__numberFormatters)?P.__numberFormatters:new Map,U=Jt(P.__meta)?P.__meta:{};tF++;const b={version:r,cid:tF,locale:n,fallbackLocale:s,messages:o,modifiers:f,pluralRules:l,missing:u,missingWarn:h,fallbackWarn:g,fallbackFormat:m,unresolving:w,postTranslation:N,processor:I,warnHtmlMessage:C,escapeParameter:M,messageCompiler:k,messageResolver:L,localeFallbacker:$,fallbackContext:V,onWarn:e,__meta:U};return b.datetimeFormats=a,b.numberFormats=c,b.__datetimeFormatters=O,b.__numberFormatters=F,__INTLIFY_PROD_DEVTOOLS__&&e8e(b,r,U),b}function s5(t,e,r,n,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,r,e,i);return Se(a)?a:e}else return e}function Sm(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function g8e(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function m8e(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(g8e(t,e[n]))return!0;return!1}function KI(t){return r=>b8e(r,t)}function b8e(t,e){const r=e.b||e.body;if((r.t||r.type)===1){const n=r,i=n.c||n.cases;return t.plural(i.reduce((s,o)=>[...s,rF(t,o)],[]))}else return rF(t,r)}function rF(t,e){const r=e.s||e.static;if(r)return t.type==="text"?r:t.normalize([r]);{const n=(e.i||e.items).reduce((i,s)=>[...i,W3(t,s)],[]);return t.normalize(n)}}function W3(t,e){const r=e.t||e.type;switch(r){case 3:{const n=e;return n.v||n.value}case 9:{const n=e;return n.v||n.value}case 4:{const n=e;return t.interpolate(t.named(n.k||n.key))}case 5:{const n=e;return t.interpolate(t.list(n.i!=null?n.i:n.index))}case 6:{const n=e,i=n.m||n.modifier;return t.linked(W3(t,n.k||n.key),i?W3(t,i):void 0,t.type)}case 7:{const n=e;return n.v||n.value}case 8:{const n=e;return n.v||n.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const LV=t=>t;let wp=Object.create(null);const Eg=t=>Jt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function FV(t,e={}){let r=!1;const n=e.onError||h5e;return e.onError=i=>{r=!0,n(i)},{...D5e(t,e),detectError:r}}const E8e=(t,e)=>{if(!Se(t))throw Vf(of.NOT_SUPPORT_NON_STRING_MESSAGE);{yt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||LV)(t),i=wp[n];if(i)return i;const{code:s,detectError:o}=FV(t,e),a=new Function(`return ${s}`)();return o?a:wp[n]=a}};function y8e(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Se(t)){yt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||LV)(t),i=wp[n];if(i)return i;const{ast:s,detectError:o}=FV(t,{...e,location:!1,jit:!0}),a=KI(s);return o?a:wp[n]=a}else{const r=t.cacheKey;if(r){const n=wp[r];return n||(wp[r]=KI(t))}else return KI(t)}}const nF=()=>"",ha=t=>Dr(t);function iF(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[c,f]=H3(...e),l=yt(f.missingWarn)?f.missingWarn:t.missingWarn,u=yt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,h=yt(f.escapeParameter)?f.escapeParameter:t.escapeParameter,g=!!f.resolvedMessage,m=Se(f.default)||yt(f.default)?yt(f.default)?s?c:()=>c:f.default:r?s?c:()=>c:"",w=r||m!=="",N=i5(t,f);h&&w8e(f);let[I,C,M]=g?[c,N,a[N]||{}]:$V(t,c,N,o,u,l),k=I,L=c;if(!g&&!(Se(k)||Eg(k)||ha(k))&&w&&(k=m,L=k),!g&&(!(Se(k)||Eg(k)||ha(k))||!Se(C)))return i?hN:c;let $=!1;const V=()=>{$=!0},P=ha(k)?k:BV(t,c,C,k,L,V);if($)return k;const O=A8e(t,C,M,f),F=Z5e(O),U=v8e(t,P,F),b=n?n(U,c):U;if(__INTLIFY_PROD_DEVTOOLS__){const y={timestamp:Date.now(),key:Se(c)?c:ha(k)?k.key:"",locale:C||(ha(k)?k.locale:""),format:Se(k)?k:ha(k)?k.source:"",message:b};y.meta=Ji({},t.__meta,h8e()||{}),t8e(y)}return b}function w8e(t){Gr(t.list)?t.list=t.list.map(e=>Se(e)?jL(e):e):Jt(t.named)&&Object.keys(t.named).forEach(e=>{Se(t.named[e])&&(t.named[e]=jL(t.named[e]))})}function $V(t,e,r,n,i,s){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:f}=t,l=f(t,n,r);let u={},h,g=null;const m="translate";for(let w=0;w<l.length&&(h=l[w],u=o[h]||{},(g=c(u,e))===null&&(g=u[e]),!(Se(g)||Eg(g)||ha(g)));w++)if(!m8e(h,l)){const N=s5(t,e,h,s,m);N!==e&&(g=N)}return[g,h,u]}function BV(t,e,r,n,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(ha(n)){const f=n;return f.locale=f.locale||r,f.key=f.key||e,f}if(o==null){const f=()=>n;return f.locale=r,f.key=e,f}const c=o(n,_8e(t,r,i,n,a,s));return c.locale=r,c.key=e,c.source=n,c}function v8e(t,e,r){return e(r)}function H3(...t){const[e,r,n]=t,i={};if(!Se(e)&&!Ei(e)&&!ha(e)&&!Eg(e))throw Vf(of.INVALID_ARGUMENT);const s=Ei(e)?String(e):(ha(e),e);return Ei(r)?i.plural=r:Se(r)?i.default=r:it(r)&&!lN(r)?i.named=r:Gr(r)&&(i.list=r),Ei(n)?i.plural=n:Se(n)?i.default=n:it(n)&&Ji(i,n),[s,i]}function _8e(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>Z6e(e,r,o)}}function A8e(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:f,fallbackContext:l}=t,h={locale:e,modifiers:i,pluralRules:s,messages:g=>{let m=o(r,g);if(m==null&&l){const[,,w]=$V(l,g,e,a,c,f);m=o(w,g)}if(Se(m)||Eg(m)){let w=!1;const I=BV(t,g,e,m,g,()=>{w=!0});return w?nF:I}else return ha(m)?m:nF}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),Ei(n.plural)&&(h.pluralIndex=n.plural),h}function sF(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,f,l,u]=q3(...e),h=yt(l.missingWarn)?l.missingWarn:t.missingWarn;yt(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn;const g=!!l.part,m=i5(t,l),w=o(t,i,m);if(!Se(c)||c==="")return new Intl.DateTimeFormat(m,u).format(f);let N={},I,C=null;const M="datetime format";for(let $=0;$<w.length&&(I=w[$],N=r[I]||{},C=N[c],!it(C));$++)s5(t,c,I,h,M);if(!it(C)||!Se(I))return n?hN:c;let k=`${I}__${c}`;lN(u)||(k=`${k}__${JSON.stringify(u)}`);let L=a.get(k);return L||(L=new Intl.DateTimeFormat(I,Ji({},C,u)),a.set(k,L)),g?L.formatToParts(f):L.format(f)}const GV=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function q3(...t){const[e,r,n,i]=t,s={};let o={},a;if(Se(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Vf(of.INVALID_ISO_DATE_ARGUMENT);const f=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(f);try{a.toISOString()}catch{throw Vf(of.INVALID_ISO_DATE_ARGUMENT)}}else if(e5e(e)){if(isNaN(e.getTime()))throw Vf(of.INVALID_DATE_ARGUMENT);a=e}else if(Ei(e))a=e;else throw Vf(of.INVALID_ARGUMENT);return Se(r)?s.key=r:it(r)&&Object.keys(r).forEach(c=>{GV.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:it(n)&&(o=n),it(i)&&(o=i),[s.key||"",a,s,o]}function oF(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function aF(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,f,l,u]=V3(...e),h=yt(l.missingWarn)?l.missingWarn:t.missingWarn;yt(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn;const g=!!l.part,m=i5(t,l),w=o(t,i,m);if(!Se(c)||c==="")return new Intl.NumberFormat(m,u).format(f);let N={},I,C=null;const M="number format";for(let $=0;$<w.length&&(I=w[$],N=r[I]||{},C=N[c],!it(C));$++)s5(t,c,I,h,M);if(!it(C)||!Se(I))return n?hN:c;let k=`${I}__${c}`;lN(u)||(k=`${k}__${JSON.stringify(u)}`);let L=a.get(k);return L||(L=new Intl.NumberFormat(I,Ji({},C,u)),a.set(k,L)),g?L.formatToParts(f):L.format(f)}const jV=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function V3(...t){const[e,r,n,i]=t,s={};let o={};if(!Ei(e))throw Vf(of.INVALID_ARGUMENT);const a=e;return Se(r)?s.key=r:it(r)&&Object.keys(r).forEach(c=>{jV.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:it(n)&&(o=n),it(i)&&(o=i),[s.key||"",a,s,o]}function cF(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}k5e();/*!
  * vue-i18n v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const N8e="9.14.0";function x8e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(zl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(zl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(zl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(zl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(zl().__INTLIFY_PROD_DEVTOOLS__=!1)}const zV=n8e.__EXTEND_POINT__,Il=uN(zV);Il(),Il(),Il(),Il(),Il(),Il(),Il(),Il(),Il();const WV=of.__EXTEND_POINT__,Js=uN(WV),vi={UNEXPECTED_RETURN_TYPE:WV,INVALID_ARGUMENT:Js(),MUST_BE_CALL_SETUP_TOP:Js(),NOT_INSTALLED:Js(),NOT_AVAILABLE_IN_LEGACY_MODE:Js(),REQUIRED_VALUE:Js(),INVALID_VALUE:Js(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Js(),NOT_INSTALLED_WITH_PROVIDE:Js(),UNEXPECTED_ERROR:Js(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Js(),BRIDGE_SUPPORT_VUE_2_ONLY:Js(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Js(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Js(),__EXTEND_POINT__:Js()};function Pi(t,...e){return jg(t,null,void 0)}const K3=Mh("__translateVNode"),J3=Mh("__datetimeParts"),X3=Mh("__numberParts"),HV=Mh("__setPluralRules"),qV=Mh("__injectWithOption"),Y3=Mh("__dispose");function WE(t){if(!Jt(t))return t;for(const e in t)if(F_(t,e))if(!e.includes("."))Jt(t[e])&&WE(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let o=0;o<n;o++){if(r[o]in i||(i[r[o]]={}),!Jt(i[r[o]])){s=!0;break}i=i[r[o]]}s||(i[r[n]]=t[e],delete t[e]),Jt(i[r[n]])&&WE(i[r[n]])}return t}function dN(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,o=it(r)?r:Gr(n)?{}:{[t]:{}};if(Gr(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:f}=a;c?(o[c]=o[c]||{},Sv(f,o[c])):Sv(f,o)}else Se(a)&&Sv(JSON.parse(a),o)}),i==null&&s)for(const a in o)F_(o,a)&&WE(o[a]);return o}function VV(t){return t.type}function KV(t,e,r){let n=Jt(e.messages)?e.messages:{};"__i18nGlobal"in r&&(n=dN(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(Jt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Jt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function fF(t){return $e(qE,null,t,0)}const lF="__INTLIFY_META__",uF=()=>[],I8e=()=>!1;let hF=0;function dF(t){return(e,r,n,i)=>t(r,n,il()||void 0,i)}const S8e=()=>{const t=il();let e=null;return t&&(e=VV(t)[lF])?{[lF]:e}:null};function o5(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,o=L_?mt:vT,a=!!t.translateExistCompatible;let c=yt(t.inheritLocale)?t.inheritLocale:!0;const f=o(r&&c?r.locale.value:Se(t.locale)?t.locale:bg),l=o(r&&c?r.fallbackLocale.value:Se(t.fallbackLocale)||Gr(t.fallbackLocale)||it(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:f.value),u=o(dN(f.value,t)),h=o(it(t.datetimeFormats)?t.datetimeFormats:{[f.value]:{}}),g=o(it(t.numberFormats)?t.numberFormats:{[f.value]:{}});let m=r?r.missingWarn:yt(t.missingWarn)||Eh(t.missingWarn)?t.missingWarn:!0,w=r?r.fallbackWarn:yt(t.fallbackWarn)||Eh(t.fallbackWarn)?t.fallbackWarn:!0,N=r?r.fallbackRoot:yt(t.fallbackRoot)?t.fallbackRoot:!0,I=!!t.fallbackFormat,C=Dr(t.missing)?t.missing:null,M=Dr(t.missing)?dF(t.missing):null,k=Dr(t.postTranslation)?t.postTranslation:null,L=r?r.warnHtmlMessage:yt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,$=!!t.escapeParameter;const V=r?r.modifiers:it(t.modifiers)?t.modifiers:{};let P=t.pluralRules||r&&r.pluralRules,O;O=(()=>{i&&eF(null);const ee={version:N8e,locale:f.value,fallbackLocale:l.value,messages:u.value,modifiers:V,pluralRules:P,missing:M===null?void 0:M,missingWarn:m,fallbackWarn:w,fallbackFormat:I,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:L,escapeParameter:$,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ee.datetimeFormats=h.value,ee.numberFormats=g.value,ee.__datetimeFormatters=it(O)?O.__datetimeFormatters:void 0,ee.__numberFormatters=it(O)?O.__numberFormatters:void 0;const re=p8e(ee);return i&&eF(re),re})(),Sm(O,f.value,l.value);function U(){return[f.value,l.value,u.value,h.value,g.value]}const b=kr({get:()=>f.value,set:ee=>{f.value=ee,O.locale=f.value}}),y=kr({get:()=>l.value,set:ee=>{l.value=ee,O.fallbackLocale=l.value,Sm(O,f.value,ee)}}),d=kr(()=>u.value),p=kr(()=>h.value),E=kr(()=>g.value);function x(){return Dr(k)?k:null}function R(ee){k=ee,O.postTranslation=ee}function S(){return C}function v(ee){ee!==null&&(M=dF(ee)),C=ee,O.missing=M}const A=(ee,re,we,Ae,Re,Ge)=>{U();let Ve;try{__INTLIFY_PROD_DEVTOOLS__,i||(O.fallbackContext=r?d8e():void 0),Ve=ee(O)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(O.fallbackContext=void 0)}if(we!=="translate exists"&&Ei(Ve)&&Ve===hN||we==="translate exists"&&!Ve){const[ke,Rt]=re();return r&&N?Ae(r):Re(ke)}else{if(Ge(Ve))return Ve;throw Pi(vi.UNEXPECTED_RETURN_TYPE)}};function _(...ee){return A(re=>Reflect.apply(iF,null,[re,...ee]),()=>H3(...ee),"translate",re=>Reflect.apply(re.t,re,[...ee]),re=>re,re=>Se(re))}function D(...ee){const[re,we,Ae]=ee;if(Ae&&!Jt(Ae))throw Pi(vi.INVALID_ARGUMENT);return _(re,we,Ji({resolvedMessage:!0},Ae||{}))}function G(...ee){return A(re=>Reflect.apply(sF,null,[re,...ee]),()=>q3(...ee),"datetime format",re=>Reflect.apply(re.d,re,[...ee]),()=>YL,re=>Se(re))}function T(...ee){return A(re=>Reflect.apply(aF,null,[re,...ee]),()=>V3(...ee),"number format",re=>Reflect.apply(re.n,re,[...ee]),()=>YL,re=>Se(re))}function z(ee){return ee.map(re=>Se(re)||Ei(re)||yt(re)?fF(String(re)):re)}const X={normalize:z,interpolate:ee=>ee,type:"vnode"};function Y(...ee){return A(re=>{let we;const Ae=re;try{Ae.processor=X,we=Reflect.apply(iF,null,[Ae,...ee])}finally{Ae.processor=null}return we},()=>H3(...ee),"translate",re=>re[K3](...ee),re=>[fF(re)],re=>Gr(re))}function ne(...ee){return A(re=>Reflect.apply(aF,null,[re,...ee]),()=>V3(...ee),"number format",re=>re[X3](...ee),uF,re=>Se(re)||Gr(re))}function ce(...ee){return A(re=>Reflect.apply(sF,null,[re,...ee]),()=>q3(...ee),"datetime format",re=>re[J3](...ee),uF,re=>Se(re)||Gr(re))}function le(ee){P=ee,O.pluralRules=P}function q(ee,re){return A(()=>{if(!ee)return!1;const we=Se(re)?re:f.value,Ae=he(we),Re=O.messageResolver(Ae,ee);return a?Re!=null:Eg(Re)||ha(Re)||Se(Re)},()=>[ee],"translate exists",we=>Reflect.apply(we.te,we,[ee,re]),I8e,we=>yt(we))}function B(ee){let re=null;const we=OV(O,l.value,f.value);for(let Ae=0;Ae<we.length;Ae++){const Re=u.value[we[Ae]]||{},Ge=O.messageResolver(Re,ee);if(Ge!=null){re=Ge;break}}return re}function J(ee){const re=B(ee);return re??(r?r.tm(ee)||{}:{})}function he(ee){return u.value[ee]||{}}function se(ee,re){if(s){const we={[ee]:re};for(const Ae in we)F_(we,Ae)&&WE(we[Ae]);re=we[ee]}u.value[ee]=re,O.messages=u.value}function oe(ee,re){u.value[ee]=u.value[ee]||{};const we={[ee]:re};if(s)for(const Ae in we)F_(we,Ae)&&WE(we[Ae]);re=we[ee],Sv(re,u.value[ee]),O.messages=u.value}function pe(ee){return h.value[ee]||{}}function W(ee,re){h.value[ee]=re,O.datetimeFormats=h.value,oF(O,ee,re)}function H(ee,re){h.value[ee]=Ji(h.value[ee]||{},re),O.datetimeFormats=h.value,oF(O,ee,re)}function Z(ee){return g.value[ee]||{}}function ue(ee,re){g.value[ee]=re,O.numberFormats=g.value,cF(O,ee,re)}function fe(ee,re){g.value[ee]=Ji(g.value[ee]||{},re),O.numberFormats=g.value,cF(O,ee,re)}hF++,r&&L_&&(wi(r.locale,ee=>{c&&(f.value=ee,O.locale=ee,Sm(O,f.value,l.value))}),wi(r.fallbackLocale,ee=>{c&&(l.value=ee,O.fallbackLocale=ee,Sm(O,f.value,l.value))}));const de={id:hF,locale:b,fallbackLocale:y,get inheritLocale(){return c},set inheritLocale(ee){c=ee,ee&&r&&(f.value=r.locale.value,l.value=r.fallbackLocale.value,Sm(O,f.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:d,get modifiers(){return V},get pluralRules(){return P||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ee){m=ee,O.missingWarn=m},get fallbackWarn(){return w},set fallbackWarn(ee){w=ee,O.fallbackWarn=w},get fallbackRoot(){return N},set fallbackRoot(ee){N=ee},get fallbackFormat(){return I},set fallbackFormat(ee){I=ee,O.fallbackFormat=I},get warnHtmlMessage(){return L},set warnHtmlMessage(ee){L=ee,O.warnHtmlMessage=ee},get escapeParameter(){return $},set escapeParameter(ee){$=ee,O.escapeParameter=ee},t:_,getLocaleMessage:he,setLocaleMessage:se,mergeLocaleMessage:oe,getPostTranslationHandler:x,setPostTranslationHandler:R,getMissingHandler:S,setMissingHandler:v,[HV]:le};return de.datetimeFormats=p,de.numberFormats=E,de.rt=D,de.te=q,de.tm=J,de.d=G,de.n=T,de.getDateTimeFormat=pe,de.setDateTimeFormat=W,de.mergeDateTimeFormat=H,de.getNumberFormat=Z,de.setNumberFormat=ue,de.mergeNumberFormat=fe,de[qV]=n,de[K3]=Y,de[J3]=ce,de[X3]=ne,de}function R8e(t){const e=Se(t.locale)?t.locale:bg,r=Se(t.fallbackLocale)||Gr(t.fallbackLocale)||it(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=Dr(t.missing)?t.missing:void 0,i=yt(t.silentTranslationWarn)||Eh(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=yt(t.silentFallbackWarn)||Eh(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=yt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=it(t.modifiers)?t.modifiers:{},f=t.pluralizationRules,l=Dr(t.postTranslation)?t.postTranslation:void 0,u=Se(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,g=yt(t.sync)?t.sync:!0;let m=t.messages;if(it(t.sharedMessages)){const $=t.sharedMessages;m=Object.keys($).reduce((P,O)=>{const F=P[O]||(P[O]={});return Ji(F,$[O]),P},m||{})}const{__i18n:w,__root:N,__injectWithOption:I}=t,C=t.datetimeFormats,M=t.numberFormats,k=t.flatJson,L=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:k,datetimeFormats:C,numberFormats:M,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:f,postTranslation:l,warnHtmlMessage:u,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:g,translateExistCompatible:L,__i18n:w,__root:N,__injectWithOption:I}}function Z3(t={},e){{const r=o5(R8e(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return yt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=yt(s)?!s:s},get silentFallbackWarn(){return yt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=yt(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,c]=s,f={};let l=null,u=null;if(!Se(o))throw Pi(vi.INVALID_ARGUMENT);const h=o;return Se(a)?f.locale=a:Gr(a)?l=a:it(a)&&(u=a),Gr(c)?l=c:it(c)&&(u=c),Reflect.apply(r.t,r,[h,l||u||{},f])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,c]=s,f={plural:1};let l=null,u=null;if(!Se(o))throw Pi(vi.INVALID_ARGUMENT);const h=o;return Se(a)?f.locale=a:Ei(a)?f.plural=a:Gr(a)?l=a:it(a)&&(u=a),Se(c)?f.locale=c:Gr(c)?l=c:it(c)&&(u=c),Reflect.apply(r.t,r,[h,l||u||{},f])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=n,i}}const a5={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function T8e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===ro?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},{})}function JV(t){return ro}const C8e=ys({name:"i18n-t",props:Ji({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Ei(t)||!isNaN(t)}},a5),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||pN({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(u=>u!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Se(t.plural)?+t.plural:t.plural);const a=T8e(e,s),c=i[K3](t.keypath,a,o),f=Ji({},n),l=Se(t.tag)||Jt(t.tag)?t.tag:JV();return KE(l,f,c)}}}),pF=C8e;function O8e(t){return Gr(t)&&!Se(t[0])}function XV(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),Se(t.format)?o.key=t.format:Jt(t.format)&&(Se(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((h,g)=>r.includes(g)?Ji({},h,{[g]:t.format[g]}):h,{}));const c=n(t.value,o,a);let f=[o.key];Gr(c)?f=c.map((h,g)=>{const m=i[h.type],w=m?m({[h.type]:h.value,index:g,parts:c}):[h.value];return O8e(w)&&(w[0].key=`${h.type}-${g}`),w}):Se(c)&&(f=[c]);const l=Ji({},s),u=Se(t.tag)||Jt(t.tag)?t.tag:JV();return KE(u,l,f)}}const P8e=ys({name:"i18n-n",props:Ji({value:{type:Number,required:!0},format:{type:[String,Object]}},a5),setup(t,e){const r=t.i18n||pN({useScope:t.scope,__useComponent:!0});return XV(t,e,jV,(...n)=>r[X3](...n))}}),gF=P8e,U8e=ys({name:"i18n-d",props:Ji({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},a5),setup(t,e){const r=t.i18n||pN({useScope:t.scope,__useComponent:!0});return XV(t,e,GV,(...n)=>r[J3](...n))}}),mF=U8e;function M8e(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function D8e(t){const e=o=>{const{instance:a,modifiers:c,value:f}=o;if(!a||!a.$)throw Pi(vi.UNEXPECTED_ERROR);const l=M8e(t,a.$),u=bF(f);return[Reflect.apply(l.t,l,[...EF(u)]),l]};return{created:(o,a)=>{const[c,f]=e(a);L_&&t.global===f&&(o.__i18nWatcher=wi(f.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=f,o.textContent=c},unmounted:o=>{L_&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,f=bF(a);o.textContent=Reflect.apply(c.t,c,[...EF(f)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function bF(t){if(Se(t))return{path:t};if(it(t)){if(!("path"in t))throw Pi(vi.REQUIRED_VALUE,"path");return t}else throw Pi(vi.INVALID_VALUE)}function EF(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,o={},a=n||{};return Se(r)&&(o.locale=r),Ei(i)&&(o.plural=i),Ei(s)&&(o.plural=s),[e,a,o]}function k8e(t,e,...r){const n=it(r[0])?r[0]:{},i=!!n.useI18nComponentName;(yt(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":pF.name,"I18nT"].forEach(o=>t.component(o,pF)),[gF.name,"I18nN"].forEach(o=>t.component(o,gF)),[mF.name,"I18nD"].forEach(o=>t.component(o,mF))),t.directive("t",D8e(e))}function L8e(t,e,r){return{beforeCreate(){const n=il();if(!n)throw Pi(vi.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=yF(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=Z3(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=yF(t,i);else{this.$i18n=Z3({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&KV(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=il();if(!n)throw Pi(vi.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function yF(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[HV](e.pluralizationRules||t.pluralizationRules);const r=dN(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const F8e=Mh("global-vue-i18n");function $8e(t={},e){const r=__VUE_I18N_LEGACY_API__&&yt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=yt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[o,a]=B8e(t,r),c=Mh("");function f(h){return s.get(h)||null}function l(h,g){s.set(h,g)}function u(h){s.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(g,...m){if(g.__VUE_I18N_SYMBOL__=c,g.provide(g.__VUE_I18N_SYMBOL__,h),it(m[0])){const I=m[0];h.__composerExtend=I.__composerExtend,h.__vueI18nExtend=I.__vueI18nExtend}let w=null;!r&&n&&(w=J8e(g,h.global)),__VUE_I18N_FULL_INSTALL__&&k8e(g,h,...m),__VUE_I18N_LEGACY_API__&&r&&g.mixin(L8e(a,a.__composer,h));const N=g.unmount;g.unmount=()=>{w&&w(),h.dispose(),N()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:f,__setInstance:l,__deleteInstance:u};return h}}function pN(t={}){const e=il();if(e==null)throw Pi(vi.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Pi(vi.NOT_INSTALLED);const r=G8e(e),n=z8e(r),i=VV(e),s=j8e(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Pi(vi.NOT_AVAILABLE_IN_LEGACY_MODE);return V8e(e,s,n,t)}if(s==="global")return KV(n,t,i),n;if(s==="parent"){let c=W8e(r,e,t.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(e);if(a==null){const c=Ji({},t);"__i18n"in i&&(c.__i18n=i.__i18n),n&&(c.__root=n),a=o5(c),o.__composerExtend&&(a[Y3]=o.__composerExtend(a)),q8e(o,e,a),o.__setInstance(e,a)}return a}function B8e(t,e,r){const n=fT();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>Z3(t)):n.run(()=>o5(t));if(i==null)throw Pi(vi.UNEXPECTED_ERROR);return[n,i]}}function G8e(t){{const e=io(t.isCE?F8e:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Pi(t.isCE?vi.NOT_INSTALLED_WITH_PROVIDE:vi.UNEXPECTED_ERROR);return e}}function j8e(t,e){return lN(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function z8e(t){return t.mode==="composition"?t.global:t.global.__composer}function W8e(t,e,r=!1){let n=null;const i=e.root;let s=H8e(e,r);for(;s!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,r&&n&&!n[qV]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function H8e(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function q8e(t,e,r){_h(()=>{},e),i0(()=>{const n=r;t.__deleteInstance(e);const i=n[Y3];i&&(i(),delete n[Y3])},e)}function V8e(t,e,r,n={}){const i=e==="local",s=vT(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Pi(vi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=yt(n.inheritLocale)?n.inheritLocale:!Se(n.locale),a=mt(!i||o?r.locale.value:Se(n.locale)?n.locale:bg),c=mt(!i||o?r.fallbackLocale.value:Se(n.fallbackLocale)||Gr(n.fallbackLocale)||it(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),f=mt(dN(a.value,n)),l=mt(it(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),u=mt(it(n.numberFormats)?n.numberFormats:{[a.value]:{}}),h=i?r.missingWarn:yt(n.missingWarn)||Eh(n.missingWarn)?n.missingWarn:!0,g=i?r.fallbackWarn:yt(n.fallbackWarn)||Eh(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:yt(n.fallbackRoot)?n.fallbackRoot:!0,w=!!n.fallbackFormat,N=Dr(n.missing)?n.missing:null,I=Dr(n.postTranslation)?n.postTranslation:null,C=i?r.warnHtmlMessage:yt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,M=!!n.escapeParameter,k=i?r.modifiers:it(n.modifiers)?n.modifiers:{},L=n.pluralRules||i&&r.pluralRules;function $(){return[a.value,c.value,f.value,l.value,u.value]}const V=kr({get:()=>s.value?s.value.locale.value:a.value,set:B=>{s.value&&(s.value.locale.value=B),a.value=B}}),P=kr({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:B=>{s.value&&(s.value.fallbackLocale.value=B),c.value=B}}),O=kr(()=>s.value?s.value.messages.value:f.value),F=kr(()=>l.value),U=kr(()=>u.value);function b(){return s.value?s.value.getPostTranslationHandler():I}function y(B){s.value&&s.value.setPostTranslationHandler(B)}function d(){return s.value?s.value.getMissingHandler():N}function p(B){s.value&&s.value.setMissingHandler(B)}function E(B){return $(),B()}function x(...B){return s.value?E(()=>Reflect.apply(s.value.t,null,[...B])):E(()=>"")}function R(...B){return s.value?Reflect.apply(s.value.rt,null,[...B]):""}function S(...B){return s.value?E(()=>Reflect.apply(s.value.d,null,[...B])):E(()=>"")}function v(...B){return s.value?E(()=>Reflect.apply(s.value.n,null,[...B])):E(()=>"")}function A(B){return s.value?s.value.tm(B):{}}function _(B,J){return s.value?s.value.te(B,J):!1}function D(B){return s.value?s.value.getLocaleMessage(B):{}}function G(B,J){s.value&&(s.value.setLocaleMessage(B,J),f.value[B]=J)}function T(B,J){s.value&&s.value.mergeLocaleMessage(B,J)}function z(B){return s.value?s.value.getDateTimeFormat(B):{}}function j(B,J){s.value&&(s.value.setDateTimeFormat(B,J),l.value[B]=J)}function X(B,J){s.value&&s.value.mergeDateTimeFormat(B,J)}function Y(B){return s.value?s.value.getNumberFormat(B):{}}function ne(B,J){s.value&&(s.value.setNumberFormat(B,J),u.value[B]=J)}function ce(B,J){s.value&&s.value.mergeNumberFormat(B,J)}const le={get id(){return s.value?s.value.id:-1},locale:V,fallbackLocale:P,messages:O,datetimeFormats:F,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(B){s.value&&(s.value.inheritLocale=B)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(f.value)},get modifiers(){return s.value?s.value.modifiers:k},get pluralRules(){return s.value?s.value.pluralRules:L},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:h},set missingWarn(B){s.value&&(s.value.missingWarn=B)},get fallbackWarn(){return s.value?s.value.fallbackWarn:g},set fallbackWarn(B){s.value&&(s.value.missingWarn=B)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(B){s.value&&(s.value.fallbackRoot=B)},get fallbackFormat(){return s.value?s.value.fallbackFormat:w},set fallbackFormat(B){s.value&&(s.value.fallbackFormat=B)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:C},set warnHtmlMessage(B){s.value&&(s.value.warnHtmlMessage=B)},get escapeParameter(){return s.value?s.value.escapeParameter:M},set escapeParameter(B){s.value&&(s.value.escapeParameter=B)},t:x,getPostTranslationHandler:b,setPostTranslationHandler:y,getMissingHandler:d,setMissingHandler:p,rt:R,d:S,n:v,tm:A,te:_,getLocaleMessage:D,setLocaleMessage:G,mergeLocaleMessage:T,getDateTimeFormat:z,setDateTimeFormat:j,mergeDateTimeFormat:X,getNumberFormat:Y,setNumberFormat:ne,mergeNumberFormat:ce};function q(B){B.locale.value=a.value,B.fallbackLocale.value=c.value,Object.keys(f.value).forEach(J=>{B.mergeLocaleMessage(J,f.value[J])}),Object.keys(l.value).forEach(J=>{B.mergeDateTimeFormat(J,l.value[J])}),Object.keys(u.value).forEach(J=>{B.mergeNumberFormat(J,u.value[J])}),B.escapeParameter=M,B.fallbackFormat=w,B.fallbackRoot=m,B.fallbackWarn=g,B.missingWarn=h,B.warnHtmlMessage=C}return N$(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Pi(vi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const B=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=B.locale.value,c.value=B.fallbackLocale.value,f.value=B.messages.value,l.value=B.datetimeFormats.value,u.value=B.numberFormats.value):i&&q(B)}),le}const K8e=["locale","fallbackLocale","availableLocales"],wF=["t","rt","d","n","tm","te"];function J8e(t,e){const r=Object.create(null);return K8e.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Pi(vi.UNEXPECTED_ERROR);const o=Xr(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,o)}),t.config.globalProperties.$i18n=r,wF.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Pi(vi.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,wF.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}x8e();__INTLIFY_JIT_COMPILATION__?QL(y8e):QL(E8e);f8e(W5e);l8e(OV);if(__INTLIFY_PROD_DEVTOOLS__){const t=zl();t.__INTLIFY__=!0,Q5e(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var X8e=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let YV;const gN=t=>YV=t,ZV=Symbol();function Q3(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ib;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ib||(Ib={}));function Y8e(){const t=fT(!0),e=t.run(()=>mt({}));let r=[],n=[];const i=yT({install(s){gN(i),i._a=s,s.provide(ZV,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return!this._a&&!X8e?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const QV=()=>{};function vF(t,e,r,n=QV){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&jF()&&wK(i),i}function J0(t,...e){t.slice().forEach(r=>{r(...e)})}const Z8e=t=>t(),_F=Symbol(),JI=Symbol();function eT(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];Q3(i)&&Q3(n)&&t.hasOwnProperty(r)&&!Xr(n)&&!xd(n)?t[r]=eT(i,n):t[r]=n}return t}const Q8e=Symbol();function eOe(t){return!Q3(t)||!t.hasOwnProperty(Q8e)}const{assign:Uu}=Object;function tOe(t){return!!(Xr(t)&&t.effect)}function rOe(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let c;function f(){a||(r.state.value[t]=i?i():{});const l=HK(r.state.value[t]);return Uu(l,s,Object.keys(o||{}).reduce((u,h)=>(u[h]=yT(kr(()=>{gN(r);const g=r._s.get(t);return o[h].call(g,g)})),u),{}))}return c=eK(t,f,e,r,n,!0),c}function eK(t,e,r={},n,i,s){let o;const a=Uu({actions:{}},r),c={deep:!0};let f,l,u=[],h=[],g;const m=n.state.value[t];!s&&!m&&(n.state.value[t]={}),mt({});let w;function N(P){let O;f=l=!1,typeof P=="function"?(P(n.state.value[t]),O={type:Ib.patchFunction,storeId:t,events:g}):(eT(n.state.value[t],P),O={type:Ib.patchObject,payload:P,storeId:t,events:g});const F=w=Symbol();Ld().then(()=>{w===F&&(f=!0)}),l=!0,J0(u,O,n.state.value[t])}const I=s?function(){const{state:O}=r,F=O?O():{};this.$patch(U=>{Uu(U,F)})}:QV;function C(){o.stop(),u=[],h=[],n._s.delete(t)}const M=(P,O="")=>{if(_F in P)return P[JI]=O,P;const F=function(){gN(n);const U=Array.from(arguments),b=[],y=[];function d(x){b.push(x)}function p(x){y.push(x)}J0(h,{args:U,name:F[JI],store:L,after:d,onError:p});let E;try{E=P.apply(this&&this.$id===t?this:L,U)}catch(x){throw J0(y,x),x}return E instanceof Promise?E.then(x=>(J0(b,x),x)).catch(x=>(J0(y,x),Promise.reject(x))):(J0(b,E),E)};return F[_F]=!0,F[JI]=O,F},k={_p:n,$id:t,$onAction:vF.bind(null,h),$patch:N,$reset:I,$subscribe(P,O={}){const F=vF(u,P,O.detached,()=>U()),U=o.run(()=>wi(()=>n.state.value[t],b=>{(O.flush==="sync"?l:f)&&P({storeId:t,type:Ib.direct,events:g},b)},Uu({},c,O)));return F},$dispose:C},L=au(k);n._s.set(t,L);const V=(n._a&&n._a.runWithContext||Z8e)(()=>n._e.run(()=>(o=fT()).run(()=>e({action:M}))));for(const P in V){const O=V[P];if(Xr(O)&&!tOe(O)||xd(O))s||(m&&eOe(O)&&(Xr(O)?O.value=m[P]:eT(O,m[P])),n.state.value[t][P]=O);else if(typeof O=="function"){const F=M(O,P);V[P]=F,a.actions[P]=O}}return Uu(L,V),Uu(Lt(L),V),Object.defineProperty(L,"$state",{get:()=>n.state.value[t],set:P=>{N(O=>{Uu(O,P)})}}),n._p.forEach(P=>{Uu(L,o.run(()=>P({store:L,app:n._a,pinia:n,options:a})))}),m&&s&&r.hydrate&&r.hydrate(L.$state,m),f=!0,l=!0,L}function nOe(t,e,r){let n,i;const s=typeof e=="function";typeof t=="string"?(n=t,i=s?r:e):(i=t,n=t.id);function o(a,c){const f=xJ();return a=a||(f?io(ZV,null):null),a&&gN(a),a=YV,a._s.has(n)||(s?eK(n,e,i,a):rOe(n,i,a)),a._s.get(n)}return o.$id=n,o}const iOe=nOe("language",{state:()=>({locale:""}),getters:{},actions:{setLocal(t){this.locale=t}},persist:!0}),sOe="大节点",oOe="小节点",aOe="连接钱包",cOe="授权",fOe="认购",lOe="总量",uOe="节点价格",hOe="节点数量",dOe="卡牌规则",pOe="超级节点 288 个，分红买卖手续费 2%，40% 加权分红，60% 业绩分红，(必须推荐 10 个小节点才算合格)",gOe="社区节点 2880 个，买卖手续费 5%，40 加权分红，60% 业绩分红，（推荐 10 个 20 USDT有效账户才算合格）",mOe="已完成私募",bOe="输入推荐人",EOe="USDT余额不足",yOe="获取节点成功",wOe="获取节点失败",vOe="我的邀请链接",_Oe="复制链接",AOe="复制成功",NOe="复制失败，请长时间按手动复制",xOe="签名登录",IOe="代币分配",SOe="待铸造总量",ROe="已销毁总量",TOe="代币",COe="已铸造",OOe="待铸造",POe="Ai托管",UOe="中奖铸造",MOe="立即铸造",DOe="立即存入",kOe="铸造",LOe="当前存入",FOe="社区共振",$Oe="进度",BOe="当前金额",GOe="参与共振",jOe=" 铸造池",zOe="参与铸造",WOe="存入",HOe="取出",qOe="首页",VOe="兑换",KOe="资产",JOe="更多",XOe="说明",YOe="参与MIN128币的铸造只需要通过AI托管的形式，合约将自动执行社区共振和铸造池的铸造获得MIN128币！",ZOe="存取记录",QOe="请输入数量",ePe="可存入数量",tPe="确定",rPe="可提取数量",nPe="总资产折合",iPe="充值",sPe="提现",oPe="详情",aPe="交易记录",cPe="用户地址",fPe="时间",lPe="描述",uPe="没有更多了",hPe="重新加载",dPe="数量",pPe="请选择充值币种",gPe="请输入充值数量",mPe="请选择",bPe="当前地址余额",EPe="选择",yPe="余额不足",wPe="充值成功",vPe="充值失败",_Pe="请选择提币币种",APe="请输入提币数量",NPe="发起提币成功",xPe="发起提币失败",IPe="邀请计划",SPe="您可通过邀请好友获得海量MIN代币铸造权益",RPe="邀请地址",TPe="邀请链接",CPe="邀请记录",OPe="我的社区",PPe="机枪池",UPe="发射",MPe="大厅",DPe="级别",kPe="VIP级别",LPe="节点级别",FPe="级别管理",$Pe="无",BPe="VIP管理",GPe="小区业绩",jPe="续费",zPe="节点管理",WPe="节点数量",HPe="有效用户数量",qPe="节点NFT质押",VPe="节点NFT解押",KPe="质押",JPe="选择NFT节点",XPe="质押失败",YPe="质押成功",ZPe="解押",QPe="解押成功",e4e="解押失败",t4e="需要USDT的数量",r4e="铸造",n4e="可铸造额度",i4e="待铸造额度",s4e="请输入铸造额度",o4e="AUSDT余额不足",a4e="成功",c4e="失败",f4e="状态",l4e="交易中",u4e="已完成",h4e="铸造记录",d4e="中奖铸造",p4e="白名单转让",g4e="白名单凭证余额",m4e="凭证余额不足",b4e="USDT余额不足",E4e="转让白名单地址",y4e="请输入转让白名单地址",w4e="转账额度",v4e="请输入转账额度",_4e="转移记录",A4e="当前奖金数量",N4e="请输入推荐人",x4e="推荐人",I4e="请输入推荐人地址",S4e="购买节点",R4e="社区明细",T4e="业绩",C4e="有效期",O4e="公告列表",P4e="公告详情",U4e="请选择NFT",M4e="启动",D4e="留言",k4e="留言标题",L4e="留言内容",F4e="上传图片",$4e="请输入标题",B4e="请输入内容",G4e="反馈详情",j4e="回复",z4e="解押NFT手续费",W4e="更新",H4e="排单记录",q4e="托管",V4e="出局",K4e="中奖",J4e="编号",X4e="奖金明细",Y4e="托管余额",Z4e="白名单余额",Q4e="排名",e9e="地址",t9e="新增业绩",r9e="新增业绩排名",n9e="选择支付方式",i9e="手续费",s9e="手续费不足{num}MIN",o9e="需要MIN数量",a9e="MIN 余额",c9e="已获得奖金数量",f9e="可获得奖金数量",l9e="请输入兑换数量",u9e="兑换成功",h9e="兑换失败",d9e="节点分红",p9e="领取",g9e={_Big_node:sOe,_Small_node:oOe,_Connect_wallet:aOe,_Approve:cOe,_Ido:fOe,_Total:lOe,_Ido_price:uOe,_Ido_number:hOe,_Card_rules:dOe,_Big_rule:pOe,_Small_rule:gOe,_Completed_ido:mOe,_Enter_intro:bOe,_USDT_insufficient:EOe,_Ido_success:yOe,_Ido_fail:wOe,_My_invitation_link:vOe,_Copy_link:_Oe,_Copy_successful:AOe,_Copy_failed:NOe,_Sign_login:xOe,_Token_allocation:IOe,_Total_amount_to_be_cast:SOe,_Total_amount_destroyed:ROe,_Token:TOe,_Cast:COe,_To_be_cast:OOe,_Ai_Hosting:POe,_Explosive_Block_Casting:UOe,_Cast_now:MOe,_Deposit_now:DOe,_Mint:kOe,_Current_deposit:LOe,_Community_resonance:FOe,_Progress_rate:$Oe,_Current_amount:BOe,_Join_resonance:GOe,_Minting_pool:jOe,_Join_mint:zOe,_Deposit:WOe,_Take_out:HOe,_Home:qOe,_Swap:VOe,_Assets:KOe,_More:JOe,_Info:XOe,_Info_desc:YOe,_Access_records:ZOe,_Please_enter_quantity:QOe,_Amount_that_can_be_deposited:ePe,_Sure:tPe,_Available_quantity:rPe,_Total_assets_converted:nPe,_Recharge:iPe,_Withdraw:sPe,_Details:oPe,_Transaction_history:aPe,_User_address:cPe,_Time:fPe,_Description:lPe,_No_more:uPe,_Reload:hPe,_Amount:dPe,_Please_select_the_recharge_currency:pPe,_Please_enter_the_recharge_amount:gPe,_Please_select:mPe,_Current_address_balance:bPe,_Select:EPe,_Insufficient_balance:yPe,_Recharge_successful:wPe,_Recharge_failed:vPe,_Please_select_the_currency_to_withdraw:_Pe,_Please_enter_the_withdrawal_amount:APe,_Withdrawal_initiated_successfully:NPe,_Failed_to_initiate_a_withdrawal:xPe,_Invite_plan:IPe,_Invite_desc:SPe,_Invite_address:RPe,_Invite_link:TPe,_Invite_records:CPe,_My_community:OPe,_Smart_Pool:PPe,_launch:UPe,_hall:MPe,_Level:DPe,_Vip_level:kPe,_Node_level:LPe,_Level_manage:FPe,_None:$Pe,_Vip_manage:BPe,_Community_performance:GPe,_Renewal:jPe,_Node_manage:zPe,_Number_of_small_nodes:WPe,_Number_of_valid_users:HPe,_Node_NFT_Staking:qPe,_Node_NFT_Unstaking:VPe,_Stake:KPe,_Please_select_the_nft:JPe,_Stake_failed:XPe,_Stake_successful:YPe,_Unstake:ZPe,_Unstake_successful:QPe,_Unstake_failed:e4e,_Need_USDT_amount:t4e,_Cast_nav:r4e,_Amount_that_can_be_minted:n4e,_Amount_to_be_minted:i4e,_Please_enter_the_casting_amount:s4e,_Insufficient_AUSDT_balance:o4e,_Success:a4e,_Fail:c4e,_Status:f4e,_Trading:l4e,_Completed:u4e,_Cast_history:h4e,_Block_cast:d4e,_Whitelist_transfer:p4e,_Whitelisted_Credential_Balance:g4e,_Insufficient_voucher_balance:m4e,_Insufficient_USDT_balance:b4e,_Transfer_whitelist_address:E4e,_Please_enter_the_transfer_whitelist_address:y4e,_Transfer_amount:w4e,_Please_enter_the_transfer_amount:v4e,_Transfer_history:_4e,_Current_reward:A4e,_Please_enter_a_referee:N4e,_Inviter:x4e,_Please_enter_the_inviter_address:I4e,_Buy_node:S4e,_Community_details:R4e,_Performance:T4e,_Validity:C4e,_Notice_list:O4e,_Notice_detail:P4e,_Please_select_NFT:U4e,_Start_up:M4e,_Feedback:D4e,_Feedback_title:k4e,_Feedback_content:L4e,_Upload_img:F4e,_Please_input_title:$4e,_Please_input_content:B4e,_Feedback_detail:G4e,_Reply:j4e,_Unstaking_NFT_fees:z4e,_Update:W4e,_Order_record:H4e,_Hosting:q4e,_Out:V4e,_Block:K4e,_Id:J4e,_Reward_record:X4e,_Host_balance_:Y4e,_Whitelist_balance:Z4e,_Rank:Q4e,_Address:e9e,_New_achievements:t9e,_New_achievements_rank:r9e,_Select_payment_method:n9e,_Fee:i9e,_Fee_less_than_min:s9e,_Need_Min_amount:o9e,_Min_balance:a9e,_Number_of_bonuses_received:c9e,_Number_of_bonuses_available:f9e,_Please_enter_the_swap_amount:l9e,_Swap_successful:u9e,_Swap_failed:h9e,_Node_dividends:d9e,_Receive:p9e},m9e="Big node",b9e="Small node",E9e="Connect wallet",y9e="Approve",w9e="Ido",v9e="Total",_9e="Ido price",A9e="Ido number",N9e="Card rules",x9e="288 NFTs for a big node, 2% trading fee for dividends, 40% weighted dividends, 60% performance dividends (must recommend 10 small nodes to be qualified)",I9e="2880 small nodes, 5% transaction fee, 40% weighted dividend, 60% performance dividend (recommended 10 valid accounts with 20 USDT to be qualified)",S9e="Completed ido",R9e="Enter intro",T9e="USDT balance is insufficient",C9e="Ido success",O9e="Ido fail",P9e="My invitation link",U9e="Copy link",M9e="Copy successful",D9e="Copy failed, please long press to copy manually",k9e="Sign login",L9e="Token allocation",F9e="Total amount to be cast",$9e="Total amount destroyed",B9e="Token",G9e="Cast",j9e="To be cast",z9e="Ai hosting",W9e="Explosive block casting",H9e="Cast now",q9e="Deposit now",V9e="Mint",K9e="Current deposit",J9e="Community resonance",X9e="Progress rate",Y9e="Current amount",Z9e="Join resonance",Q9e="Minting pool",eUe="Join mint",tUe="Deposit",rUe="Take out",nUe="Home",iUe="Swap",sUe="Assets",oUe="More",aUe="Info",cUe="To participate in the minting of MIN128 coins, you only need to use AI hosting. The contract will automatically execute community resonance and minting pool to obtain MIN128 coins!",fUe="Access records",lUe="Please enter quantity",uUe="Amount that can be deposited",hUe="Sure",dUe="Available quantity",pUe="Total assets converted",gUe="Recharge",mUe="Withdraw",bUe="Details",EUe="Transaction history",yUe="User address",wUe="Time",vUe="Description",_Ue="No more",AUe="Reload",NUe="Amount",xUe="Please select the recharge currency",IUe="Please enter the recharge amount",SUe="Please select",RUe="Current address balance",TUe="Select",CUe="Insufficient balance",OUe="Recharge successful",PUe="Recharge failed",UUe="Please select the currency to withdraw",MUe="Please enter the withdrawal amount",DUe="Withdrawal initiated successfully",kUe="Failed to initiate a withdrawal",LUe="Invite_plan",FUe="You can get massive MIN token minting rights by inviting friends",$Ue="Invite address",BUe="Invite link",GUe="Invite records",jUe="My community",zUe="Smart Pool",WUe="launch",HUe="hall",qUe="Level",VUe="Vip level",KUe="Node level",JUe="Level manage",XUe="None",YUe="Vip manage",ZUe="Community performance",QUe="Renewal",eMe="Node manage",tMe="Number of nodes",rMe="Number of valid users",nMe="Node NFT Staking",iMe="Node NFT Unstaking",sMe="Stake",oMe="Please select the nft",aMe="Stake successful",cMe="Stake failed",fMe="Unstake",lMe="Unstake successful",uMe="Unstake failed",hMe="Need USDT amount",dMe="Cast",pMe="Amount that can be minted",gMe="Amount to be minted",mMe="Please enter the casting amount",bMe="Insufficient AUSDT balance",EMe="Success",yMe="Fail",wMe="Status",vMe="Trading",_Me="Completed",AMe="Cast_history",NMe="Block cast",xMe="Whitelist transfer",IMe="Whitelisted Credential Balance",SMe="Insufficient voucher balance",RMe="Insufficient USDT balance",TMe="Transfer whitelist address",CMe="Please enter the transfer whitelist address",OMe="Transfer amount",PMe="Please enter the transfer amount",UMe="Transfer history",MMe="Current reward",DMe="Please enter a referee",kMe="Inviter",LMe="Please enter the inviter's address",FMe="Buy node",$Me="Community details",BMe="Performance",GMe="Validity",jMe="Notice list",zMe="Notice detail",WMe="Please select NFT",HMe="Start up",qMe="Feedback title",VMe="Feedback",KMe="Feedback content",JMe="Upload img",XMe="Please input title",YMe="Please input content",ZMe="Feedback detail",QMe="Reply",e7e="Unstaking NFT fees",t7e="Update",r7e="Order record",n7e="Hosting",i7e="Out",s7e="Block",o7e="Id",a7e="Reward record",c7e="Host balance",f7e="Whitelist balance",l7e="Rank",u7e="Address",h7e="New achievements",d7e="New achievements rank",p7e="Select payment method",g7e="Fee",m7e="Fee less than {num} MIN",b7e="Need min amount",E7e="MIN balance",y7e="Number of bonuses received",w7e="Number of bonuses available",v7e="Please enter the swap amount",_7e="Swap successful",A7e="Swap failed",N7e="Node dividends",x7e="Receive",I7e={_Big_node:m9e,_Small_node:b9e,_Connect_wallet:E9e,_Approve:y9e,_Ido:w9e,_Total:v9e,_Ido_price:_9e,_Ido_number:A9e,_Card_rules:N9e,_Big_rule:x9e,_Small_rule:I9e,_Completed_ido:S9e,_Enter_intro:R9e,_USDT_insufficient:T9e,_Ido_success:C9e,_Ido_fail:O9e,_My_invitation_link:P9e,_Copy_link:U9e,_Copy_successful:M9e,_Copy_failed:D9e,_Sign_login:k9e,_Token_allocation:L9e,_Total_amount_to_be_cast:F9e,_Total_amount_destroyed:$9e,_Token:B9e,_Cast:G9e,_To_be_cast:j9e,_Ai_Hosting:z9e,_Explosive_Block_Casting:W9e,_Cast_now:H9e,_Deposit_now:q9e,_Mint:V9e,_Current_deposit:K9e,_Community_resonance:J9e,_Progress_rate:X9e,_Current_amount:Y9e,_Join_resonance:Z9e,_Minting_pool:Q9e,_Join_mint:eUe,_Deposit:tUe,_Take_out:rUe,_Home:nUe,_Swap:iUe,_Assets:sUe,_More:oUe,_Info:aUe,_Info_desc:cUe,_Access_records:fUe,_Please_enter_quantity:lUe,_Amount_that_can_be_deposited:uUe,_Sure:hUe,_Available_quantity:dUe,_Total_assets_converted:pUe,_Recharge:gUe,_Withdraw:mUe,_Details:bUe,_Transaction_history:EUe,_User_address:yUe,_Time:wUe,_Description:vUe,_No_more:_Ue,_Reload:AUe,_Amount:NUe,_Please_select_the_recharge_currency:xUe,_Please_enter_the_recharge_amount:IUe,_Please_select:SUe,_Current_address_balance:RUe,_Select:TUe,_Insufficient_balance:CUe,_Recharge_successful:OUe,_Recharge_failed:PUe,_Please_select_the_currency_to_withdraw:UUe,_Please_enter_the_withdrawal_amount:MUe,_Withdrawal_initiated_successfully:DUe,_Failed_to_initiate_a_withdrawal:kUe,_Invite_plan:LUe,_Invite_desc:FUe,_Invite_address:$Ue,_Invite_link:BUe,_Invite_records:GUe,_My_community:jUe,_Smart_Pool:zUe,_launch:WUe,_hall:HUe,_Level:qUe,_Vip_level:VUe,_Node_level:KUe,_Level_manage:JUe,_None:XUe,_Vip_manage:YUe,_Community_performance:ZUe,_Renewal:QUe,_Node_manage:eMe,_Number_of_small_nodes:tMe,_Number_of_valid_users:rMe,_Node_NFT_Staking:nMe,_Node_NFT_Unstaking:iMe,_Stake:sMe,_Please_select_the_nft:oMe,_Stake_successful:aMe,_Stake_failed:cMe,_Unstake:fMe,_Unstake_successful:lMe,_Unstake_failed:uMe,_Need_USDT_amount:hMe,_Cast_nav:dMe,_Amount_that_can_be_minted:pMe,_Amount_to_be_minted:gMe,_Please_enter_the_casting_amount:mMe,_Insufficient_AUSDT_balance:bMe,_Success:EMe,_Fail:yMe,_Status:wMe,_Trading:vMe,_Completed:_Me,_Cast_history:AMe,_Block_cast:NMe,_Whitelist_transfer:xMe,_Whitelisted_Credential_Balance:IMe,_Insufficient_voucher_balance:SMe,_Insufficient_USDT_balance:RMe,_Transfer_whitelist_address:TMe,_Please_enter_the_transfer_whitelist_address:CMe,_Transfer_amount:OMe,_Please_enter_the_transfer_amount:PMe,_Transfer_history:UMe,_Current_reward:MMe,_Please_enter_a_referee:DMe,_Inviter:kMe,_Please_enter_the_inviter_address:LMe,_Buy_node:FMe,_Community_details:$Me,_Performance:BMe,_Validity:GMe,_Notice_list:jMe,_Notice_detail:zMe,_Please_select_NFT:WMe,_Start_up:HMe,_Feedback_title:qMe,_Feedback:VMe,_Feedback_content:KMe,_Upload_img:JMe,_Please_input_title:XMe,_Please_input_content:YMe,_Feedback_detail:ZMe,_Reply:QMe,_Unstaking_NFT_fees:e7e,_Update:t7e,_Order_record:r7e,_Hosting:n7e,_Out:i7e,_Block:s7e,_Id:o7e,_Reward_record:a7e,_Host_balance_:c7e,_Whitelist_balance:f7e,_Rank:l7e,_Address:u7e,_New_achievements:h7e,_New_achievements_rank:d7e,_Select_payment_method:p7e,_Fee:g7e,_Fee_less_than_min:m7e,_Need_Min_amount:b7e,_Min_balance:E7e,_Number_of_bonuses_received:y7e,_Number_of_bonuses_available:w7e,_Please_enter_the_swap_amount:v7e,_Swap_successful:_7e,_Swap_failed:A7e,_Node_dividends:N7e,_Receive:x7e};var c5=Object.defineProperty,S7e=Object.getOwnPropertyDescriptor,R7e=Object.getOwnPropertyNames,T7e=Object.prototype.hasOwnProperty,C7e=(t,e)=>{for(var r in e)c5(t,r,{get:e[r],enumerable:!0})},O7e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of R7e(e))!T7e.call(t,i)&&i!==r&&c5(t,i,{get:()=>e[i],enumerable:!(n=S7e(e,i))||n.enumerable});return t},P7e=t=>O7e(c5({},"__esModule",{value:!0}),t),tK={};C7e(tK,{default:()=>M7e});var U7e=P7e(tK),M7e={name:"姓名",tel:"電話",save:"儲存",clear:"清空",cancel:"取消",confirm:"確認",delete:"刪除",loading:"載入中...",noCoupon:"暫無優惠券",nameEmpty:"請填寫姓名",addContact:"建立聯絡人",telInvalid:"請填寫正確的電話",vanCalendar:{end:"結束",start:"開始",title:"日期選擇",weekdays:["日","一","二","三","四","五","六"],monthTitle:(t,e)=>`${t}年${e}月`,rangePrompt:t=>`最多選擇 ${t} 天`},vanCascader:{select:"請選擇"},vanPagination:{prev:"上一頁",next:"下一頁"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"釋放即可刷新..."},vanSubmitBar:{label:"合計:"},vanCoupon:{unlimited:"無門檻",discount:t=>`${t}折`,condition:t=>`滿${t}元可用`},vanCouponCell:{title:"優惠券",count:t=>`${t}張可用`},vanCouponList:{exchange:"兌換",close:"不使用",enable:"可使用優惠券",disabled:"不可使用優惠券",placeholder:"輸入優惠代碼"},vanAddressEdit:{area:"地區",areaEmpty:"請選擇地區",addressEmpty:"請填寫詳細地址",addressDetail:"詳細地址",defaultAddress:"設為預設收貨地址"},vanAddressList:{add:"新增地址"}};const D7e=va(U7e);var f5=Object.defineProperty,k7e=Object.getOwnPropertyDescriptor,L7e=Object.getOwnPropertyNames,F7e=Object.prototype.hasOwnProperty,$7e=(t,e)=>{for(var r in e)f5(t,r,{get:e[r],enumerable:!0})},B7e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of L7e(e))!F7e.call(t,i)&&i!==r&&f5(t,i,{get:()=>e[i],enumerable:!(n=k7e(e,i))||n.enumerable});return t},G7e=t=>B7e(f5({},"__esModule",{value:!0}),t),rK={};$7e(rK,{default:()=>z7e});var j7e=G7e(rK),z7e={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Choose no more than ${t} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:t=>`${t*10}% off`,condition:t=>`At least ${t}`},vanCouponCell:{title:"Coupon",count:t=>`You have ${t} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const W7e=va(j7e);function H7e(t){switch(t){case"cn":G3.use("zh-CN",D7e);break;case"en":G3.use("en-US",W7e);break}}function q7e(t){H7e(t)}const tT=$8e({legacy:!1,locale:"cn",fallbackLocale:"cn",globalInjection:!0,messages:{cn:{...g9e},en:{...I7e}}}),V7e=t=>{console.log(tT,"i18n"),q7e(t),tT.global.locale.value=t},K7e={class:"flex-middle"},J7e=ys({__name:"Header",props:{title:{default:"MIN"},isShowBack:{type:Boolean,default:!0}},setup(t){const e=t;pN();const r=iOe();console.log(r.locale,"languageStore"),pCe();const n=Pz({namespace:"eip155"});wi(n,(o,a)=>{console.log("钱包地址变化:",o)});const i=()=>{const{open:o}=QEe();o()};return(()=>{V7e("cn"),r.$patch({locale:"cn"})})(),(o,a)=>{const c=w6e,f=J6e;return Ff(),I1(f,{title:e.title,fixed:!0,"left-text":""},{left:Rm(()=>[e.isShowBack?(Ff(),dp("img",{key:0,class:"back",src:X6e,onClick:a[0]||(a[0]=(...l)=>o.$goBack&&o.$goBack(...l)),alt:""})):(Ff(),dp("img",{key:1,class:"logo",src:Y6e,onClick:a[1]||(a[1]=(...l)=>o.$goBack&&o.$goBack(...l)),alt:""}))]),right:Rm(()=>[$r("div",K7e,[no(n).isConnected?(Ff(),I1(c,{key:1,round:"",plain:"",type:"success",onClick:i,size:"small"},{default:Rm(()=>{var l,u;return[dS(Ap(((l=no(n).address)==null?void 0:l.substring(0,4))+"..."+((u=no(n).address)==null?void 0:u.substring(no(n).address.length-4,no(n).address.length))),1)]}),_:1})):(Ff(),I1(c,{key:0,round:"",plain:"",type:"success",onClick:i,size:"small"},{default:Rm(()=>[dS(Ap(o.$t("_Connect_wallet")),1)]),_:1}))])]),_:1},8,["title"])}}});const nK=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},X7e=nK(J7e,[["__scopeId","data-v-96907e65"]]);var iK={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(t,e){(function(n,i){t.exports=i()})(yn,function(){return function(){var r={686:function(s,o,a){a.d(o,{default:function(){return A}});var c=a(279),f=a.n(c),l=a(370),u=a.n(l),h=a(817),g=a.n(h);function m(_){try{return document.execCommand(_)}catch{return!1}}var w=function(D){var G=g()(D);return m("cut"),G},N=w;function I(_){var D=document.documentElement.getAttribute("dir")==="rtl",G=document.createElement("textarea");G.style.fontSize="12pt",G.style.border="0",G.style.padding="0",G.style.margin="0",G.style.position="absolute",G.style[D?"right":"left"]="-9999px";var T=window.pageYOffset||document.documentElement.scrollTop;return G.style.top="".concat(T,"px"),G.setAttribute("readonly",""),G.value=_,G}var C=function(D,G){var T=I(D);G.container.appendChild(T);var z=g()(T);return m("copy"),T.remove(),z},M=function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},T="";return typeof D=="string"?T=C(D,G):D instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(D==null?void 0:D.type)?T=C(D.value,G):(T=g()(D),m("copy")),T},k=M;function L(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(G){return typeof G}:L=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},L(_)}var $=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=D.action,T=G===void 0?"copy":G,z=D.container,j=D.target,X=D.text;if(T!=="copy"&&T!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(j!==void 0)if(j&&L(j)==="object"&&j.nodeType===1){if(T==="copy"&&j.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(T==="cut"&&(j.hasAttribute("readonly")||j.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(X)return k(X,{container:z});if(j)return T==="cut"?N(j):k(j,{container:z})},V=$;function P(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(G){return typeof G}:P=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},P(_)}function O(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}function F(_,D){for(var G=0;G<D.length;G++){var T=D[G];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}function U(_,D,G){return D&&F(_.prototype,D),G&&F(_,G),_}function b(_,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(D&&D.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),D&&y(_,D)}function y(_,D){return y=Object.setPrototypeOf||function(T,z){return T.__proto__=z,T},y(_,D)}function d(_){var D=x();return function(){var T=R(_),z;if(D){var j=R(this).constructor;z=Reflect.construct(T,arguments,j)}else z=T.apply(this,arguments);return p(this,z)}}function p(_,D){return D&&(P(D)==="object"||typeof D=="function")?D:E(_)}function E(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(_){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)},R(_)}function S(_,D){var G="data-clipboard-".concat(_);if(D.hasAttribute(G))return D.getAttribute(G)}var v=function(_){b(G,_);var D=d(G);function G(T,z){var j;return O(this,G),j=D.call(this),j.resolveOptions(z),j.listenClick(T),j}return U(G,[{key:"resolveOptions",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof z.action=="function"?z.action:this.defaultAction,this.target=typeof z.target=="function"?z.target:this.defaultTarget,this.text=typeof z.text=="function"?z.text:this.defaultText,this.container=P(z.container)==="object"?z.container:document.body}},{key:"listenClick",value:function(z){var j=this;this.listener=u()(z,"click",function(X){return j.onClick(X)})}},{key:"onClick",value:function(z){var j=z.delegateTarget||z.currentTarget,X=this.action(j)||"copy",Y=V({action:X,container:this.container,target:this.target(j),text:this.text(j)});this.emit(Y?"success":"error",{action:X,text:Y,trigger:j,clearSelection:function(){j&&j.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(z){return S("action",z)}},{key:"defaultTarget",value:function(z){var j=S("target",z);if(j)return document.querySelector(j)}},{key:"defaultText",value:function(z){return S("text",z)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(z){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return k(z,j)}},{key:"cut",value:function(z){return N(z)}},{key:"isSupported",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],j=typeof z=="string"?[z]:z,X=!!document.queryCommandSupported;return j.forEach(function(Y){X=X&&!!document.queryCommandSupported(Y)}),X}}]),G}(f()),A=v},828:function(s){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function c(f,l){for(;f&&f.nodeType!==o;){if(typeof f.matches=="function"&&f.matches(l))return f;f=f.parentNode}}s.exports=c},438:function(s,o,a){var c=a(828);function f(h,g,m,w,N){var I=u.apply(this,arguments);return h.addEventListener(m,I,N),{destroy:function(){h.removeEventListener(m,I,N)}}}function l(h,g,m,w,N){return typeof h.addEventListener=="function"?f.apply(null,arguments):typeof m=="function"?f.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(I){return f(I,g,m,w,N)}))}function u(h,g,m,w){return function(N){N.delegateTarget=c(N.target,g),N.delegateTarget&&w.call(h,N)}}s.exports=l},879:function(s,o){o.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},o.nodeList=function(a){var c=Object.prototype.toString.call(a);return a!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in a&&(a.length===0||o.node(a[0]))},o.string=function(a){return typeof a=="string"||a instanceof String},o.fn=function(a){var c=Object.prototype.toString.call(a);return c==="[object Function]"}},370:function(s,o,a){var c=a(879),f=a(438);function l(m,w,N){if(!m&&!w&&!N)throw new Error("Missing required arguments");if(!c.string(w))throw new TypeError("Second argument must be a String");if(!c.fn(N))throw new TypeError("Third argument must be a Function");if(c.node(m))return u(m,w,N);if(c.nodeList(m))return h(m,w,N);if(c.string(m))return g(m,w,N);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function u(m,w,N){return m.addEventListener(w,N),{destroy:function(){m.removeEventListener(w,N)}}}function h(m,w,N){return Array.prototype.forEach.call(m,function(I){I.addEventListener(w,N)}),{destroy:function(){Array.prototype.forEach.call(m,function(I){I.removeEventListener(w,N)})}}}function g(m,w,N){return f(document.body,m,w,N)}s.exports=l},817:function(s){function o(a){var c;if(a.nodeName==="SELECT")a.focus(),c=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var f=a.hasAttribute("readonly");f||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),f||a.removeAttribute("readonly"),c=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var l=window.getSelection(),u=document.createRange();u.selectNodeContents(a),l.removeAllRanges(),l.addRange(u),c=l.toString()}return c}s.exports=o},279:function(s){function o(){}o.prototype={on:function(a,c,f){var l=this.e||(this.e={});return(l[a]||(l[a]=[])).push({fn:c,ctx:f}),this},once:function(a,c,f){var l=this;function u(){l.off(a,u),c.apply(f,arguments)}return u._=c,this.on(a,u,f)},emit:function(a){var c=[].slice.call(arguments,1),f=((this.e||(this.e={}))[a]||[]).slice(),l=0,u=f.length;for(l;l<u;l++)f[l].fn.apply(f[l].ctx,c);return this},off:function(a,c){var f=this.e||(this.e={}),l=f[a],u=[];if(l&&c)for(var h=0,g=l.length;h<g;h++)l[h].fn!==c&&l[h].fn._!==c&&u.push(l[h]);return u.length?f[a]=u:delete f[a],this}},s.exports=o,s.exports.TinyEmitter=o}},n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return r[s](o,o.exports,i),o.exports}return function(){i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,{a:o}),o}}(),function(){i.d=function(s,o){for(var a in o)i.o(o,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}}(),function(){i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)}}(),i(686)}().default})})(iK);var Y7e=iK.exports;const Z7e=va(Y7e);var Q7e=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,XI=Math.ceil,ta=Math.floor,Zs="[BigNumber Error] ",AF=Zs+"Number primitive has more than 15 significant digits: ",ja=1e14,ct=14,YI=9007199254740991,ZI=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Tu=1e7,xi=1e9;function sK(t){var e,r,n,i=C.prototype={constructor:C,toString:null,valueOf:null},s=new C(1),o=20,a=4,c=-7,f=21,l=-1e7,u=1e7,h=!1,g=1,m=0,w={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz",I=!0;function C(P,O){var F,U,b,y,d,p,E,x,R=this;if(!(R instanceof C))return new C(P,O);if(O==null){if(P&&P._isBigNumber===!0){R.s=P.s,!P.c||P.e>u?R.c=R.e=null:P.e<l?R.c=[R.e=0]:(R.e=P.e,R.c=P.c.slice());return}if((p=typeof P=="number")&&P*0==0){if(R.s=1/P<0?(P=-P,-1):1,P===~~P){for(y=0,d=P;d>=10;d/=10,y++);y>u?R.c=R.e=null:(R.e=y,R.c=[P]);return}x=String(P)}else{if(!Q7e.test(x=String(P)))return n(R,x,p);R.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(y=x.indexOf("."))>-1&&(x=x.replace(".","")),(d=x.search(/e/i))>0?(y<0&&(y=d),y+=+x.slice(d+1),x=x.substring(0,d)):y<0&&(y=x.length)}else{if(Hr(O,2,N.length,"Base"),O==10&&I)return R=new C(P),$(R,o+R.e+1,a);if(x=String(P),p=typeof P=="number"){if(P*0!=0)return n(R,x,p,O);if(R.s=1/P<0?(x=x.slice(1),-1):1,C.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(AF+P)}else R.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(F=N.slice(0,O),y=d=0,E=x.length;d<E;d++)if(F.indexOf(U=x.charAt(d))<0){if(U=="."){if(d>y){y=E;continue}}else if(!b&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){b=!0,d=-1,y=0;continue}return n(R,String(P),p,O)}p=!1,x=r(x,O,10,R.s),(y=x.indexOf("."))>-1?x=x.replace(".",""):y=x.length}for(d=0;x.charCodeAt(d)===48;d++);for(E=x.length;x.charCodeAt(--E)===48;);if(x=x.slice(d,++E)){if(E-=d,p&&C.DEBUG&&E>15&&(P>YI||P!==ta(P)))throw Error(AF+R.s*P);if((y=y-d-1)>u)R.c=R.e=null;else if(y<l)R.c=[R.e=0];else{if(R.e=y,R.c=[],d=(y+1)%ct,y<0&&(d+=ct),d<E){for(d&&R.c.push(+x.slice(0,d)),E-=ct;d<E;)R.c.push(+x.slice(d,d+=ct));d=ct-(x=x.slice(d)).length}else d-=E;for(;d--;x+="0");R.c.push(+x)}}else R.c=[R.e=0]}C.clone=sK,C.ROUND_UP=0,C.ROUND_DOWN=1,C.ROUND_CEIL=2,C.ROUND_FLOOR=3,C.ROUND_HALF_UP=4,C.ROUND_HALF_DOWN=5,C.ROUND_HALF_EVEN=6,C.ROUND_HALF_CEIL=7,C.ROUND_HALF_FLOOR=8,C.EUCLID=9,C.config=C.set=function(P){var O,F;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(O="DECIMAL_PLACES")&&(F=P[O],Hr(F,0,xi,O),o=F),P.hasOwnProperty(O="ROUNDING_MODE")&&(F=P[O],Hr(F,0,8,O),a=F),P.hasOwnProperty(O="EXPONENTIAL_AT")&&(F=P[O],F&&F.pop?(Hr(F[0],-xi,0,O),Hr(F[1],0,xi,O),c=F[0],f=F[1]):(Hr(F,-xi,xi,O),c=-(f=F<0?-F:F))),P.hasOwnProperty(O="RANGE"))if(F=P[O],F&&F.pop)Hr(F[0],-xi,-1,O),Hr(F[1],1,xi,O),l=F[0],u=F[1];else if(Hr(F,-xi,xi,O),F)l=-(u=F<0?-F:F);else throw Error(Zs+O+" cannot be zero: "+F);if(P.hasOwnProperty(O="CRYPTO"))if(F=P[O],F===!!F)if(F)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=F;else throw h=!F,Error(Zs+"crypto unavailable");else h=F;else throw Error(Zs+O+" not true or false: "+F);if(P.hasOwnProperty(O="MODULO_MODE")&&(F=P[O],Hr(F,0,9,O),g=F),P.hasOwnProperty(O="POW_PRECISION")&&(F=P[O],Hr(F,0,xi,O),m=F),P.hasOwnProperty(O="FORMAT"))if(F=P[O],typeof F=="object")w=F;else throw Error(Zs+O+" not an object: "+F);if(P.hasOwnProperty(O="ALPHABET"))if(F=P[O],typeof F=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(F))I=F.slice(0,10)=="0123456789",N=F;else throw Error(Zs+O+" invalid: "+F)}else throw Error(Zs+"Object expected: "+P);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,f],RANGE:[l,u],CRYPTO:h,MODULO_MODE:g,POW_PRECISION:m,FORMAT:w,ALPHABET:N}},C.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!C.DEBUG)return!0;var O,F,U=P.c,b=P.e,y=P.s;e:if({}.toString.call(U)=="[object Array]"){if((y===1||y===-1)&&b>=-xi&&b<=xi&&b===ta(b)){if(U[0]===0){if(b===0&&U.length===1)return!0;break e}if(O=(b+1)%ct,O<1&&(O+=ct),String(U[0]).length==O){for(O=0;O<U.length;O++)if(F=U[O],F<0||F>=ja||F!==ta(F))break e;if(F!==0)return!0}}}else if(U===null&&b===null&&(y===null||y===1||y===-1))return!0;throw Error(Zs+"Invalid BigNumber: "+P)},C.maximum=C.max=function(){return k(arguments,-1)},C.minimum=C.min=function(){return k(arguments,1)},C.random=function(){var P=9007199254740992,O=Math.random()*P&2097151?function(){return ta(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(F){var U,b,y,d,p,E=0,x=[],R=new C(s);if(F==null?F=o:Hr(F,0,xi),d=XI(F/ct),h)if(crypto.getRandomValues){for(U=crypto.getRandomValues(new Uint32Array(d*=2));E<d;)p=U[E]*131072+(U[E+1]>>>11),p>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),U[E]=b[0],U[E+1]=b[1]):(x.push(p%1e14),E+=2);E=d/2}else if(crypto.randomBytes){for(U=crypto.randomBytes(d*=7);E<d;)p=(U[E]&31)*281474976710656+U[E+1]*1099511627776+U[E+2]*4294967296+U[E+3]*16777216+(U[E+4]<<16)+(U[E+5]<<8)+U[E+6],p>=9e15?crypto.randomBytes(7).copy(U,E):(x.push(p%1e14),E+=7);E=d/7}else throw h=!1,Error(Zs+"crypto unavailable");if(!h)for(;E<d;)p=O(),p<9e15&&(x[E++]=p%1e14);for(d=x[--E],F%=ct,d&&F&&(p=ZI[ct-F],x[E]=ta(d/p)*p);x[E]===0;x.pop(),E--);if(E<0)x=[y=0];else{for(y=-1;x[0]===0;x.splice(0,1),y-=ct);for(E=1,p=x[0];p>=10;p/=10,E++);E<ct&&(y-=ct-E)}return R.e=y,R.c=x,R}}(),C.sum=function(){for(var P=1,O=arguments,F=new C(O[0]);P<O.length;)F=F.plus(O[P++]);return F},r=function(){var P="0123456789";function O(F,U,b,y){for(var d,p=[0],E,x=0,R=F.length;x<R;){for(E=p.length;E--;p[E]*=U);for(p[0]+=y.indexOf(F.charAt(x++)),d=0;d<p.length;d++)p[d]>b-1&&(p[d+1]==null&&(p[d+1]=0),p[d+1]+=p[d]/b|0,p[d]%=b)}return p.reverse()}return function(F,U,b,y,d){var p,E,x,R,S,v,A,_,D=F.indexOf("."),G=o,T=a;for(D>=0&&(R=m,m=0,F=F.replace(".",""),_=new C(U),v=_.pow(F.length-D),m=R,_.c=O(Sl(Zo(v.c),v.e,"0"),10,b,P),_.e=_.c.length),A=O(F,U,b,d?(p=N,P):(p=P,N)),x=R=A.length;A[--R]==0;A.pop());if(!A[0])return p.charAt(0);if(D<0?--x:(v.c=A,v.e=x,v.s=y,v=e(v,_,G,T,b),A=v.c,S=v.r,x=v.e),E=x+G+1,D=A[E],R=b/2,S=S||E<0||A[E+1]!=null,S=T<4?(D!=null||S)&&(T==0||T==(v.s<0?3:2)):D>R||D==R&&(T==4||S||T==6&&A[E-1]&1||T==(v.s<0?8:7)),E<1||!A[0])F=S?Sl(p.charAt(1),-G,p.charAt(0)):p.charAt(0);else{if(A.length=E,S)for(--b;++A[--E]>b;)A[E]=0,E||(++x,A=[1].concat(A));for(R=A.length;!A[--R];);for(D=0,F="";D<=R;F+=p.charAt(A[D++]));F=Sl(F,x,p.charAt(0))}return F}}(),e=function(){function P(U,b,y){var d,p,E,x,R=0,S=U.length,v=b%Tu,A=b/Tu|0;for(U=U.slice();S--;)E=U[S]%Tu,x=U[S]/Tu|0,d=A*E+x*v,p=v*E+d%Tu*Tu+R,R=(p/y|0)+(d/Tu|0)+A*x,U[S]=p%y;return R&&(U=[R].concat(U)),U}function O(U,b,y,d){var p,E;if(y!=d)E=y>d?1:-1;else for(p=E=0;p<y;p++)if(U[p]!=b[p]){E=U[p]>b[p]?1:-1;break}return E}function F(U,b,y,d){for(var p=0;y--;)U[y]-=p,p=U[y]<b[y]?1:0,U[y]=p*d+U[y]-b[y];for(;!U[0]&&U.length>1;U.splice(0,1));}return function(U,b,y,d,p){var E,x,R,S,v,A,_,D,G,T,z,j,X,Y,ne,ce,le,q=U.s==b.s?1:-1,B=U.c,J=b.c;if(!B||!B[0]||!J||!J[0])return new C(!U.s||!b.s||(B?J&&B[0]==J[0]:!J)?NaN:B&&B[0]==0||!J?q*0:q/0);for(D=new C(q),G=D.c=[],x=U.e-b.e,q=y+x+1,p||(p=ja,x=ra(U.e/ct)-ra(b.e/ct),q=q/ct|0),R=0;J[R]==(B[R]||0);R++);if(J[R]>(B[R]||0)&&x--,q<0)G.push(1),S=!0;else{for(Y=B.length,ce=J.length,R=0,q+=2,v=ta(p/(J[0]+1)),v>1&&(J=P(J,v,p),B=P(B,v,p),ce=J.length,Y=B.length),X=ce,T=B.slice(0,ce),z=T.length;z<ce;T[z++]=0);le=J.slice(),le=[0].concat(le),ne=J[0],J[1]>=p/2&&ne++;do{if(v=0,E=O(J,T,ce,z),E<0){if(j=T[0],ce!=z&&(j=j*p+(T[1]||0)),v=ta(j/ne),v>1)for(v>=p&&(v=p-1),A=P(J,v,p),_=A.length,z=T.length;O(A,T,_,z)==1;)v--,F(A,ce<_?le:J,_,p),_=A.length,E=1;else v==0&&(E=v=1),A=J.slice(),_=A.length;if(_<z&&(A=[0].concat(A)),F(T,A,z,p),z=T.length,E==-1)for(;O(J,T,ce,z)<1;)v++,F(T,ce<z?le:J,z,p),z=T.length}else E===0&&(v++,T=[0]);G[R++]=v,T[0]?T[z++]=B[X]||0:(T=[B[X]],z=1)}while((X++<Y||T[0]!=null)&&q--);S=T[0]!=null,G[0]||G.splice(0,1)}if(p==ja){for(R=1,q=G[0];q>=10;q/=10,R++);$(D,y+(D.e=R+x*ct-1)+1,d,S)}else D.e=x,D.r=+S;return D}}();function M(P,O,F,U){var b,y,d,p,E;if(F==null?F=a:Hr(F,0,8),!P.c)return P.toString();if(b=P.c[0],d=P.e,O==null)E=Zo(P.c),E=U==1||U==2&&(d<=c||d>=f)?_1(E,d):Sl(E,d,"0");else if(P=$(new C(P),O,F),y=P.e,E=Zo(P.c),p=E.length,U==1||U==2&&(O<=y||y<=c)){for(;p<O;E+="0",p++);E=_1(E,y)}else if(O-=d,E=Sl(E,y,"0"),y+1>p){if(--O>0)for(E+=".";O--;E+="0");}else if(O+=y-p,O>0)for(y+1==p&&(E+=".");O--;E+="0");return P.s<0&&b?"-"+E:E}function k(P,O){for(var F,U,b=1,y=new C(P[0]);b<P.length;b++)U=new C(P[b]),(!U.s||(F=ad(y,U))===O||F===0&&y.s===O)&&(y=U);return y}function L(P,O,F){for(var U=1,b=O.length;!O[--b];O.pop());for(b=O[0];b>=10;b/=10,U++);return(F=U+F*ct-1)>u?P.c=P.e=null:F<l?P.c=[P.e=0]:(P.e=F,P.c=O),P}n=function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,F=/^\.([^.]+)$/,U=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(y,d,p,E){var x,R=p?d:d.replace(b,"");if(U.test(R))y.s=isNaN(R)?null:R<0?-1:1;else{if(!p&&(R=R.replace(P,function(S,v,A){return x=(A=A.toLowerCase())=="x"?16:A=="b"?2:8,!E||E==x?v:S}),E&&(x=E,R=R.replace(O,"$1").replace(F,"0.$1")),d!=R))return new C(R,x);if(C.DEBUG)throw Error(Zs+"Not a"+(E?" base "+E:"")+" number: "+d);y.s=null}y.c=y.e=null}}();function $(P,O,F,U){var b,y,d,p,E,x,R,S=P.c,v=ZI;if(S){e:{for(b=1,p=S[0];p>=10;p/=10,b++);if(y=O-b,y<0)y+=ct,d=O,E=S[x=0],R=ta(E/v[b-d-1]%10);else if(x=XI((y+1)/ct),x>=S.length)if(U){for(;S.length<=x;S.push(0));E=R=0,b=1,y%=ct,d=y-ct+1}else break e;else{for(E=p=S[x],b=1;p>=10;p/=10,b++);y%=ct,d=y-ct+b,R=d<0?0:ta(E/v[b-d-1]%10)}if(U=U||O<0||S[x+1]!=null||(d<0?E:E%v[b-d-1]),U=F<4?(R||U)&&(F==0||F==(P.s<0?3:2)):R>5||R==5&&(F==4||U||F==6&&(y>0?d>0?E/v[b-d]:0:S[x-1])%10&1||F==(P.s<0?8:7)),O<1||!S[0])return S.length=0,U?(O-=P.e+1,S[0]=v[(ct-O%ct)%ct],P.e=-O||0):S[0]=P.e=0,P;if(y==0?(S.length=x,p=1,x--):(S.length=x+1,p=v[ct-y],S[x]=d>0?ta(E/v[b-d]%v[d])*p:0),U)for(;;)if(x==0){for(y=1,d=S[0];d>=10;d/=10,y++);for(d=S[0]+=p,p=1;d>=10;d/=10,p++);y!=p&&(P.e++,S[0]==ja&&(S[0]=1));break}else{if(S[x]+=p,S[x]!=ja)break;S[x--]=0,p=1}for(y=S.length;S[--y]===0;S.pop());}P.e>u?P.c=P.e=null:P.e<l&&(P.c=[P.e=0])}return P}function V(P){var O,F=P.e;return F===null?P.toString():(O=Zo(P.c),O=F<=c||F>=f?_1(O,F):Sl(O,F,"0"),P.s<0?"-"+O:O)}return i.absoluteValue=i.abs=function(){var P=new C(this);return P.s<0&&(P.s=1),P},i.comparedTo=function(P,O){return ad(this,new C(P,O))},i.decimalPlaces=i.dp=function(P,O){var F,U,b,y=this;if(P!=null)return Hr(P,0,xi),O==null?O=a:Hr(O,0,8),$(new C(y),P+y.e+1,O);if(!(F=y.c))return null;if(U=((b=F.length-1)-ra(this.e/ct))*ct,b=F[b])for(;b%10==0;b/=10,U--);return U<0&&(U=0),U},i.dividedBy=i.div=function(P,O){return e(this,new C(P,O),o,a)},i.dividedToIntegerBy=i.idiv=function(P,O){return e(this,new C(P,O),0,1)},i.exponentiatedBy=i.pow=function(P,O){var F,U,b,y,d,p,E,x,R,S=this;if(P=new C(P),P.c&&!P.isInteger())throw Error(Zs+"Exponent not an integer: "+V(P));if(O!=null&&(O=new C(O)),p=P.e>14,!S.c||!S.c[0]||S.c[0]==1&&!S.e&&S.c.length==1||!P.c||!P.c[0])return R=new C(Math.pow(+V(S),p?P.s*(2-v1(P)):+V(P))),O?R.mod(O):R;if(E=P.s<0,O){if(O.c?!O.c[0]:!O.s)return new C(NaN);U=!E&&S.isInteger()&&O.isInteger(),U&&(S=S.mod(O))}else{if(P.e>9&&(S.e>0||S.e<-1||(S.e==0?S.c[0]>1||p&&S.c[1]>=24e7:S.c[0]<8e13||p&&S.c[0]<=9999975e7)))return y=S.s<0&&v1(P)?-0:0,S.e>-1&&(y=1/y),new C(E?1/y:y);m&&(y=XI(m/ct+2))}for(p?(F=new C(.5),E&&(P.s=1),x=v1(P)):(b=Math.abs(+V(P)),x=b%2),R=new C(s);;){if(x){if(R=R.times(S),!R.c)break;y?R.c.length>y&&(R.c.length=y):U&&(R=R.mod(O))}if(b){if(b=ta(b/2),b===0)break;x=b%2}else if(P=P.times(F),$(P,P.e+1,1),P.e>14)x=v1(P);else{if(b=+V(P),b===0)break;x=b%2}S=S.times(S),y?S.c&&S.c.length>y&&(S.c.length=y):U&&(S=S.mod(O))}return U?R:(E&&(R=s.div(R)),O?R.mod(O):y?$(R,m,a,d):R)},i.integerValue=function(P){var O=new C(this);return P==null?P=a:Hr(P,0,8),$(O,O.e+1,P)},i.isEqualTo=i.eq=function(P,O){return ad(this,new C(P,O))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(P,O){return ad(this,new C(P,O))>0},i.isGreaterThanOrEqualTo=i.gte=function(P,O){return(O=ad(this,new C(P,O)))===1||O===0},i.isInteger=function(){return!!this.c&&ra(this.e/ct)>this.c.length-2},i.isLessThan=i.lt=function(P,O){return ad(this,new C(P,O))<0},i.isLessThanOrEqualTo=i.lte=function(P,O){return(O=ad(this,new C(P,O)))===-1||O===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(P,O){var F,U,b,y,d=this,p=d.s;if(P=new C(P,O),O=P.s,!p||!O)return new C(NaN);if(p!=O)return P.s=-O,d.plus(P);var E=d.e/ct,x=P.e/ct,R=d.c,S=P.c;if(!E||!x){if(!R||!S)return R?(P.s=-O,P):new C(S?d:NaN);if(!R[0]||!S[0])return S[0]?(P.s=-O,P):new C(R[0]?d:a==3?-0:0)}if(E=ra(E),x=ra(x),R=R.slice(),p=E-x){for((y=p<0)?(p=-p,b=R):(x=E,b=S),b.reverse(),O=p;O--;b.push(0));b.reverse()}else for(U=(y=(p=R.length)<(O=S.length))?p:O,p=O=0;O<U;O++)if(R[O]!=S[O]){y=R[O]<S[O];break}if(y&&(b=R,R=S,S=b,P.s=-P.s),O=(U=S.length)-(F=R.length),O>0)for(;O--;R[F++]=0);for(O=ja-1;U>p;){if(R[--U]<S[U]){for(F=U;F&&!R[--F];R[F]=O);--R[F],R[U]+=ja}R[U]-=S[U]}for(;R[0]==0;R.splice(0,1),--x);return R[0]?L(P,R,x):(P.s=a==3?-1:1,P.c=[P.e=0],P)},i.modulo=i.mod=function(P,O){var F,U,b=this;return P=new C(P,O),!b.c||!P.s||P.c&&!P.c[0]?new C(NaN):!P.c||b.c&&!b.c[0]?new C(b):(g==9?(U=P.s,P.s=1,F=e(b,P,0,3),P.s=U,F.s*=U):F=e(b,P,0,g),P=b.minus(F.times(P)),!P.c[0]&&g==1&&(P.s=b.s),P)},i.multipliedBy=i.times=function(P,O){var F,U,b,y,d,p,E,x,R,S,v,A,_,D,G,T=this,z=T.c,j=(P=new C(P,O)).c;if(!z||!j||!z[0]||!j[0])return!T.s||!P.s||z&&!z[0]&&!j||j&&!j[0]&&!z?P.c=P.e=P.s=null:(P.s*=T.s,!z||!j?P.c=P.e=null:(P.c=[0],P.e=0)),P;for(U=ra(T.e/ct)+ra(P.e/ct),P.s*=T.s,E=z.length,S=j.length,E<S&&(_=z,z=j,j=_,b=E,E=S,S=b),b=E+S,_=[];b--;_.push(0));for(D=ja,G=Tu,b=S;--b>=0;){for(F=0,v=j[b]%G,A=j[b]/G|0,d=E,y=b+d;y>b;)x=z[--d]%G,R=z[d]/G|0,p=A*x+R*v,x=v*x+p%G*G+_[y]+F,F=(x/D|0)+(p/G|0)+A*R,_[y--]=x%D;_[y]=F}return F?++U:_.splice(0,1),L(P,_,U)},i.negated=function(){var P=new C(this);return P.s=-P.s||null,P},i.plus=function(P,O){var F,U=this,b=U.s;if(P=new C(P,O),O=P.s,!b||!O)return new C(NaN);if(b!=O)return P.s=-O,U.minus(P);var y=U.e/ct,d=P.e/ct,p=U.c,E=P.c;if(!y||!d){if(!p||!E)return new C(b/0);if(!p[0]||!E[0])return E[0]?P:new C(p[0]?U:b*0)}if(y=ra(y),d=ra(d),p=p.slice(),b=y-d){for(b>0?(d=y,F=E):(b=-b,F=p),F.reverse();b--;F.push(0));F.reverse()}for(b=p.length,O=E.length,b-O<0&&(F=E,E=p,p=F,O=b),b=0;O;)b=(p[--O]=p[O]+E[O]+b)/ja|0,p[O]=ja===p[O]?0:p[O]%ja;return b&&(p=[b].concat(p),++d),L(P,p,d)},i.precision=i.sd=function(P,O){var F,U,b,y=this;if(P!=null&&P!==!!P)return Hr(P,1,xi),O==null?O=a:Hr(O,0,8),$(new C(y),P,O);if(!(F=y.c))return null;if(b=F.length-1,U=b*ct+1,b=F[b]){for(;b%10==0;b/=10,U--);for(b=F[0];b>=10;b/=10,U++);}return P&&y.e+1>U&&(U=y.e+1),U},i.shiftedBy=function(P){return Hr(P,-YI,YI),this.times("1e"+P)},i.squareRoot=i.sqrt=function(){var P,O,F,U,b,y=this,d=y.c,p=y.s,E=y.e,x=o+4,R=new C("0.5");if(p!==1||!d||!d[0])return new C(!p||p<0&&(!d||d[0])?NaN:d?y:1/0);if(p=Math.sqrt(+V(y)),p==0||p==1/0?(O=Zo(d),(O.length+E)%2==0&&(O+="0"),p=Math.sqrt(+O),E=ra((E+1)/2)-(E<0||E%2),p==1/0?O="5e"+E:(O=p.toExponential(),O=O.slice(0,O.indexOf("e")+1)+E),F=new C(O)):F=new C(p+""),F.c[0]){for(E=F.e,p=E+x,p<3&&(p=0);;)if(b=F,F=R.times(b.plus(e(y,b,x,1))),Zo(b.c).slice(0,p)===(O=Zo(F.c)).slice(0,p))if(F.e<E&&--p,O=O.slice(p-3,p+1),O=="9999"||!U&&O=="4999"){if(!U&&($(b,b.e+o+2,0),b.times(b).eq(y))){F=b;break}x+=4,p+=4,U=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&($(F,F.e+o+2,1),P=!F.times(F).eq(y));break}}return $(F,F.e+o+1,a,P)},i.toExponential=function(P,O){return P!=null&&(Hr(P,0,xi),P++),M(this,P,O,1)},i.toFixed=function(P,O){return P!=null&&(Hr(P,0,xi),P=P+this.e+1),M(this,P,O)},i.toFormat=function(P,O,F){var U,b=this;if(F==null)P!=null&&O&&typeof O=="object"?(F=O,O=null):P&&typeof P=="object"?(F=P,P=O=null):F=w;else if(typeof F!="object")throw Error(Zs+"Argument not an object: "+F);if(U=b.toFixed(P,O),b.c){var y,d=U.split("."),p=+F.groupSize,E=+F.secondaryGroupSize,x=F.groupSeparator||"",R=d[0],S=d[1],v=b.s<0,A=v?R.slice(1):R,_=A.length;if(E&&(y=p,p=E,E=y,_-=y),p>0&&_>0){for(y=_%p||p,R=A.substr(0,y);y<_;y+=p)R+=x+A.substr(y,p);E>0&&(R+=x+A.slice(y)),v&&(R="-"+R)}U=S?R+(F.decimalSeparator||"")+((E=+F.fractionGroupSize)?S.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):S):R}return(F.prefix||"")+U+(F.suffix||"")},i.toFraction=function(P){var O,F,U,b,y,d,p,E,x,R,S,v,A=this,_=A.c;if(P!=null&&(p=new C(P),!p.isInteger()&&(p.c||p.s!==1)||p.lt(s)))throw Error(Zs+"Argument "+(p.isInteger()?"out of range: ":"not an integer: ")+V(p));if(!_)return new C(A);for(O=new C(s),x=F=new C(s),U=E=new C(s),v=Zo(_),y=O.e=v.length-A.e-1,O.c[0]=ZI[(d=y%ct)<0?ct+d:d],P=!P||p.comparedTo(O)>0?y>0?O:x:p,d=u,u=1/0,p=new C(v),E.c[0]=0;R=e(p,O,0,1),b=F.plus(R.times(U)),b.comparedTo(P)!=1;)F=U,U=b,x=E.plus(R.times(b=x)),E=b,O=p.minus(R.times(b=O)),p=b;return b=e(P.minus(F),U,0,1),E=E.plus(b.times(x)),F=F.plus(b.times(U)),E.s=x.s=A.s,y=y*2,S=e(x,U,y,a).minus(A).abs().comparedTo(e(E,F,y,a).minus(A).abs())<1?[x,U]:[E,F],u=d,S},i.toNumber=function(){return+V(this)},i.toPrecision=function(P,O){return P!=null&&Hr(P,1,xi),M(this,P,O,2)},i.toString=function(P){var O,F=this,U=F.s,b=F.e;return b===null?U?(O="Infinity",U<0&&(O="-"+O)):O="NaN":(P==null?O=b<=c||b>=f?_1(Zo(F.c),b):Sl(Zo(F.c),b,"0"):P===10&&I?(F=$(new C(F),o+b+1,a),O=Sl(Zo(F.c),F.e,"0")):(Hr(P,2,N.length,"Base"),O=r(Sl(Zo(F.c),b,"0"),10,P,U,!0)),U<0&&F.c[0]&&(O="-"+O)),O},i.valueOf=i.toJSON=function(){return V(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&C.set(t),C}function ra(t){var e=t|0;return t>0||t===e?e:e-1}function Zo(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=ct-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function ad(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,f=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==f,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>f^r?1:-1;for(a=(c=i.length)<(f=s.length)?c:f,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==f?0:c>f^r?1:-1}function Hr(t,e,r,n){if(t<e||t>r||t!==ta(t))throw Error(Zs+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function v1(t){var e=t.c.length-1;return ra(t.e/ct)==e&&t.c[e]%2!=0}function _1(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Sl(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var QI=sK();const eS="0x6BdFE6d2c9C2b3773654C9EF83aFe918A9a7E413",NF="0x3c20A27BC9AAfF1697fBE79F3de66C882F8Ae189",eDe="0x0000000000000000000000000000000000000000",tS=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"intro",type:"address"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"BindIntroLog",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"InvestLog",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"uint256",name:"_round",type:"uint256"},{internalType:"uint256",name:"_tokenAmount",type:"uint256"},{internalType:"uint256",name:"_totalNum",type:"uint256"}],name:"addRand",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"curRoundNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurRoundInfo",outputs:[{components:[{internalType:"uint256",name:"tokenAmount",type:"uint256"},{internalType:"uint256",name:"totalNum",type:"uint256"},{internalType:"uint256",name:"icoNum",type:"uint256"}],internalType:"struct Ico.Round",name:"curRoundInfo",type:"tuple"},{internalType:"uint256",name:"curRound",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"icoBnbAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"intro",type:"address"}],name:"invest",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"isEnd",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"oneRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"recieveAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rootAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"roundInfo",outputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"},{internalType:"uint256",name:"totalNum",type:"uint256"},{internalType:"uint256",name:"icoNum",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_oneRate",type:"uint256"}],name:"setOneRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"intro",type:"address"},{internalType:"address",name:"roundNum",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"},{internalType:"bool",name:"isIco",type:"bool"},{internalType:"bool",name:"isExist",type:"bool"}],stateMutability:"view",type:"function"}],xF=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEAD",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"addExcludeRewardList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"getETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getExcludeRewardList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"handleFeesByOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"haveTakeAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"inSwapAndLiquify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isExcludeAddress",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastRewardPool",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minHandleAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pairAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pancakeRouter",outputs:[{internalType:"contract IPancakeRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeExcludeRewardList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPool",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_denominator",type:"uint256"}],name:"setDenominator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_marketRate",type:"uint256"}],name:"setMarketRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minHandleAmount",type:"uint256"}],name:"setMinHandleAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pairAddress",type:"address"}],name:"setPairAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_poolRate",type:"uint256"}],name:"setPoolRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rewardRate",type:"uint256"}],name:"setRewardRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"setSwapAndLiquifyEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_marketAddress",type:"address"}],name:"setmarketAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapAndLiquifyEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRewardSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],tDe={class:"ico-box"},rDe={class:"ico"},nDe={class:"token-item flex-middle"},iDe={class:"amount"},sDe={class:"token-item flex-middle"},oDe={class:"amount"},aDe={class:"btn-box flex-middle"},cDe={key:0,class:"btn"},fDe={key:1,class:"btn"},lDe=["data-clipboard-text"],uDe={class:"reward-box"},hDe={class:"token-item flex-middle"},dDe={class:"amount"},pDe=ys({__name:"index",setup(t){const e=mt(""),r=mt("0.000"),n=mt("0.000"),i=mt("0.000"),s=mt(!1),o=mt(!1),a=mt(localStorage.getItem("intro")||eDe),c=Pz({namespace:"eip155"});c.value.isConnected&&m();const f=async()=>{const{walletProvider:w}=dm("eip155");console.log(w,"walletProvider");const I=await new zu(w).getSigner(),C=new ap(eS,tS,I),{curRoundInfo:M}=await C.getCurRoundInfo(),k=await C.icoBnbAmount(),L=await C.isEnd();s.value=L,console.log(L,"contract-isEndInfo"),r.value=new QI(M.tokenAmount.toString()).dividedBy(10**18).toFixed(),n.value=new QI(k.toString()).dividedBy(10**18).toFixed()},l=async()=>{const{walletProvider:w}=dm("eip155");console.log(w,"walletProvider");const I=await new zu(w).getSigner(),M=await new ap(eS,tS,I).userInfo(c.value.address);console.log(M,"contract-userInfo"),o.value=M.isIco},u=async()=>{const{walletProvider:w}=dm("eip155");console.log(w,"walletProvider");const I=await new zu(w).getSigner(),M=await new ap(NF,xF,I).earned(c.value.address);i.value=new QI(M.toString()).dividedBy(10**18).toFixed()},h=async w=>{try{const{walletProvider:N}=dm("eip155"),I=new zu(N),C=await I.getGasPrice(),M=await I.getSigner(),k=new ap(eS,tS,M);if(!(await k.userInfo(a.value)).isExist){id("推荐人未参与");return}const $=await k.icoBnbAmount();await k.estimateGas.invest(a.value,{value:$.toString()}),await(await k.invest(a.value,{gasPrice:C.toString(),value:$.toString()})).wait(),id("参与成功"),m()}catch(N){id("参与失败"),console.log(N)}},g=async w=>{try{const{walletProvider:N}=dm("eip155"),I=new zu(N),C=await I.getGasPrice(),M=await I.getSigner(),k=new ap(NF,xF,M);await k.estimateGas.getReward(),await(await k.getReward({gasPrice:C.toString()})).wait(),id("领取成功"),m()}catch(N){id("领取失败"),console.log(N)}};wi(()=>c.value.isConnected,(w,N)=>{console.log("钱包地址变化:",w),w&&m()},{deep:!0});const m=()=>{e.value=`${window.location.origin}${window.location.pathname}#/?intro=${c.value.address}`;var w=new Z7e(".copy-btn");w.on("success",function(N){id("复制成功"),N.clearSelection()}),w.on("error",function(){id("复制失败")}),f(),l(),u()};return(w,N)=>(Ff(),dp(ro,null,[$e(X7e,{isShowBack:!1,title:""}),$r("div",tDe,[$r("div",rDe,[$r("div",nDe,[N[0]||(N[0]=$r("div",{class:"token flex-item flex-middle"},[$r("img",{class:"token-logo",src:gCe,alt:""}),$r("div",{class:"name"},"BNB")],-1)),$r("div",iDe,Ap(n.value),1)]),N[2]||(N[2]=$r("div",{class:"bz-box flex-middle"},[$r("img",{class:"token-logo",src:mCe,alt:""})],-1)),$r("div",sDe,[N[1]||(N[1]=$r("div",{class:"token flex-item flex-middle"},[$r("img",{class:"token-logo",src:bCe,alt:""}),$r("div",{class:"name"},"Roro")],-1)),$r("div",oDe,Ap(r.value),1)]),$r("div",aDe,[s.value?(Ff(),dp("div",cDe," 已结束 ")):o.value?(Ff(),dp("div",fDe," 已参与 ")):(Ff(),dp("div",{key:2,class:"btn",onClick:h}," 确认参与 "))])]),$r("div",{class:"copy-btn","data-clipboard-text":e.value}," 邀请链接(点击即复制) ",8,lDe),$r("div",uDe,[$r("div",hDe,[N[3]||(N[3]=$r("div",{class:"token flex-item flex-middle"},[$r("div",{class:"name"},"Roro 分红(BNB)")],-1)),$r("div",dDe,Ap(i.value),1)]),$r("div",{class:"reward-btn",onClick:g}," 领取 ")]),N[4]||(N[4]=JJ('<div class="she-jiao flex-middle" data-v-51473ff4><div class="left" data-v-51473ff4><img src="'+ECe+'" alt="" data-v-51473ff4></div><div class="right flex-item" data-v-51473ff4><div class="socital-item flex-middle" data-v-51473ff4><div class="socital flex-item flex-middle" data-v-51473ff4><img class="token-logo" src="'+yCe+'" alt="" data-v-51473ff4><div class="name" data-v-51473ff4>Follow on X/Twitter</div></div></div><div class="socital-item flex-middle" data-v-51473ff4><div class="socital flex-item flex-middle" data-v-51473ff4><img class="token-logo" src="'+wCe+'" alt="" data-v-51473ff4><div class="name" data-v-51473ff4>Join Our Telegram</div></div></div><div class="socital-item flex-middle" data-v-51473ff4><div class="socital flex-item flex-middle" data-v-51473ff4><img class="token-logo" src="'+vCe+'" alt="" data-v-51473ff4><div class="name" data-v-51473ff4>Visit Roro&#39;Home</div></div></div></div></div><div class="info-box" data-v-51473ff4> 文字规则说明文字规则说明文字规则说明文字 </div>',2))])],64))}});const gDe=nK(pDe,[["__scopeId","data-v-51473ff4"]]),mDe=[{path:"/",name:"Index",component:gDe}],rT=hCe({history:jTe(),routes:mDe});function bDe(t){return typeof t=="object"&&t!==null}function IF(t,e){return t=bDe(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function EDe(t,e){return e.reduce((r,n)=>r==null?void 0:r[n],t)}function yDe(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function wDe(t,e){return e.reduce((r,n)=>{const i=n.split(".");return yDe(r,i,EDe(t,i))},{})}function vDe(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=e.$id,paths:f=null,debug:l=!1}=r;return{storage:i,beforeRestore:s,afterRestore:o,serializer:a,key:((n=t.key)!=null?n:u=>u)(typeof c=="string"?c:c(e.$id)),paths:f,debug:l}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function SF(t,{storage:e,serializer:r,key:n,debug:i}){try{const s=e==null?void 0:e.getItem(n);s&&t.$patch(r==null?void 0:r.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function RF(t,{storage:e,serializer:r,key:n,paths:i,debug:s}){try{const o=Array.isArray(i)?wDe(t,i):t;e.setItem(n,r.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function _De(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:s}=e;if(!n)return;if(!(i.$id in s.state.value)){const a=s._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>IF(a,t)):[IF(n,t)]).map(vDe(t,i)).filter(Boolean);i.$persist=()=>{o.forEach(a=>{RF(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{const{beforeRestore:f,afterRestore:l}=c;a&&(f==null||f(e)),SF(i,c),a&&(l==null||l(e))})},o.forEach(a=>{const{beforeRestore:c,afterRestore:f}=a;c==null||c(e),SF(i,a),f==null||f(e),i.$subscribe((l,u)=>{RF(u,a)},{detached:!0})})}}var ADe=_De();const oK=Y8e();oK.use(ADe);var NDe=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,xDe=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,IDe=/[^-+\dA-Z]/g;function SDe(t,e,r,n){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String(TF[e]||e||TF.default);var i=e.slice(0,4);(i==="UTC:"||i==="GMT:")&&(e=e.slice(4),r=!0,i==="GMT:"&&(n=!0));var s=function(){return r?"getUTC":"get"},o=function(){return t[s()+"Date"]()},a=function(){return t[s()+"Day"]()},c=function(){return t[s()+"Month"]()},f=function(){return t[s()+"FullYear"]()},l=function(){return t[s()+"Hours"]()},u=function(){return t[s()+"Minutes"]()},h=function(){return t[s()+"Seconds"]()},g=function(){return t[s()+"Milliseconds"]()},m=function(){return r?0:t.getTimezoneOffset()},w=function(){return RDe(t)},N=function(){return TDe(t)},I={d:function(){return o()},dd:function(){return po(o())},ddd:function(){return Xs.dayNames[a()]},DDD:function(){return CF({y:f(),m:c(),d:o(),_:s(),dayName:Xs.dayNames[a()],short:!0})},dddd:function(){return Xs.dayNames[a()+7]},DDDD:function(){return CF({y:f(),m:c(),d:o(),_:s(),dayName:Xs.dayNames[a()+7]})},m:function(){return c()+1},mm:function(){return po(c()+1)},mmm:function(){return Xs.monthNames[c()]},mmmm:function(){return Xs.monthNames[c()+12]},yy:function(){return String(f()).slice(2)},yyyy:function(){return po(f(),4)},h:function(){return l()%12||12},hh:function(){return po(l()%12||12)},H:function(){return l()},HH:function(){return po(l())},M:function(){return u()},MM:function(){return po(u())},s:function(){return h()},ss:function(){return po(h())},l:function(){return po(g(),3)},L:function(){return po(Math.floor(g()/10))},t:function(){return l()<12?Xs.timeNames[0]:Xs.timeNames[1]},tt:function(){return l()<12?Xs.timeNames[2]:Xs.timeNames[3]},T:function(){return l()<12?Xs.timeNames[4]:Xs.timeNames[5]},TT:function(){return l()<12?Xs.timeNames[6]:Xs.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":CDe(t)},o:function(){return(m()>0?"-":"+")+po(Math.floor(Math.abs(m())/60)*100+Math.abs(m())%60,4)},p:function(){return(m()>0?"-":"+")+po(Math.floor(Math.abs(m())/60),2)+":"+po(Math.floor(Math.abs(m())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return w()},WW:function(){return po(w())},N:function(){return N()}};return e.replace(NDe,function(C){return C in I?I[C]():C.slice(1,C.length-1)})}var TF={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},Xs={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},po=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(r,"0")},CF=function(e){var r=e.y,n=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,c=a===void 0?!1:a,f=new Date,l=new Date;l.setDate(l[s+"Date"]()-1);var u=new Date;u.setDate(u[s+"Date"]()+1);var h=function(){return f[s+"Date"]()},g=function(){return f[s+"Month"]()},m=function(){return f[s+"FullYear"]()},w=function(){return l[s+"Date"]()},N=function(){return l[s+"Month"]()},I=function(){return l[s+"FullYear"]()},C=function(){return u[s+"Date"]()},M=function(){return u[s+"Month"]()},k=function(){return u[s+"FullYear"]()};return m()===r&&g()===n&&h()===i?c?"Tdy":"Today":I()===r&&N()===n&&w()===i?c?"Ysd":"Yesterday":k()===r&&M()===n&&C()===i?c?"Tmw":"Tomorrow":o},RDe=function(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=new Date(r.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=r.getTimezoneOffset()-n.getTimezoneOffset();r.setHours(r.getHours()-i);var s=(r-n)/(864e5*7);return 1+Math.floor(s)},TDe=function(e){var r=e.getDay();return r===0&&(r=7),r},CDe=function(e){return(String(e).match(xDe)||[""]).pop().replace(IDe,"").replace(/GMT\+0000/g,"UTC")};let ODe=t=>{if(!t||t==="0")return{};let e=decodeURIComponent(t).split("&"),r={};return e.forEach(n=>{let i=n.split("=");i.length===1?r.id=i[0]:r[i[0]]=i[1]}),r},A1=window.location.href.replace(/#/g,"").replace(/\?utm_source=tokenpocket/g,"");if(A1.includes("?")){let t=A1.slice(A1.indexOf("?")+1,A1.length),e=ODe(t);e.intro&&localStorage.setItem("intro",e.intro)}const l5=Y$(lTe);l5.config.globalProperties.$goBack=()=>{history.length>0?rT.go(-1):rT.push({name:"Welcome"})};l5.config.globalProperties.$dateformat=SDe;l5.use(rT).use(tT).use(oK).mount("#app");export{og as $,Fe as A,qe as B,ft as C,Ym as D,rz as E,UDe as F,dt as G,PDe as H,mge as I,Hc as J,Hke as K,Bke as L,vn as M,ky as N,be as O,uR as P,$1 as Q,rr as R,qi as S,os as T,rb as U,Ri as V,wn as W,yn as X,jke as Y,hR as Z,Ez as _,va as a,na as a0,fne as a1,pke as a2,zT as a3,V8 as a4,ry as a5,Eke as a6,yke as a7,gke as a8,Zre as a9,lne as aa,mke as ab,bke as b,G1 as c,Wl as d,Vi as e,_e as f,Zr as g,Ke as h,Rp as i,Rr as j,Wke as k,xo as l,Q as m,Sr as n,xr as o,mEe as p,De as q,zke as r,wke as s,YP as t,tB as u,Yr as v,ks as w,$ke as x,To as y,XP as z};
